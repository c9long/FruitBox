  [1m[35m (101.2ms)[0m  [1m[35mCREATE DATABASE "fruit_box_development" ENCODING = 'unicode' /*application='FruitBox'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY) /*application='FruitBox'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Started GET "/" for 127.0.0.1 at 2025-06-27 10:29:22 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | GC: 0.0ms)
Completed 200 OK in 68ms (Views: 7.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.3ms)


Started GET "/assets/application-8b441ae0.css" for 127.0.0.1 at 2025-06-27 10:29:23 -0400
Started GET "/assets/application-b94e4fc0.js" for 127.0.0.1 at 2025-06-27 10:29:23 -0400
Started GET "/" for 127.0.0.1 at 2025-06-27 10:34:59 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.0ms | GC: 0.0ms)
Completed 200 OK in 48ms (Views: 9.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-fab0a99a.js" for 127.0.0.1 at 2025-06-27 10:34:59 -0400
Started GET "/" for 127.0.0.1 at 2025-06-27 10:43:05 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.0ms)
Completed 200 OK in 40ms (Views: 3.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-7a4418c4.css" for 127.0.0.1 at 2025-06-27 10:43:05 -0400
Started GET "/assets/application.tailwind-ee41ae41.css" for 127.0.0.1 at 2025-06-27 10:43:05 -0400
Started GET "/assets/tailwindcss" for 127.0.0.1 at 2025-06-27 10:43:05 -0400
Started GET "/" for 127.0.0.1 at 2025-06-27 10:45:21 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 42ms (Views: 1.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.4ms)


Started GET "/assets/application-f527c5e4.js" for 127.0.0.1 at 2025-06-27 10:45:21 -0400
Started GET "/assets/tailwindcss" for 127.0.0.1 at 2025-06-27 10:45:21 -0400
Started GET "/" for 127.0.0.1 at 2025-06-27 10:45:39 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | GC: 0.0ms)
Completed 200 OK in 34ms (Views: 1.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/tailwindcss" for 127.0.0.1 at 2025-06-27 10:45:39 -0400
Started GET "/" for 127.0.0.1 at 2025-06-27 10:48:09 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 41ms (Views: 2.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)


Started GET "/assets/application-b41ca83c.js" for 127.0.0.1 at 2025-06-27 10:48:09 -0400
Started GET "/assets/tailwindcss" for 127.0.0.1 at 2025-06-27 10:48:09 -0400
Started GET "/" for 127.0.0.1 at 2025-06-27 10:48:16 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | GC: 0.0ms)
Completed 200 OK in 30ms (Views: 1.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/tailwindcss" for 127.0.0.1 at 2025-06-27 10:48:16 -0400
Started GET "/" for 127.0.0.1 at 2025-06-27 10:51:07 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 36ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-4cca568c.js" for 127.0.0.1 at 2025-06-27 10:51:07 -0400
Started GET "/assets/tailwindcss" for 127.0.0.1 at 2025-06-27 10:51:07 -0400
Started GET "/" for 127.0.0.1 at 2025-06-27 10:53:57 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 41ms (Views: 3.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-dd623eb5.js" for 127.0.0.1 at 2025-06-27 10:53:57 -0400
Started GET "/assets/tailwindcss" for 127.0.0.1 at 2025-06-27 10:53:57 -0400
Started GET "/" for 127.0.0.1 at 2025-06-27 11:03:02 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 28ms (Views: 3.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)


Started GET "/assets/application-84057f10.js" for 127.0.0.1 at 2025-06-27 11:03:02 -0400
Started GET "/assets/tailwindcss" for 127.0.0.1 at 2025-06-27 11:03:02 -0400
Started GET "/" for 127.0.0.1 at 2025-06-27 11:04:51 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 2.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-0a9579db.js" for 127.0.0.1 at 2025-06-27 11:04:51 -0400
Started GET "/assets/tailwindcss" for 127.0.0.1 at 2025-06-27 11:04:51 -0400
Started GET "/" for 127.0.0.1 at 2025-06-27 11:06:10 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 30ms (Views: 3.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.1ms)


Started GET "/assets/application-43f1d53d.css" for 127.0.0.1 at 2025-06-27 11:06:10 -0400
Started GET "/assets/tailwindcss" for 127.0.0.1 at 2025-06-27 11:06:10 -0400
Started GET "/" for 127.0.0.1 at 2025-06-27 11:06:41 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 27ms (Views: 2.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.7ms)


Started GET "/assets/application-4fab035d.css" for 127.0.0.1 at 2025-06-27 11:06:41 -0400
Started GET "/assets/application-da2a2ea8.js" for 127.0.0.1 at 2025-06-27 11:06:41 -0400
Started GET "/assets/tailwindcss" for 127.0.0.1 at 2025-06-27 11:06:41 -0400
Started GET "/" for 127.0.0.1 at 2025-06-27 11:10:08 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 31ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-62daee8d.js" for 127.0.0.1 at 2025-06-27 11:10:08 -0400
Started GET "/assets/tailwindcss" for 127.0.0.1 at 2025-06-27 11:10:08 -0400
Started GET "/" for 127.0.0.1 at 2025-06-27 11:12:49 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 38ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 3.2ms)


Started GET "/assets/application-fb0eb1c0.js" for 127.0.0.1 at 2025-06-27 11:12:49 -0400
Started GET "/assets/tailwindcss" for 127.0.0.1 at 2025-06-27 11:12:49 -0400
Started GET "/" for 127.0.0.1 at 2025-06-27 11:17:14 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/tailwindcss" for 127.0.0.1 at 2025-06-27 11:17:14 -0400
Started GET "/" for 127.0.0.1 at 2025-06-27 11:20:12 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 21ms (Views: 1.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/tailwindcss" for 127.0.0.1 at 2025-06-27 11:20:12 -0400
Started GET "/" for 127.0.0.1 at 2025-06-27 11:25:58 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.6ms | GC: 0.0ms)
Completed 200 OK in 27ms (Views: 0.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/tailwindcss" for 127.0.0.1 at 2025-06-27 11:25:58 -0400
Started GET "/" for 127.0.0.1 at 2025-06-27 11:26:13 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 200 OK in 36ms (Views: 1.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/tailwindcss" for 127.0.0.1 at 2025-06-27 11:26:14 -0400
Started GET "/" for 127.0.0.1 at 2025-06-27 11:26:52 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 26ms (Views: 1.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/tailwindcss" for 127.0.0.1 at 2025-06-27 11:26:53 -0400
Started GET "/" for 127.0.0.1 at 2025-06-27 11:29:43 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/tailwindcss" for 127.0.0.1 at 2025-06-27 11:29:43 -0400
Started GET "/" for 127.0.0.1 at 2025-06-27 11:29:58 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | GC: 0.0ms)
Completed 200 OK in 36ms (Views: 0.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/tailwindcss" for 127.0.0.1 at 2025-06-27 11:29:58 -0400
Started GET "/assets/tailwindcss" for 127.0.0.1 at 2025-06-27 11:30:43 -0400
Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 11:30:43 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/assets/application-d7292041.js.map" for 127.0.0.1 at 2025-06-27 11:30:43 -0400
Started GET "/" for 127.0.0.1 at 2025-06-27 11:31:23 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 200 OK in 22ms (Views: 1.6ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 11:31:23 -0400
Started GET "/assets/tailwindcss" for 127.0.0.1 at 2025-06-27 11:31:23 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/" for 127.0.0.1 at 2025-06-27 11:32:01 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 200 OK in 21ms (Views: 1.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 11:32:01 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/" for 127.0.0.1 at 2025-06-27 11:35:10 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.2ms)
Completed 200 OK in 24ms (Views: 2.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 11:35:10 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/" for 127.0.0.1 at 2025-06-27 11:36:47 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.6ms | GC: 0.0ms)
Completed 200 OK in 38ms (Views: 0.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 11:36:47 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/" for 127.0.0.1 at 2025-06-27 11:37:49 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | GC: 0.0ms)
Completed 200 OK in 26ms (Views: 0.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 11:37:49 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/" for 127.0.0.1 at 2025-06-27 11:38:11 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 21ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 11:38:11 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/" for 127.0.0.1 at 2025-06-27 11:38:38 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 2.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.5ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 11:38:38 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/" for 127.0.0.1 at 2025-06-27 11:39:30 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.3ms)
Completed 200 OK in 26ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.3ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 11:39:30 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Writing application-23a47820.js.map
Writing application-2c150c55.css
Writing application-fdb61fee.js
Writing application.tailwind-ee41ae41.css
Writing stimulus.min-4b1e420e.js
Writing stimulus-d59b3b7f.js
Writing stimulus.min-2395e199.js.map
Writing stimulus-importmap-autoloader-64cc03e1.js
Writing stimulus-autoloader-9d447422.js
Writing stimulus-loading-1fc53fe7.js
Writing turbo.min-5f3b7fda.js.map
Writing turbo-a1e3a50a.js
Writing turbo.min-3a2e143f.js
Writing actiontext.esm-f1c04d34.js
Writing actiontext-a4ee937e.js
Writing trix-4b540cb5.js
Writing trix-65afdb1d.css
Writing action_cable-5212cfee.js
Writing actioncable.esm-e0ec9819.js
Writing actioncable-ac25813f.js
Writing activestorage.esm-f2909226.js
Writing activestorage-32201f68.js
Writing rails-ujs.esm-e925103b.js
Writing rails-ujs-20eaf715.js
Started GET "/" for 127.0.0.1 at 2025-06-27 11:40:23 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 31ms (Views: 1.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 11:40:23 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/" for 127.0.0.1 at 2025-06-27 11:42:51 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | GC: 0.0ms)
Completed 200 OK in 22ms (Views: 1.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 11:42:52 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/" for 127.0.0.1 at 2025-06-27 11:47:32 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.6ms | GC: 0.0ms)
Completed 200 OK in 33ms (Views: 0.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 11:47:32 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
  [1m[36mCACHE ActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-06-27 17:02:39.949047', '2025-06-27 17:02:39.949049') RETURNING "key" /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Migrating to CreateGameRooms (20250627170235)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='FruitBox'*/[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "game_rooms" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "room_code" varchar, "max_players" integer, "status" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250627170235') RETURNING "version" /*application='FruitBox'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Migrating to CreatePlayers (20250627170244)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='FruitBox'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "players" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "game_room_id" integer NOT NULL, "name" varchar, "score" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_871e26061f"
FOREIGN KEY ("game_room_id")
  REFERENCES "game_rooms" ("id")
) /*application='FruitBox'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_players_on_game_room_id" ON "players" ("game_room_id") /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250627170244') RETURNING "version" /*application='FruitBox'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='FruitBox'*/[0m
Migrating to CreateGameMoves (20250627170249)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='FruitBox'*/[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "game_moves" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "game_room_id" integer NOT NULL, "player_id" integer NOT NULL, "start_row" integer, "start_col" integer, "end_row" integer, "end_col" integer, "points_earned" integer, "board_state" text, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_2c9c772518"
FOREIGN KEY ("game_room_id")
  REFERENCES "game_rooms" ("id")
, CONSTRAINT "fk_rails_453033e511"
FOREIGN KEY ("player_id")
  REFERENCES "players" ("id")
) /*application='FruitBox'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_game_moves_on_game_room_id" ON "game_moves" ("game_room_id") /*application='FruitBox'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_game_moves_on_player_id" ON "game_moves" ("player_id") /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250627170249') RETURNING "version" /*application='FruitBox'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Started GET "/" for 127.0.0.1 at 2025-06-27 13:06:32 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.6ms | GC: 0.0ms)
Completed 500 Internal Server Error in 22ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `multiplayer_path' for an instance of #<Class:0x0000000130b13678>)
Caused by: NameError (undefined local variable or method `multiplayer_path' for an instance of #<Class:0x0000000130b13678>)

Information for: ActionView::Template::Error (undefined local variable or method `multiplayer_path' for an instance of #<Class:0x0000000130b13678>):
    18:     
    19:     <!-- Multiplayer Link -->
    20:     <div class="text-center mb-6">
    21:       <%= link_to multiplayer_path, class: "inline-block bg-purple-500 text-white font-semibold px-6 py-3 rounded-lg hover:bg-purple-600 transition-colors" do %>
    22:         🎮 Play Multiplayer
    23:       <% end %>
    24:     </div>
  
app/views/game/index.html.erb:21

Information for cause: NameError (undefined local variable or method `multiplayer_path' for an instance of #<Class:0x0000000130b13678>):
  
app/views/game/index.html.erb:21
Started GET "/favicon.ico" for 127.0.0.1 at 2025-06-27 13:06:33 -0400
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/" for 127.0.0.1 at 2025-06-27 13:06:46 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 500 Internal Server Error in 45ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined local variable or method `multiplayer_path' for an instance of #<Class:0x00000001388b5518>)
Caused by: NameError (undefined local variable or method `multiplayer_path' for an instance of #<Class:0x00000001388b5518>)

Information for: ActionView::Template::Error (undefined local variable or method `multiplayer_path' for an instance of #<Class:0x00000001388b5518>):
    18:     
    19:     <!-- Multiplayer Link -->
    20:     <div class="text-center mb-6">
    21:       <%= link_to multiplayer_path, class: "inline-block bg-purple-500 text-white font-semibold px-6 py-3 rounded-lg hover:bg-purple-600 transition-colors" do %>
    22:         🎮 Play Multiplayer
    23:       <% end %>
    24:     </div>
  
app/views/game/index.html.erb:21

Information for cause: NameError (undefined local variable or method `multiplayer_path' for an instance of #<Class:0x00000001388b5518>):
  
app/views/game/index.html.erb:21
Started GET "/" for 127.0.0.1 at 2025-06-27 13:07:17 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | GC: 2.2ms)
Completed 200 OK in 27ms (Views: 4.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 2.2ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:07:18 -0400
Processing by GameController#multiplayer as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 22.4ms | GC: 1.5ms)
  Rendered layout layouts/application.html.erb (Duration: 22.7ms | GC: 1.5ms)
Completed 200 OK in 58ms (Views: 21.8ms | ActiveRecord: 1.2ms (0 queries, 0 cached) | GC: 1.5ms)


Started POST "/game/create_room" for 127.0.0.1 at 2025-06-27 13:07:27 -0400
Processing by GameController#create_room as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "game_room"=>{"name"=>"test room", "max_players"=>"2"}, "commit"=>"Create Room"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:12:in `create_room'
  [1m[36mGameRoom Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' LIMIT 1 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:12:in `create_room'
  [1m[36mGameRoom Create (0.1ms)[0m  [1m[32mINSERT INTO "game_rooms" ("name", "room_code", "max_players", "status", "created_at", "updated_at") VALUES ('test room', 'LC28KA', 2, NULL, '2025-06-27 17:07:27.674922', '2025-06-27 17:07:27.674922') RETURNING "id" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:12:in `create_room'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:12:in `create_room'
Redirected to http://127.0.0.1:3000/game/join/LC28KA
Completed 302 Found in 37ms (ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.4ms)


Started GET "/game/join/LC28KA" for 127.0.0.1 at 2025-06-27 13:07:27 -0400
Processing by GameController#join_room as TURBO_STREAM
  Parameters: {"room_code"=>"LC28KA"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'LC28KA' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:20:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:14
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 1[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.0ms)
Completed 200 OK in 35ms (Views: 2.7ms | ActiveRecord: 0.4ms (4 queries, 1 cached) | GC: 0.5ms)


Started GET "/game/room/LC28KA?player%5Bname%5D=Chris&commit=Join+Game" for 127.0.0.1 at 2025-06-27 13:07:35 -0400
Processing by GameController#room as HTML
  Parameters: {"player"=>{"name"=>"Chris"}, "commit"=>"Join Game", "room_code"=>"LC28KA"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'LC28KA' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:25:in `room'
Completed 422 Unprocessable Content in 37ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


  
ActiveRecord::RecordInvalid (Validation failed: Score is not a number):
  
app/controllers/game_controller.rb:29:in `room'
Started GET "/game/join/LC28KA" for 127.0.0.1 at 2025-06-27 13:07:35 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"LC28KA"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'LC28KA' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:20:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:14
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 1[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 1.4ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.2ms)
Completed 200 OK in 20ms (Views: 1.8ms | ActiveRecord: 0.1ms (4 queries, 1 cached) | GC: 0.2ms)


Started GET "/game/room/LC28KA?player%5Bname%5D=chris2&commit=Join+Game" for 127.0.0.1 at 2025-06-27 13:07:42 -0400
Processing by GameController#room as HTML
  Parameters: {"player"=>{"name"=>"chris2"}, "commit"=>"Join Game", "room_code"=>"LC28KA"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'LC28KA' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:25:in `room'
Completed 422 Unprocessable Content in 22ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 1.4ms)


  
ActiveRecord::RecordInvalid (Validation failed: Score is not a number):
  
app/controllers/game_controller.rb:29:in `room'
Started GET "/game/join/LC28KA" for 127.0.0.1 at 2025-06-27 13:07:42 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"LC28KA"}
  [1m[36mGameRoom Load (0.4ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'LC28KA' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:20:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:14
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 1[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.8ms | GC: 1.6ms)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 1.8ms)
Completed 200 OK in 23ms (Views: 3.8ms | ActiveRecord: 0.4ms (4 queries, 1 cached) | GC: 3.2ms)


Started GET "/game/join/LC28KA" for 127.0.0.1 at 2025-06-27 13:12:51 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"LC28KA"}
  [1m[36mGameRoom Load (0.5ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'LC28KA' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:20:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:14
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 1[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 29ms (Views: 3.2ms | ActiveRecord: 0.6ms (4 queries, 1 cached) | GC: 0.8ms)


Started POST "/game/join/LC28KA" for 127.0.0.1 at 2025-06-27 13:12:56 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"Chris"}, "commit"=>"Join Game", "room_code"=>"LC28KA"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'LC28KA' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:25:in `join_game'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 1[0m
  ↳ app/views/game/join_room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:14
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 1[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 3.1ms | GC: 1.8ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 1.8ms)
Completed 422 Unprocessable Content in 36ms (Views: 3.5ms | ActiveRecord: 0.2ms (5 queries, 2 cached) | GC: 1.8ms)


Started POST "/game/join/LC28KA" for 127.0.0.1 at 2025-06-27 13:12:59 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"Chris2"}, "commit"=>"Join Game", "room_code"=>"LC28KA"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'LC28KA' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:25:in `join_game'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 1[0m
  ↳ app/views/game/join_room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:14
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 1[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 35ms (Views: 1.6ms | ActiveRecord: 0.2ms (5 queries, 2 cached) | GC: 0.3ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:13:45 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/join/LC28KA" for 127.0.0.1 at 2025-06-27 13:13:52 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"Chris2"}, "commit"=>"Join Game", "room_code"=>"LC28KA"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'LC28KA' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:25:in `join_game'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 1[0m
  ↳ app/views/game/join_room.html.erb:12
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:14
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 1[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 4.3ms | GC: 2.3ms)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | GC: 2.3ms)
Completed 422 Unprocessable Content in 40ms (Views: 4.7ms | ActiveRecord: 0.2ms (5 queries, 2 cached) | GC: 2.3ms)


Started GET "/game/join/LC28KA" for 127.0.0.1 at 2025-06-27 13:16:31 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"LC28KA"}
  [1m[36mGameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'LC28KA' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:20:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:14
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.3ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.2ms)
Completed 500 Internal Server Error in 34ms (ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 0.7ms)


  
ActionView::Template::Error (undefined method `%' for nil)
Caused by: NoMethodError (undefined method `%' for nil)

Information for: ActionView::Template::Error (undefined method `%' for nil):
    14:           <% @game_room.players.each do |player| %>
    15:             <div class="flex items-center justify-between p-3 bg-gray-50 rounded">
    16:               <div class="flex items-center">
    17:                 <div class="w-3 h-3 rounded-full mr-3" style="background-color: <%= player.color %>"></div>
    18:                 <span class="font-medium"><%= player.name %></span>
    19:               </div>
    20:               <span class="text-sm text-gray-500">Score: <%= player.score %></span>
  
app/models/player.rb:11:in `color'
app/views/game/join_room.html.erb:17
app/views/game/join_room.html.erb:14

Information for cause: NoMethodError (undefined method `%' for nil):
  
app/models/player.rb:11:in `color'
app/views/game/join_room.html.erb:17
app/views/game/join_room.html.erb:14
Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:16:31 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/" for 127.0.0.1 at 2025-06-27 13:16:39 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 21ms (Views: 1.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:16:39 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:16:41 -0400
Processing by GameController#multiplayer as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.4ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.1ms)
Completed 200 OK in 28ms (Views: 1.9ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)


Started POST "/game/create_room" for 127.0.0.1 at 2025-06-27 13:16:46 -0400
Processing by GameController#create_room as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "game_room"=>{"name"=>"test room", "max_players"=>"2"}, "commit"=>"Create Room"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:12:in `create_room'
  [1m[36mGameRoom Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' LIMIT 1 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:12:in `create_room'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:12:in `create_room'
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 0.8ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | GC: 0.1ms)
Completed 422 Unprocessable Content in 30ms (Views: 1.2ms | ActiveRecord: 0.7ms (1 query, 0 cached) | GC: 0.1ms)


  [1m[36mGameRoom Load (1.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*application='FruitBox'*/[0m
  ↳ lib/tasks/cleanup_rooms.rake:5:in `block (2 levels) in <main>'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 1 /*application='FruitBox'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 1 /*application='FruitBox'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 1 /*application='FruitBox'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 1 /*application='FruitBox'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 1 /*application='FruitBox'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*application='FruitBox'*/[0m
  ↳ app/models/game_room.rb:60:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 1 /*application='FruitBox'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 1 /*application='FruitBox'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 1 /*application='FruitBox'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."id" = 1 /*application='FruitBox'*/[0m
  ↳ app/models/game_room.rb:64:in `cleanup_old_rooms'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='FruitBox'*/[0m
  ↳ app/models/game_room.rb:64:in `cleanup_old_rooms'
  [1m[36mPlayer Load (0.5ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 1 /*application='FruitBox'*/[0m
  ↳ app/models/game_room.rb:64:in `cleanup_old_rooms'
  [1m[36mGameMove Load (0.0ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."game_room_id" = 1 /*application='FruitBox'*/[0m
  ↳ app/models/game_room.rb:64:in `cleanup_old_rooms'
  [1m[36mGameRoom Destroy (0.0ms)[0m  [1m[31mDELETE FROM "game_rooms" WHERE "game_rooms"."id" = 1 /*application='FruitBox'*/[0m
  ↳ app/models/game_room.rb:64:in `cleanup_old_rooms'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='FruitBox'*/[0m
  ↳ app/models/game_room.rb:64:in `cleanup_old_rooms'
Started POST "/game/create_room" for 127.0.0.1 at 2025-06-27 13:20:36 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Processing by GameController#create_room as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "game_room"=>{"name"=>"test room", "max_players"=>"2"}, "commit"=>"Create Room"}
  [1m[36mGameRoom Load (0.6ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:60:in `cleanup_old_rooms'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' LIMIT 1 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Create (0.1ms)[0m  [1m[32mINSERT INTO "game_rooms" ("name", "room_code", "max_players", "status", "created_at", "updated_at") VALUES ('test room', 'AOZYHJ', 2, NULL, '2025-06-27 17:20:36.350604', '2025-06-27 17:20:36.350604') RETURNING "id" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
Redirected to http://127.0.0.1:3000/game/join/AOZYHJ
Completed 302 Found in 28ms (ActiveRecord: 1.5ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/join/AOZYHJ" for 127.0.0.1 at 2025-06-27 13:20:36 -0400
Processing by GameController#join_room as TURBO_STREAM
  Parameters: {"room_code"=>"AOZYHJ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AOZYHJ' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 2 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 2 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:14
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.8ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.7ms)
Completed 500 Internal Server Error in 28ms (ActiveRecord: 0.5ms (3 queries, 0 cached) | GC: 3.7ms)


  
ActionView::Template::Error (undefined method `%' for nil)
Caused by: NoMethodError (undefined method `%' for nil)

Information for: ActionView::Template::Error (undefined method `%' for nil):
    14:           <% @game_room.players.each do |player| %>
    15:             <div class="flex items-center justify-between p-3 bg-gray-50 rounded">
    16:               <div class="flex items-center">
    17:                 <div class="w-3 h-3 rounded-full mr-3" style="background-color: <%= player.color %>"></div>
    18:                 <span class="font-medium"><%= player.name %></span>
    19:               </div>
    20:               <span class="text-sm text-gray-500">Score: <%= player.score %></span>
  
app/models/player.rb:11:in `color'
app/views/game/join_room.html.erb:17
app/views/game/join_room.html.erb:14

Information for cause: NoMethodError (undefined method `%' for nil):
  
app/models/player.rb:11:in `color'
app/views/game/join_room.html.erb:17
app/views/game/join_room.html.erb:14
Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:21:20 -0400
Processing by GameController#multiplayer as HTML
  [1m[36mGameRoom Load (0.6ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:60:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 2 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.1ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 2 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 2 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 43ms (Views: 3.5ms | ActiveRecord: 1.3ms (4 queries, 0 cached) | GC: 3.5ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:21:20 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/create_room" for 127.0.0.1 at 2025-06-27 13:21:24 -0400
Processing by GameController#create_room as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "game_room"=>{"name"=>"test room", "max_players"=>"2"}, "commit"=>"Create Room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:60:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 2 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 2 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 2 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' LIMIT 1 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 38ms (Views: 1.6ms | ActiveRecord: 0.9ms (5 queries, 0 cached) | GC: 0.0ms)


  [1m[36mGameRoom Load (1.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*application='FruitBox'*/[0m
  ↳ lib/tasks/cleanup_rooms.rake:5:in `block (2 levels) in <main>'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 2 /*application='FruitBox'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 2 /*application='FruitBox'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 2 /*application='FruitBox'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Started POST "/game/create_room" for 127.0.0.1 at 2025-06-27 13:21:32 -0400
Processing by GameController#create_room as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "game_room"=>{"name"=>"test room", "max_players"=>"2"}, "commit"=>"Create Room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:60:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 2 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 2 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 2 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' LIMIT 1 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 39ms (Views: 1.3ms | ActiveRecord: 0.8ms (5 queries, 0 cached) | GC: 0.1ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:22:55 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.6ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 2 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
Cleaning up 1 rooms: test room
  [1m[36mGameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."id" = 2 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mPlayer Load (0.4ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 2 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mGameMove Load (0.0ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."game_room_id" = 2 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mGameRoom Destroy (0.1ms)[0m  [1m[31mDELETE FROM "game_rooms" WHERE "game_rooms"."id" = 2 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
Cleaned up 1 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 40ms (Views: 4.7ms | ActiveRecord: 1.9ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:22:56 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/cleanup_rooms?force_delete_name=test+room" for 127.0.0.1 at 2025-06-27 13:22:57 -0400
Processing by GameController#cleanup_rooms as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "force_delete_name"=>"test room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mGameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `cleanup_rooms'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 21ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:22:57 -0400
Processing by GameController#multiplayer as TURBO_STREAM
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 1.3ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 1.0ms)


Started POST "/game/cleanup_rooms?force_delete_name=test+room" for 127.0.0.1 at 2025-06-27 13:22:59 -0400
Processing by GameController#cleanup_rooms as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "force_delete_name"=>"test room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mGameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `cleanup_rooms'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 36ms (ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 1.1ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:22:59 -0400
Processing by GameController#multiplayer as TURBO_STREAM
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.9ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.5ms)
Completed 200 OK in 24ms (Views: 2.3ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.5ms)


Started POST "/game/create_room" for 127.0.0.1 at 2025-06-27 13:23:05 -0400
Processing by GameController#create_room as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "game_room"=>{"name"=>"test room", "max_players"=>"2"}, "commit"=>"Create Room"}
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' LIMIT 1 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Create (0.1ms)[0m  [1m[32mINSERT INTO "game_rooms" ("name", "room_code", "max_players", "status", "created_at", "updated_at") VALUES ('test room', 'F9PALD', 2, NULL, '2025-06-27 17:23:06.001860', '2025-06-27 17:23:06.001860') RETURNING "id" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
Redirected to http://127.0.0.1:3000/game/join/F9PALD
Completed 302 Found in 38ms (ActiveRecord: 1.1ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/join/F9PALD" for 127.0.0.1 at 2025-06-27 13:23:06 -0400
Processing by GameController#join_room as TURBO_STREAM
  Parameters: {"room_code"=>"F9PALD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:14
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.1ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.1ms)
Completed 200 OK in 25ms (Views: 2.7ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.2ms)


Started GET "/game/join/F9PALD" for 127.0.0.1 at 2025-06-27 13:23:09 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"F9PALD"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:12
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:14
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.0ms)
Completed 200 OK in 41ms (Views: 3.2ms | ActiveRecord: 0.3ms (4 queries, 1 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:23:09 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/join/F9PALD" for 127.0.0.1 at 2025-06-27 13:23:12 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"F9PALD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:14
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 1.9ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:23:12 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/join/F9PALD" for 127.0.0.1 at 2025-06-27 13:23:15 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris"}, "commit"=>"Join Game", "room_code"=>"F9PALD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:27:in `join_game'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:11:in `full?'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
  [1m[36mPlayer Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 3 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:14
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 40ms (Views: 1.9ms | ActiveRecord: 0.9ms (6 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/join/F9PALD" for 127.0.0.1 at 2025-06-27 13:23:15 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"F9PALD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:14
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 28ms (Views: 2.2ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:23:15 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/join/F9PALD" for 127.0.0.1 at 2025-06-27 13:23:18 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"F9PALD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:14
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 41ms (Views: 2.6ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:23:18 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/join/F9PALD" for 127.0.0.1 at 2025-06-27 13:23:21 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"F9PALD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:14
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 39ms (Views: 2.3ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:23:21 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/join/F9PALD" for 127.0.0.1 at 2025-06-27 13:23:24 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"F9PALD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:14
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 40ms (Views: 2.4ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:23:24 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/join/F9PALD" for 127.0.0.1 at 2025-06-27 13:23:27 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"F9PALD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:14
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 29ms (Views: 2.0ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:23:27 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/join/F9PALD" for 127.0.0.1 at 2025-06-27 13:23:30 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"F9PALD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:12
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:14
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.0ms)
Completed 200 OK in 59ms (Views: 3.1ms | ActiveRecord: 0.3ms (4 queries, 1 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:23:30 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/join/F9PALD" for 127.0.0.1 at 2025-06-27 13:23:33 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"F9PALD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:14
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 35ms (Views: 2.0ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:23:33 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/join/F9PALD" for 127.0.0.1 at 2025-06-27 13:23:36 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"F9PALD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:14
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 28ms (Views: 2.1ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:23:37 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/join/F9PALD" for 127.0.0.1 at 2025-06-27 13:23:40 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"F9PALD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:14
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 28ms (Views: 2.4ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:23:40 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/join/F9PALD" for 127.0.0.1 at 2025-06-27 13:23:43 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"F9PALD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:14
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 2.2ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:23:43 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/join/F9PALD" for 127.0.0.1 at 2025-06-27 13:23:46 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"F9PALD"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:12
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:14
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 3.2ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.7ms)
Completed 200 OK in 31ms (Views: 3.5ms | ActiveRecord: 0.4ms (4 queries, 1 cached) | GC: 0.7ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:23:46 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/join/F9PALD" for 127.0.0.1 at 2025-06-27 13:23:49 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"F9PALD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 0.0ms)
Completed 200 OK in 32ms (Views: 4.3ms | ActiveRecord: 1.1ms (4 queries, 1 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:23:49 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/join/F9PALD" for 127.0.0.1 at 2025-06-27 13:24:29 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"F9PALD"}
  [1m[36mGameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 5.8ms | GC: 2.6ms)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | GC: 2.6ms)
Completed 200 OK in 37ms (Views: 7.4ms | ActiveRecord: 1.0ms (4 queries, 1 cached) | GC: 2.6ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:24:29 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/join/F9PALD" for 127.0.0.1 at 2025-06-27 13:24:32 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris"}, "commit"=>"Join Game", "room_code"=>"F9PALD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:27:in `join_game'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:11:in `full?'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
  [1m[36mPlayer Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 3 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 38ms (Views: 2.4ms | ActiveRecord: 0.9ms (6 queries, 1 cached) | GC: 0.9ms)


Started POST "/game/join/F9PALD" for 127.0.0.1 at 2025-06-27 13:24:35 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris2"}, "commit"=>"Join Game", "room_code"=>"F9PALD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:27:in `join_game'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:11:in `full?'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
  [1m[36mPlayer Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 3 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 38ms (Views: 1.9ms | ActiveRecord: 0.8ms (6 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/join/F9PALD" for 127.0.0.1 at 2025-06-27 13:24:37 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"F9PALD"}
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 38ms (Views: 2.6ms | ActiveRecord: 0.4ms (4 queries, 1 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:24:37 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/join/F9PALD" for 127.0.0.1 at 2025-06-27 13:24:38 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"F9PALD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.5ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.6ms)
Completed 200 OK in 28ms (Views: 2.8ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.6ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:24:38 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/join/F9PALD" for 127.0.0.1 at 2025-06-27 13:26:48 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"F9PALD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 4.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | GC: 0.0ms)
Completed 200 OK in 37ms (Views: 6.5ms | ActiveRecord: 1.5ms (4 queries, 1 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:26:48 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/join/F9PALD" for 127.0.0.1 at 2025-06-27 13:26:50 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris"}, "commit"=>"Join Game", "room_code"=>"F9PALD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:27:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:30:in `join_game'
Room current players: 0
Room max players: 2
Player params: {"name"=>"chris"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/models/game_room.rb:11:in `full?'
  [1m[36mPlayer Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 3 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:42:in `join_game'
Player valid? false
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 3 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:43:in `join_game'
Player errors: ["Score is not a number"]
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 3 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:45:in `join_game'
Player save failed, rendering join_room
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 31ms (Views: 2.0ms | ActiveRecord: 0.3ms (9 queries, 5 cached) | GC: 0.9ms)


  [1m[36mCACHE ActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Migrating to FixPlayerScoreDefault (20250627172724)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250627172724') RETURNING "version" /*application='FruitBox'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Started GET "/game/join/F9PALD" for 127.0.0.1 at 2025-06-27 13:27:48 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"F9PALD"}
  [1m[36mGameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 3.6ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | GC: 0.2ms)
Completed 200 OK in 37ms (Views: 4.9ms | ActiveRecord: 1.1ms (4 queries, 1 cached) | GC: 1.5ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:27:48 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/join/F9PALD" for 127.0.0.1 at 2025-06-27 13:27:50 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris"}, "commit"=>"Join Game", "room_code"=>"F9PALD"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:27:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:30:in `join_game'
Room current players: 0
Room max players: 2
Player params: {"name"=>"chris"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/models/game_room.rb:11:in `full?'
  [1m[36mPlayer Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 3 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:42:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 3 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:43:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 3 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:45:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:45:in `join_game'
  [1m[36mPlayer Create (0.5ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (3, 'chris', 0, '2025-06-27 17:27:50.523655', '2025-06-27 17:27:50.523655') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:45:in `join_game'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:45:in `join_game'
Player saved successfully with ID: 1
Redirected to http://127.0.0.1:3000/game/waiting/F9PALD/1
Completed 302 Found in 30ms (ActiveRecord: 1.5ms (7 queries, 3 cached) | GC: 0.0ms)


Started GET "/game/waiting/F9PALD/1" for 127.0.0.1 at 2025-06-27 13:27:50 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"F9PALD", "player_id"=>"1"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:55:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 AND "players"."id" = 1 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:56:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 2.2ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2025-06-27 13:28:09 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 34ms (Views: 2.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:28:11 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.1ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 3 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.1ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 3 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 41ms (Views: 2.7ms | ActiveRecord: 0.7ms (4 queries, 0 cached) | GC: 4.8ms)


Started GET "/game/join/ROOM_CODE?room_code=F9PALD&commit=Join+Room" for 127.0.0.1 at 2025-06-27 13:28:19 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"ROOM_CODE", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'ROOM_CODE' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
Completed 404 Not Found in 34ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.6ms)


  
ActiveRecord::RecordNotFound (Couldn't find GameRoom with [WHERE "game_rooms"."room_code" = ?]):
  
app/controllers/game_controller.rb:22:in `join_room'
Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:28:19 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 3 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 3 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 1.4ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.3ms)


Started GET "/game/join/F9PALD?room_code=F9PALD&commit=Join+Room" for 127.0.0.1 at 2025-06-27 13:28:24 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"F9PALD", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 39ms (Views: 2.7ms | ActiveRecord: 0.3ms (4 queries, 1 cached) | GC: 0.0ms)


Started POST "/game/join/F9PALD" for 127.0.0.1 at 2025-06-27 13:28:27 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris2"}, "commit"=>"Join Game", "room_code"=>"F9PALD"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:27:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:30:in `join_game'
Room current players: 1
Room max players: 2
Player params: {"name"=>"chris2"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/models/game_room.rb:11:in `full?'
  [1m[36mPlayer Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 3 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:42:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 3 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:43:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 3 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:45:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:45:in `join_game'
  [1m[36mPlayer Create (0.5ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (3, 'chris2', 0, '2025-06-27 17:28:27.701664', '2025-06-27 17:28:27.701664') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:45:in `join_game'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:45:in `join_game'
Player saved successfully with ID: 2
Redirected to http://127.0.0.1:3000/game/waiting/F9PALD/2
Completed 302 Found in 40ms (ActiveRecord: 1.8ms (7 queries, 3 cached) | GC: 0.3ms)


Started GET "/game/waiting/F9PALD/2" for 127.0.0.1 at 2025-06-27 13:28:27 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"F9PALD", "player_id"=>"2"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:55:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 AND "players"."id" = 2 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:56:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 2.3ms | ActiveRecord: 0.2ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/waiting/F9PALD/1" for 127.0.0.1 at 2025-06-27 13:28:32 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"F9PALD", "player_id"=>"1"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:55:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 AND "players"."id" = 1 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:56:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 34ms (Views: 2.3ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:28:32 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/room/F9PALD?player_id=1" for 127.0.0.1 at 2025-06-27 13:28:33 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"1", "room_code"=>"F9PALD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:60:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 AND "players"."id" = 1 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:63:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  Rendered game/room.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 500 Internal Server Error in 40ms (ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)


  
ActionView::Template::Error (undefined method `titleize' for nil)
Caused by: NoMethodError (undefined method `titleize' for nil)

Information for: ActionView::Template::Error (undefined method `titleize' for nil):
     8:           <p class="text-gray-600">Room Code: <span class="font-mono font-bold text-blue-600"><%= @game_room.room_code %></span></p>
     9:         </div>
    10:         <div class="text-right">
    11:           <p class="text-sm text-gray-500">Status: <span class="font-medium text-green-600"><%= @game_room.status.titleize %></span></p>
    12:           <p class="text-sm text-gray-500">Players: <%= @game_room.players.count %>/<%= @game_room.max_players %></p>
    13:         </div>
    14:       </div>
  
app/views/game/room.html.erb:11

Information for cause: NoMethodError (undefined method `titleize' for nil):
  
app/views/game/room.html.erb:11
Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:28:34 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
  [1m[36mCACHE ActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Migrating to FixGameRoomStatusDefault (20250627173022)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250627173022') RETURNING "version" /*application='FruitBox'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Started GET "/game/room/F9PALD?player_id=1" for 127.0.0.1 at 2025-06-27 13:30:40 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"1", "room_code"=>"F9PALD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:60:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 AND "players"."id" = 1 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:63:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:62
  Rendered game/room.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.2ms)
Completed 200 OK in 38ms (Views: 4.4ms | ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 0.9ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:30:40 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/room/F9PALD?player_id=1" for 127.0.0.1 at 2025-06-27 13:31:08 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"1", "room_code"=>"F9PALD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:60:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 AND "players"."id" = 1 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:63:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:62
  Rendered game/room.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 29ms (Views: 1.7ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.3ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:31:08 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/waiting/F9PALD/2" for 127.0.0.1 at 2025-06-27 13:31:29 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"F9PALD", "player_id"=>"2"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:55:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 AND "players"."id" = 2 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:56:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 2.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.0ms)
Completed 200 OK in 29ms (Views: 3.1ms | ActiveRecord: 0.2ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/room/F9PALD?player_id=1" for 127.0.0.1 at 2025-06-27 13:34:46 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"1", "room_code"=>"F9PALD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:60:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 AND "players"."id" = 1 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:63:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 ORDER BY "players"."id" ASC LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:44
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:69
  Rendered game/room.html.erb within layouts/application (Duration: 3.7ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | GC: 0.3ms)
Completed 200 OK in 38ms (Views: 5.0ms | ActiveRecord: 1.2ms (6 queries, 1 cached) | GC: 2.1ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:34:46 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/room/F9PALD?player_id=1" for 127.0.0.1 at 2025-06-27 13:34:53 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"1", "room_code"=>"F9PALD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:60:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 AND "players"."id" = 1 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:63:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 ORDER BY "players"."id" ASC LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:44
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:69
  Rendered game/room.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 28ms (Views: 2.4ms | ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:34:53 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/start/F9PALD?player_id=1" for 127.0.0.1 at 2025-06-27 13:34:55 -0400
Processing by GameController#start_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player_id"=>"1", "room_code"=>"F9PALD"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:68:in `start_game'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:71:in `start_game'
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' AND "game_rooms"."id" != 3 LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:71:in `start_game'
  [1m[36mGameRoom Update (0.0ms)[0m  [1m[33mUPDATE "game_rooms" SET "status" = 'playing', "updated_at" = '2025-06-27 17:34:55.522078' WHERE "game_rooms"."id" = 3 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:71:in `start_game'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:71:in `start_game'
Redirected to http://127.0.0.1:3000/game/room/F9PALD?player_id=1
Completed 302 Found in 42ms (ActiveRecord: 2.5ms (4 queries, 0 cached) | GC: 1.1ms)


Started GET "/game/room/F9PALD?player_id=1" for 127.0.0.1 at 2025-06-27 13:34:55 -0400
Processing by GameController#room as TURBO_STREAM
  Parameters: {"player_id"=>"1", "room_code"=>"F9PALD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:60:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 AND "players"."id" = 1 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:63:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 ORDER BY "players"."id" ASC LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:44
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:69
  Rendered game/room.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 2.3ms | ActiveRecord: 0.2ms (6 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/waiting/F9PALD/2" for 127.0.0.1 at 2025-06-27 13:35:01 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"F9PALD", "player_id"=>"2"}
  [1m[36mGameRoom Load (0.4ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:55:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 AND "players"."id" = 2 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:56:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 4.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | GC: 0.0ms)
Completed 200 OK in 48ms (Views: 5.4ms | ActiveRecord: 0.9ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/waiting/F9PALD/2" for 127.0.0.1 at 2025-06-27 13:37:10 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"F9PALD", "player_id"=>"2"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:55:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 AND "players"."id" = 2 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:56:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 4.3ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | GC: 0.6ms)
Completed 200 OK in 42ms (Views: 5.8ms | ActiveRecord: 1.3ms (5 queries, 1 cached) | GC: 5.3ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:37:12 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 3 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 3 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.7ms | GC: 1.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 1.0ms)
Completed 200 OK in 45ms (Views: 3.1ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 1.9ms)


Started GET "/game/status/F9PALD" for 127.0.0.1 at 2025-06-27 13:37:12 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"F9PALD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:79:in `game_status'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:82:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Completed 200 OK in 34ms (Views: 0.1ms | ActiveRecord: 0.2ms (3 queries, 1 cached) | GC: 0.5ms)


Started GET "/game/room/F9PALD?player_id=2" for 127.0.0.1 at 2025-06-27 13:37:12 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"2", "room_code"=>"F9PALD"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:60:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 AND "players"."id" = 2 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:63:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 ORDER BY "players"."id" ASC LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:44
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:69
  Rendered game/room.html.erb within layouts/application (Duration: 2.5ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 0.2ms)
Completed 200 OK in 27ms (Views: 3.3ms | ActiveRecord: 0.3ms (7 queries, 2 cached) | GC: 0.2ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:37:13 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 3 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 3 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 40ms (Views: 1.5ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.1ms)


Started POST "/game/start/F9PALD?player_id=1" for 127.0.0.1 at 2025-06-27 13:37:26 -0400
Processing by GameController#start_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player_id"=>"1", "room_code"=>"F9PALD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:68:in `start_game'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:71:in `start_game'
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' AND "game_rooms"."id" != 3 LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:71:in `start_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:71:in `start_game'
Redirected to http://127.0.0.1:3000/game/room/F9PALD?player_id=1
Completed 302 Found in 32ms (ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 0.2ms)


Started GET "/game/room/F9PALD?player_id=1" for 127.0.0.1 at 2025-06-27 13:37:26 -0400
Processing by GameController#room as TURBO_STREAM
  Parameters: {"player_id"=>"1", "room_code"=>"F9PALD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'F9PALD' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:60:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 AND "players"."id" = 1 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:63:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 ORDER BY "players"."id" ASC LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:44
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:69
  Rendered game/room.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 2.0ms | ActiveRecord: 0.2ms (6 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:37:27 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 3 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 3 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.6ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.4ms)
Completed 200 OK in 37ms (Views: 2.0ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.4ms)


Started POST "/game/cleanup_rooms?force_delete_name=test+room" for 127.0.0.1 at 2025-06-27 13:37:29 -0400
Processing by GameController#cleanup_rooms as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "force_delete_name"=>"test room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 3 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 3 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 3 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:94:in `cleanup_rooms'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:94:in `cleanup_rooms'
  [1m[36mPlayer Load (0.4ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 3 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:94:in `cleanup_rooms'
  [1m[36mPlayer Destroy (0.1ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 1 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:94:in `cleanup_rooms'
  [1m[36mPlayer Destroy (0.0ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 2 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:94:in `cleanup_rooms'
  [1m[36mGameMove Load (0.1ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."game_room_id" = 3 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:94:in `cleanup_rooms'
  [1m[36mGameRoom Destroy (0.1ms)[0m  [1m[31mDELETE FROM "game_rooms" WHERE "game_rooms"."id" = 3 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:94:in `cleanup_rooms'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:94:in `cleanup_rooms'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 35ms (ActiveRecord: 1.6ms (10 queries, 0 cached) | GC: 1.4ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:37:29 -0400
Processing by GameController#multiplayer as TURBO_STREAM
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 22ms (Views: 1.4ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/game/create_room" for 127.0.0.1 at 2025-06-27 13:37:36 -0400
Processing by GameController#create_room as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "game_room"=>{"name"=>"test room", "max_players"=>"2"}, "commit"=>"Create Room"}
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' LIMIT 1 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Create (0.1ms)[0m  [1m[32mINSERT INTO "game_rooms" ("name", "room_code", "max_players", "status", "created_at", "updated_at") VALUES ('test room', 'EUNO5I', 2, NULL, '2025-06-27 17:37:36.635721', '2025-06-27 17:37:36.635721') RETURNING "id" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
Redirected to http://127.0.0.1:3000/game/join/EUNO5I
Completed 302 Found in 37ms (ActiveRecord: 1.0ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/join/EUNO5I" for 127.0.0.1 at 2025-06-27 13:37:36 -0400
Processing by GameController#join_room as TURBO_STREAM
  Parameters: {"room_code"=>"EUNO5I"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'EUNO5I' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 4 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 4 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 4[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 2.3ms | ActiveRecord: 0.1ms (4 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:37:47 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 4 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
Cleaning up 1 rooms: test room
  [1m[36mGameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."id" = 4 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mPlayer Load (0.5ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 4 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mGameMove Load (0.0ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."game_room_id" = 4 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mGameRoom Destroy (0.0ms)[0m  [1m[31mDELETE FROM "game_rooms" WHERE "game_rooms"."id" = 4 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
Cleaned up 1 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 39ms (Views: 1.4ms | ActiveRecord: 1.0ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/join/ROOM_CODE?room_code=+EUNO5I&commit=Join+Room" for 127.0.0.1 at 2025-06-27 13:37:56 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"ROOM_CODE", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'ROOM_CODE' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
Completed 404 Not Found in 37ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 3.7ms)


  
ActiveRecord::RecordNotFound (Couldn't find GameRoom with [WHERE "game_rooms"."room_code" = ?]):
  
app/controllers/game_controller.rb:22:in `join_room'
Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:37:56 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 21ms (Views: 1.3ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/game/join/%20EUNO5I?room_code=+EUNO5I&commit=Join+Room" for 127.0.0.1 at 2025-06-27 13:38:00 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>" EUNO5I", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = ' EUNO5I' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
Completed 404 Not Found in 36ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


  
ActiveRecord::RecordNotFound (Couldn't find GameRoom with [WHERE "game_rooms"."room_code" = ?]):
  
app/controllers/game_controller.rb:22:in `join_room'
Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:38:01 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 19ms (Views: 1.2ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/game/join/%20EUNO5I?room_code=+EUNO5I&commit=Join+Room" for 127.0.0.1 at 2025-06-27 13:38:03 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>" EUNO5I", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = ' EUNO5I' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
Completed 404 Not Found in 37ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


  
ActiveRecord::RecordNotFound (Couldn't find GameRoom with [WHERE "game_rooms"."room_code" = ?]):
  
app/controllers/game_controller.rb:22:in `join_room'
Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:38:03 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.1ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.2ms)
Completed 200 OK in 21ms (Views: 1.5ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.2ms)


Started GET "/game/join/%20EUNO5I?room_code=+EUNO5I&commit=Join+Room" for 127.0.0.1 at 2025-06-27 13:38:05 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>" EUNO5I", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = ' EUNO5I' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
Completed 404 Not Found in 27ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


  
ActiveRecord::RecordNotFound (Couldn't find GameRoom with [WHERE "game_rooms"."room_code" = ?]):
  
app/controllers/game_controller.rb:22:in `join_room'
Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:38:05 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 19ms (Views: 1.1ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)


Started GET "/game/join/%20EUNO5I?room_code=+EUNO5I&commit=Join+Room" for 127.0.0.1 at 2025-06-27 13:38:07 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>" EUNO5I", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = ' EUNO5I' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
Completed 404 Not Found in 34ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.2ms)


  
ActiveRecord::RecordNotFound (Couldn't find GameRoom with [WHERE "game_rooms"."room_code" = ?]):
  
app/controllers/game_controller.rb:22:in `join_room'
Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:38:08 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.2ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.2ms)
Completed 200 OK in 21ms (Views: 1.6ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.2ms)


Started POST "/game/join/EUNO5I" for 127.0.0.1 at 2025-06-27 13:38:19 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris"}, "commit"=>"Join Game", "room_code"=>"EUNO5I"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'EUNO5I' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:27:in `join_game'
Completed 404 Not Found in 35ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


  
ActiveRecord::RecordNotFound (Couldn't find GameRoom with [WHERE "game_rooms"."room_code" = ?]):
  
app/controllers/game_controller.rb:27:in `join_game'
Started GET "/game/join/EUNO5I" for 127.0.0.1 at 2025-06-27 13:38:20 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"EUNO5I"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'EUNO5I' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
Completed 404 Not Found in 26ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


  
ActiveRecord::RecordNotFound (Couldn't find GameRoom with [WHERE "game_rooms"."room_code" = ?]):
  
app/controllers/game_controller.rb:22:in `join_room'
Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:38:20 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/" for 127.0.0.1 at 2025-06-27 13:38:51 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | GC: 0.0ms)
Completed 200 OK in 32ms (Views: 1.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:38:51 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:38:52 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 1.5ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/game/create_room" for 127.0.0.1 at 2025-06-27 13:38:58 -0400
Processing by GameController#create_room as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "game_room"=>{"name"=>"test room", "max_players"=>"2"}, "commit"=>"Create Room"}
Running cleanup before action...
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' LIMIT 1 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Create (0.1ms)[0m  [1m[32mINSERT INTO "game_rooms" ("name", "room_code", "max_players", "status", "created_at", "updated_at") VALUES ('test room', 'FIQVEZ', 2, NULL, '2025-06-27 17:38:58.859815', '2025-06-27 17:38:58.859815') RETURNING "id" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
Redirected to http://127.0.0.1:3000/game/join/FIQVEZ
Completed 302 Found in 24ms (ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/join/FIQVEZ" for 127.0.0.1 at 2025-06-27 13:38:58 -0400
Processing by GameController#join_room as TURBO_STREAM
  Parameters: {"room_code"=>"FIQVEZ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'FIQVEZ' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 5 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 2.0ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.3ms)


Started POST "/game/join/FIQVEZ" for 127.0.0.1 at 2025-06-27 13:39:02 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris"}, "commit"=>"Join Game", "room_code"=>"FIQVEZ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'FIQVEZ' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:27:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:30:in `join_game'
Room current players: 0
Room max players: 2
Player params: {"name"=>"chris"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5[0m
  ↳ app/models/game_room.rb:11:in `full?'
  [1m[36mPlayer Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 5 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:42:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 5 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:43:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 5 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:45:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:45:in `join_game'
  [1m[36mPlayer Create (0.6ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (5, 'chris', 0, '2025-06-27 17:39:02.746526', '2025-06-27 17:39:02.746526') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:45:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:45:in `join_game'
Player saved successfully with ID: 3
Redirected to http://127.0.0.1:3000/game/waiting/FIQVEZ/3
Completed 302 Found in 27ms (ActiveRecord: 0.9ms (7 queries, 3 cached) | GC: 0.3ms)


Started GET "/game/waiting/FIQVEZ/3" for 127.0.0.1 at 2025-06-27 13:39:02 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"FIQVEZ", "player_id"=>"3"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'FIQVEZ' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:55:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 5 AND "players"."id" = 3 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:56:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 5 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 2.2ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/join/FIQVEZ?room_code=FIQVEZ&commit=Join+Room" for 127.0.0.1 at 2025-06-27 13:39:10 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"FIQVEZ", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'FIQVEZ' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 5 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 3.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | GC: 0.0ms)
Completed 200 OK in 38ms (Views: 5.4ms | ActiveRecord: 1.5ms (4 queries, 1 cached) | GC: 0.0ms)


Started POST "/game/join/FIQVEZ" for 127.0.0.1 at 2025-06-27 13:39:14 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris2"}, "commit"=>"Join Game", "room_code"=>"FIQVEZ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'FIQVEZ' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 1
Room max players: 2
Player params: {"name"=>"chris2"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5[0m
  ↳ app/models/game_room.rb:11:in `full?'
  [1m[36mPlayer Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 5 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 5 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 5 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (4.5ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (5, 'chris2', 0, '2025-06-27 17:39:14.702857', '2025-06-27 17:39:14.702857') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 4
Redirected to http://127.0.0.1:3000/game/waiting/FIQVEZ/4
Completed 302 Found in 32ms (ActiveRecord: 5.3ms (7 queries, 3 cached) | GC: 3.7ms)


Started GET "/game/waiting/FIQVEZ/4" for 127.0.0.1 at 2025-06-27 13:39:14 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"FIQVEZ", "player_id"=>"4"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'FIQVEZ' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 5 AND "players"."id" = 4 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 5 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 2.4ms | ActiveRecord: 0.2ms (5 queries, 1 cached) | GC: 0.9ms)


Started GET "/game/waiting/FIQVEZ/3" for 127.0.0.1 at 2025-06-27 13:42:01 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"FIQVEZ", "player_id"=>"3"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'FIQVEZ' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 5 AND "players"."id" = 3 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 5 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 2.3ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.1ms)
Completed 200 OK in 35ms (Views: 3.7ms | ActiveRecord: 1.1ms (5 queries, 1 cached) | GC: 0.4ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:42:01 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/status/FIQVEZ" for 127.0.0.1 at 2025-06-27 13:42:03 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"FIQVEZ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'FIQVEZ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:88:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Completed 200 OK in 26ms (Views: 0.1ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/status/FIQVEZ" for 127.0.0.1 at 2025-06-27 13:42:05 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"FIQVEZ"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'FIQVEZ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:88:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Completed 200 OK in 32ms (Views: 0.1ms | ActiveRecord: 0.2ms (3 queries, 1 cached) | GC: 0.4ms)


Started GET "/game/status/FIQVEZ" for 127.0.0.1 at 2025-06-27 13:42:07 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"FIQVEZ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'FIQVEZ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:88:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Completed 200 OK in 22ms (Views: 0.1ms | ActiveRecord: 0.2ms (3 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/status/FIQVEZ" for 127.0.0.1 at 2025-06-27 13:42:09 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"FIQVEZ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'FIQVEZ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:88:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Completed 200 OK in 34ms (Views: 0.1ms | ActiveRecord: 0.2ms (3 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/status/FIQVEZ" for 127.0.0.1 at 2025-06-27 13:42:11 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"FIQVEZ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'FIQVEZ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:88:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Completed 200 OK in 37ms (Views: 0.1ms | ActiveRecord: 0.1ms (3 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/room/FIQVEZ?player_id=3" for 127.0.0.1 at 2025-06-27 13:42:11 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"3", "room_code"=>"FIQVEZ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'FIQVEZ' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 5 AND "players"."id" = 3 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 5 ORDER BY "players"."id" ASC LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:44
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 5 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:69
  Rendered game/room.html.erb within layouts/application (Duration: 3.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 0.0ms)
Completed 200 OK in 41ms (Views: 3.6ms | ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:42:11 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/start/FIQVEZ?player_id=3" for 127.0.0.1 at 2025-06-27 13:42:16 -0400
Processing by GameController#start_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player_id"=>"3", "room_code"=>"FIQVEZ"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'FIQVEZ' LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:74:in `start_game'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' AND "game_rooms"."id" != 5 LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Update (0.0ms)[0m  [1m[33mUPDATE "game_rooms" SET "status" = 'playing', "updated_at" = '2025-06-27 17:42:16.475614' WHERE "game_rooms"."id" = 5 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
Redirected to http://127.0.0.1:3000/game/room/FIQVEZ?player_id=3
Completed 302 Found in 36ms (ActiveRecord: 1.5ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/room/FIQVEZ?player_id=3" for 127.0.0.1 at 2025-06-27 13:42:16 -0400
Processing by GameController#room as TURBO_STREAM
  Parameters: {"player_id"=>"3", "room_code"=>"FIQVEZ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'FIQVEZ' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 5 AND "players"."id" = 3 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 5 ORDER BY "players"."id" ASC LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:44
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 5 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:69
  Rendered game/room.html.erb within layouts/application (Duration: 2.9ms | GC: 1.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 1.0ms)
Completed 200 OK in 24ms (Views: 3.3ms | ActiveRecord: 0.2ms (6 queries, 1 cached) | GC: 1.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:42:23 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 5 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 5 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 5.9ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | GC: 0.8ms)
Completed 200 OK in 37ms (Views: 6.4ms | ActiveRecord: 0.6ms (7 queries, 2 cached) | GC: 1.9ms)


Started GET "/game/room/FIQVEZ?player_id=1" for 127.0.0.1 at 2025-06-27 13:42:27 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"1", "room_code"=>"FIQVEZ"}
  [1m[36mGameRoom Load (0.6ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'FIQVEZ' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 5 AND "players"."id" = 1 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
Completed 404 Not Found in 37ms (ActiveRecord: 0.6ms (2 queries, 0 cached) | GC: 0.4ms)


  
ActiveRecord::RecordNotFound (Couldn't find Player with 'id'=1 [WHERE "players"."game_room_id" = ?]):
  
app/controllers/game_controller.rb:69:in `room'
Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:42:27 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:42:29 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:42:29 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/waiting/FIQVEZ/4" for 127.0.0.1 at 2025-06-27 13:42:39 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"FIQVEZ", "player_id"=>"4"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'FIQVEZ' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 5 AND "players"."id" = 4 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 5 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 28ms (Views: 1.8ms | ActiveRecord: 0.4ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/waiting/FIQVEZ/4" for 127.0.0.1 at 2025-06-27 13:42:40 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"FIQVEZ", "player_id"=>"4"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'FIQVEZ' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 5 AND "players"."id" = 4 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 5 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 38ms (Views: 2.5ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/waiting/FIQVEZ/4" for 127.0.0.1 at 2025-06-27 13:42:41 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"FIQVEZ", "player_id"=>"4"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'FIQVEZ' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 5 AND "players"."id" = 4 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 5 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 3.4ms | GC: 1.9ms)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | GC: 1.9ms)
Completed 200 OK in 41ms (Views: 4.4ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 1.9ms)


Started GET "/game/status/FIQVEZ" for 127.0.0.1 at 2025-06-27 13:42:43 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"FIQVEZ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'FIQVEZ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:88:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Completed 200 OK in 37ms (Views: 0.1ms | ActiveRecord: 0.2ms (3 queries, 1 cached) | GC: 1.1ms)


Started GET "/game/room/FIQVEZ?player_id=4" for 127.0.0.1 at 2025-06-27 13:42:43 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"4", "room_code"=>"FIQVEZ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'FIQVEZ' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 5 AND "players"."id" = 4 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 5 ORDER BY "players"."id" ASC LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:44
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 5 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:69
  Rendered game/room.html.erb within layouts/application (Duration: 2.5ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.7ms)
Completed 200 OK in 27ms (Views: 3.2ms | ActiveRecord: 0.3ms (7 queries, 2 cached) | GC: 0.7ms)


Started GET "/game/room/FIQVEZ?player_id=4" for 127.0.0.1 at 2025-06-27 13:44:58 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"4", "room_code"=>"FIQVEZ"}
  [1m[36mGameRoom Load (0.5ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'FIQVEZ' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 5 AND "players"."id" = 4 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 5 ORDER BY "players"."id" ASC LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:44
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 5 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:69
  Rendered game/room.html.erb within layouts/application (Duration: 4.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | GC: 0.0ms)
Completed 200 OK in 54ms (Views: 7.4ms | ActiveRecord: 2.6ms (7 queries, 2 cached) | GC: 2.1ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:45:00 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 5 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 5 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 3.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.0ms)
Completed 200 OK in 44ms (Views: 3.4ms | ActiveRecord: 0.5ms (7 queries, 2 cached) | GC: 0.0ms)


Started POST "/game/cleanup_rooms?force_delete_name=test+room" for 127.0.0.1 at 2025-06-27 13:45:03 -0400
Processing by GameController#cleanup_rooms as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "force_delete_name"=>"test room"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 5 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 5 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 5 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:108:in `cleanup_rooms'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:108:in `cleanup_rooms'
  [1m[36mPlayer Load (0.5ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 5 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:108:in `cleanup_rooms'
  [1m[36mPlayer Destroy (0.0ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 3 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:108:in `cleanup_rooms'
  [1m[36mPlayer Destroy (0.0ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 4 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:108:in `cleanup_rooms'
  [1m[36mGameMove Load (0.0ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."game_room_id" = 5 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:108:in `cleanup_rooms'
  [1m[36mGameRoom Destroy (0.1ms)[0m  [1m[31mDELETE FROM "game_rooms" WHERE "game_rooms"."id" = 5 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:108:in `cleanup_rooms'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:108:in `cleanup_rooms'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 42ms (ActiveRecord: 1.8ms (10 queries, 0 cached) | GC: 4.1ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:45:03 -0400
Processing by GameController#multiplayer as TURBO_STREAM
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.9ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.6ms)
Completed 200 OK in 22ms (Views: 2.3ms | ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.6ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:45:09 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.5ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.4ms)
Completed 200 OK in 30ms (Views: 1.8ms | ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.4ms)


Started POST "/game/create_room" for 127.0.0.1 at 2025-06-27 13:45:13 -0400
Processing by GameController#create_room as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "game_room"=>{"name"=>"test room", "max_players"=>"2"}, "commit"=>"Create Room"}
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' LIMIT 1 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Create (0.1ms)[0m  [1m[32mINSERT INTO "game_rooms" ("name", "room_code", "max_players", "status", "created_at", "updated_at") VALUES ('test room', '5YAE3V', 2, NULL, '2025-06-27 17:45:13.563994', '2025-06-27 17:45:13.563994') RETURNING "id" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
Redirected to http://127.0.0.1:3000/game/join/5YAE3V
Completed 302 Found in 43ms (ActiveRecord: 1.2ms (3 queries, 0 cached) | GC: 0.4ms)


Started GET "/game/join/5YAE3V" for 127.0.0.1 at 2025-06-27 13:45:13 -0400
Processing by GameController#join_room as TURBO_STREAM
  Parameters: {"room_code"=>"5YAE3V"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '5YAE3V' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 6 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 6 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 6[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 2.4ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.3ms)


Started POST "/game/join/5YAE3V" for 127.0.0.1 at 2025-06-27 13:45:16 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris"}, "commit"=>"Join Game", "room_code"=>"5YAE3V"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '5YAE3V' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 6 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 0
Room max players: 2
Player params: {"name"=>"chris"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 6[0m
  ↳ app/models/game_room.rb:11:in `full?'
  [1m[36mPlayer Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 6 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 6 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 6 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (1.0ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (6, 'chris', 0, '2025-06-27 17:45:16.873180', '2025-06-27 17:45:16.873180') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 5
Redirected to http://127.0.0.1:3000/game/waiting/5YAE3V/5
Completed 302 Found in 35ms (ActiveRecord: 1.4ms (7 queries, 3 cached) | GC: 0.3ms)


Started GET "/game/waiting/5YAE3V/5" for 127.0.0.1 at 2025-06-27 13:45:16 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"5YAE3V", "player_id"=>"5"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '5YAE3V' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 6 AND "players"."id" = 5 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 6 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 6 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 6[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 3.3ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | GC: 0.1ms)
Completed 200 OK in 28ms (Views: 4.0ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 0.1ms)


Started GET "/game/join/ROOM_CODE?room_code=5YAE3V&commit=Join+Room" for 127.0.0.1 at 2025-06-27 13:45:22 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"ROOM_CODE", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'ROOM_CODE' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 33ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 1.2ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:45:22 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 6 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 6 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 6 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 6[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 8.7ms | GC: 5.6ms)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | GC: 5.6ms)
Completed 200 OK in 36ms (Views: 9.5ms | ActiveRecord: 0.3ms (7 queries, 2 cached) | GC: 10.0ms)


Started GET "/game/join/ROOM_CODE?room_code=5YAE3V&commit=Join+Room" for 127.0.0.1 at 2025-06-27 13:45:26 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"ROOM_CODE", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'ROOM_CODE' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 26ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 1.7ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:45:26 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 6 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.1ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 6 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 6 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 6[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 5.0ms | GC: 2.4ms)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | GC: 2.4ms)
Completed 200 OK in 34ms (Views: 6.7ms | ActiveRecord: 0.3ms (7 queries, 2 cached) | GC: 7.9ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:45:32 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/join/ROOM_CODE?room_code=5YAE3V&commit=Join+Room" for 127.0.0.1 at 2025-06-27 13:45:34 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"ROOM_CODE", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'ROOM_CODE' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 31ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.9ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:45:34 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 6 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 6 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 6 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 6[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.7ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.4ms)
Completed 200 OK in 27ms (Views: 3.1ms | ActiveRecord: 0.2ms (7 queries, 2 cached) | GC: 0.4ms)


Started GET "/game/join/ROOM_CODE?room_code=&commit=Join+Room" for 127.0.0.1 at 2025-06-27 13:45:35 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"ROOM_CODE", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'ROOM_CODE' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 30ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.3ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:45:35 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 6 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 6 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 6 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 6[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.0ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.1ms)
Completed 200 OK in 26ms (Views: 2.3ms | ActiveRecord: 0.2ms (7 queries, 2 cached) | GC: 0.1ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:45:36 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 6 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.1ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 6 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 6 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 6[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 32ms (Views: 2.5ms | ActiveRecord: 0.3ms (7 queries, 2 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:45:36 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/join/5YAE3V?room_code=5YAE3V&commit=Join+Room" for 127.0.0.1 at 2025-06-27 13:45:39 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"5YAE3V", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '5YAE3V' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 6 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 6 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 6[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 37ms (Views: 2.9ms | ActiveRecord: 0.3ms (4 queries, 1 cached) | GC: 0.0ms)


Started POST "/game/join/5YAE3V" for 127.0.0.1 at 2025-06-27 13:45:44 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris2"}, "commit"=>"Join Game", "room_code"=>"5YAE3V"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '5YAE3V' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 6 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 1
Room max players: 2
Player params: {"name"=>"chris2"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 6[0m
  ↳ app/models/game_room.rb:11:in `full?'
  [1m[36mPlayer Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 6 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 6 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 6 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (0.4ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (6, 'chris2', 0, '2025-06-27 17:45:44.735252', '2025-06-27 17:45:44.735252') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 6
Redirected to http://127.0.0.1:3000/game/waiting/5YAE3V/6
Completed 302 Found in 24ms (ActiveRecord: 0.7ms (7 queries, 3 cached) | GC: 0.3ms)


Started GET "/game/waiting/5YAE3V/6" for 127.0.0.1 at 2025-06-27 13:45:44 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"5YAE3V", "player_id"=>"6"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '5YAE3V' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 6 AND "players"."id" = 6 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 6 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 6 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 6[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 22ms (Views: 2.0ms | ActiveRecord: 0.2ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/waiting/5YAE3V/5" for 127.0.0.1 at 2025-06-27 13:45:50 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"5YAE3V", "player_id"=>"5"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '5YAE3V' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 6 AND "players"."id" = 5 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 6 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 6 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 6[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 34ms (Views: 2.1ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:45:50 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/room/5YAE3V?player_id=5" for 127.0.0.1 at 2025-06-27 13:45:52 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"5", "room_code"=>"5YAE3V"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '5YAE3V' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 6 AND "players"."id" = 5 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 6 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 6[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 6 ORDER BY "players"."id" ASC LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:44
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 6 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:69
  Rendered game/room.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 30ms (Views: 2.1ms | ActiveRecord: 0.2ms (6 queries, 1 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:45:52 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/start/5YAE3V?player_id=5" for 127.0.0.1 at 2025-06-27 13:45:54 -0400
Processing by GameController#start_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player_id"=>"5", "room_code"=>"5YAE3V"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '5YAE3V' LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:74:in `start_game'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 6 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' AND "game_rooms"."id" != 6 LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Update (0.0ms)[0m  [1m[33mUPDATE "game_rooms" SET "status" = 'playing', "updated_at" = '2025-06-27 17:45:54.568786' WHERE "game_rooms"."id" = 6 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
Redirected to http://127.0.0.1:3000/game/room/5YAE3V?player_id=5
Completed 302 Found in 39ms (ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 3.7ms)


Started GET "/game/room/5YAE3V?player_id=5" for 127.0.0.1 at 2025-06-27 13:45:54 -0400
Processing by GameController#room as TURBO_STREAM
  Parameters: {"player_id"=>"5", "room_code"=>"5YAE3V"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '5YAE3V' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 6 AND "players"."id" = 5 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 6 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 6[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 6 ORDER BY "players"."id" ASC LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:44
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 6 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:69
  Rendered game/room.html.erb within layouts/application (Duration: 2.9ms | GC: 1.1ms)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 1.1ms)
Completed 200 OK in 25ms (Views: 3.3ms | ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 1.1ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:47:51 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.6ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 6 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 6 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 6 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 6[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 5.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | GC: 0.0ms)
Completed 200 OK in 40ms (Views: 6.9ms | ActiveRecord: 1.4ms (7 queries, 2 cached) | GC: 1.5ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:47:54 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 6 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.9ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 6 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.3ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 6 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 6[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 11.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 12.4ms | GC: 0.0ms)
Completed 200 OK in 97ms (Views: 13.2ms | ActiveRecord: 2.0ms (7 queries, 2 cached) | GC: 0.0ms)


Started POST "/game/cleanup_rooms?force_delete_name=test+room" for 127.0.0.1 at 2025-06-27 13:47:57 -0400
Processing by GameController#cleanup_rooms as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "force_delete_name"=>"test room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 6 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 6 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 6 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:108:in `cleanup_rooms'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:108:in `cleanup_rooms'
  [1m[36mPlayer Load (0.4ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 6 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:108:in `cleanup_rooms'
  [1m[36mPlayer Destroy (0.0ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 5 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:108:in `cleanup_rooms'
  [1m[36mPlayer Destroy (0.0ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 6 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:108:in `cleanup_rooms'
  [1m[36mGameMove Load (0.1ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."game_room_id" = 6 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:108:in `cleanup_rooms'
  [1m[36mGameRoom Destroy (0.0ms)[0m  [1m[31mDELETE FROM "game_rooms" WHERE "game_rooms"."id" = 6 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:108:in `cleanup_rooms'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:108:in `cleanup_rooms'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 30ms (ActiveRecord: 1.1ms (10 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:47:57 -0400
Processing by GameController#multiplayer as TURBO_STREAM
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 1.6ms | ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 2.9ms)


Started POST "/game/create_room" for 127.0.0.1 at 2025-06-27 13:48:02 -0400
Processing by GameController#create_room as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "game_room"=>{"name"=>"test room", "max_players"=>"2"}, "commit"=>"Create Room"}
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' LIMIT 1 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Create (0.1ms)[0m  [1m[32mINSERT INTO "game_rooms" ("name", "room_code", "max_players", "status", "created_at", "updated_at") VALUES ('test room', 'WUIMKM', 2, NULL, '2025-06-27 17:48:02.950007', '2025-06-27 17:48:02.950007') RETURNING "id" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
Redirected to http://127.0.0.1:3000/game/join/WUIMKM
Completed 302 Found in 36ms (ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/join/WUIMKM" for 127.0.0.1 at 2025-06-27 13:48:02 -0400
Processing by GameController#join_room as TURBO_STREAM
  Parameters: {"room_code"=>"WUIMKM"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'WUIMKM' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 7 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 2.3ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)


Started POST "/game/join/WUIMKM" for 127.0.0.1 at 2025-06-27 13:48:06 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris"}, "commit"=>"Join Game", "room_code"=>"WUIMKM"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'WUIMKM' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 0
Room max players: 2
Player params: {"name"=>"chris"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7[0m
  ↳ app/models/game_room.rb:11:in `full?'
  [1m[36mPlayer Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 7 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 7 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 7 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (0.5ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (7, 'chris', 0, '2025-06-27 17:48:06.791598', '2025-06-27 17:48:06.791598') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 7
Redirected to http://127.0.0.1:3000/game/waiting/WUIMKM/7
Completed 302 Found in 40ms (ActiveRecord: 0.8ms (7 queries, 3 cached) | GC: 0.3ms)


Started GET "/game/waiting/WUIMKM/7" for 127.0.0.1 at 2025-06-27 13:48:06 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"WUIMKM", "player_id"=>"7"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'WUIMKM' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 7 AND "players"."id" = 7 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 7 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 2.7ms | ActiveRecord: 0.2ms (5 queries, 1 cached) | GC: 0.1ms)


Started GET "/game/status/WUIMKM" for 127.0.0.1 at 2025-06-27 13:48:12 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"WUIMKM"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'WUIMKM' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 1
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>1, :max_players=>2, :can_start=>false}
Completed 200 OK in 40ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.1ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:48:18 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 7 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.1ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 7 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 6.4ms | GC: 2.2ms)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | GC: 2.2ms)
Completed 200 OK in 41ms (Views: 7.1ms | ActiveRecord: 0.3ms (7 queries, 2 cached) | GC: 2.3ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:48:18 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/join/WUIMKM?room_code=WUIMKM&commit=Join+Room" for 127.0.0.1 at 2025-06-27 13:48:21 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"WUIMKM", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'WUIMKM' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 7 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 37ms (Views: 2.3ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)


Started POST "/game/join/WUIMKM" for 127.0.0.1 at 2025-06-27 13:48:26 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris2"}, "commit"=>"Join Game", "room_code"=>"WUIMKM"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'WUIMKM' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 1
Room max players: 2
Player params: {"name"=>"chris2"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7[0m
  ↳ app/models/game_room.rb:11:in `full?'
  [1m[36mPlayer Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 7 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 7 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 7 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (4.6ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (7, 'chris2', 0, '2025-06-27 17:48:26.338602', '2025-06-27 17:48:26.338602') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 8
Redirected to http://127.0.0.1:3000/game/waiting/WUIMKM/8
Completed 302 Found in 37ms (ActiveRecord: 4.9ms (7 queries, 3 cached) | GC: 3.8ms)


Started GET "/game/waiting/WUIMKM/8" for 127.0.0.1 at 2025-06-27 13:48:26 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"WUIMKM", "player_id"=>"8"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'WUIMKM' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 7 AND "players"."id" = 8 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 7 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 2.3ms | GC: 1.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 1.0ms)
Completed 200 OK in 23ms (Views: 2.9ms | ActiveRecord: 0.2ms (5 queries, 1 cached) | GC: 1.0ms)


Started GET "/game/status/WUIMKM" for 127.0.0.1 at 2025-06-27 13:48:41 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"WUIMKM"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'WUIMKM' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 39ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.9ms)


Started GET "/game/waiting/WUIMKM/7" for 127.0.0.1 at 2025-06-27 13:49:29 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"WUIMKM", "player_id"=>"7"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'WUIMKM' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 7 AND "players"."id" = 7 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 7 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 4.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | GC: 0.0ms)
Completed 200 OK in 47ms (Views: 6.3ms | ActiveRecord: 1.6ms (5 queries, 1 cached) | GC: 1.3ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:49:29 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/status/WUIMKM" for 127.0.0.1 at 2025-06-27 13:49:29 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"WUIMKM"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'WUIMKM' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 101ms (Views: 0.6ms | ActiveRecord: 0.3ms (4 queries, 2 cached) | GC: 0.6ms)


Started GET "/game/room/WUIMKM?player_id=7" for 127.0.0.1 at 2025-06-27 13:49:31 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"7", "room_code"=>"WUIMKM"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'WUIMKM' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 7 AND "players"."id" = 7 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 7 ORDER BY "players"."id" ASC LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:44
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 7 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:69
  Rendered game/room.html.erb within layouts/application (Duration: 3.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | GC: 0.0ms)
Completed 200 OK in 35ms (Views: 5.0ms | ActiveRecord: 1.2ms (6 queries, 1 cached) | GC: 0.9ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:49:31 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/start/WUIMKM?player_id=7" for 127.0.0.1 at 2025-06-27 13:49:33 -0400
Processing by GameController#start_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player_id"=>"7", "room_code"=>"WUIMKM"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'WUIMKM' LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:74:in `start_game'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' AND "game_rooms"."id" != 7 LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Update (0.0ms)[0m  [1m[33mUPDATE "game_rooms" SET "status" = 'playing', "updated_at" = '2025-06-27 17:49:33.908200' WHERE "game_rooms"."id" = 7 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
Redirected to http://127.0.0.1:3000/game/room/WUIMKM?player_id=7
Completed 302 Found in 24ms (ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/room/WUIMKM?player_id=7" for 127.0.0.1 at 2025-06-27 13:49:33 -0400
Processing by GameController#room as TURBO_STREAM
  Parameters: {"player_id"=>"7", "room_code"=>"WUIMKM"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'WUIMKM' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 7 AND "players"."id" = 7 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 7 ORDER BY "players"."id" ASC LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:44
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 7 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:69
  Rendered game/room.html.erb within layouts/application (Duration: 4.5ms | GC: 2.1ms)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | GC: 2.1ms)
Completed 200 OK in 24ms (Views: 4.8ms | ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 2.1ms)


Started GET "/game/status/WUIMKM" for 127.0.0.1 at 2025-06-27 13:49:41 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"WUIMKM"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'WUIMKM' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 31ms (Views: 0.1ms | ActiveRecord: 0.3ms (4 queries, 2 cached) | GC: 1.0ms)


Started GET "/game/waiting/WUIMKM/8" for 127.0.0.1 at 2025-06-27 13:50:02 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"WUIMKM", "player_id"=>"8"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'WUIMKM' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 7 AND "players"."id" = 8 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 7 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 2.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.0ms)
Completed 200 OK in 36ms (Views: 3.3ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 0.9ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:50:02 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/status/WUIMKM" for 127.0.0.1 at 2025-06-27 13:50:02 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"WUIMKM"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'WUIMKM' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 24ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/room/WUIMKM?player_id=8" for 127.0.0.1 at 2025-06-27 13:50:02 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"8", "room_code"=>"WUIMKM"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'WUIMKM' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 7 AND "players"."id" = 8 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 7 ORDER BY "players"."id" ASC LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:44
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 7 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:69
  Rendered game/room.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 2.6ms | ActiveRecord: 0.3ms (7 queries, 2 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:50:02 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/start/WUIMKM?player_id=7" for 127.0.0.1 at 2025-06-27 13:50:06 -0400
Processing by GameController#start_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player_id"=>"7", "room_code"=>"WUIMKM"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'WUIMKM' LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:74:in `start_game'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' AND "game_rooms"."id" != 7 LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
Redirected to http://127.0.0.1:3000/game/room/WUIMKM?player_id=7
Completed 302 Found in 38ms (ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/room/WUIMKM?player_id=7" for 127.0.0.1 at 2025-06-27 13:50:06 -0400
Processing by GameController#room as TURBO_STREAM
  Parameters: {"player_id"=>"7", "room_code"=>"WUIMKM"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'WUIMKM' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 7 AND "players"."id" = 7 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 7 ORDER BY "players"."id" ASC LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:44
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 7 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:69
  Rendered game/room.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 2.1ms | ActiveRecord: 0.2ms (6 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/room/WUIMKM?player_id=7" for 127.0.0.1 at 2025-06-27 13:51:25 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"7", "room_code"=>"WUIMKM"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'WUIMKM' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 7 AND "players"."id" = 7 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 7 ORDER BY "players"."id" ASC LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:44
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 7 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:69
  Rendered game/room.html.erb within layouts/application (Duration: 3.9ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | GC: 0.2ms)
Completed 200 OK in 39ms (Views: 5.5ms | ActiveRecord: 1.5ms (6 queries, 1 cached) | GC: 0.6ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:51:25 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/start/WUIMKM?player_id=7" for 127.0.0.1 at 2025-06-27 13:51:27 -0400
Processing by GameController#start_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player_id"=>"7", "room_code"=>"WUIMKM"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'WUIMKM' LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:74:in `start_game'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' AND "game_rooms"."id" != 7 LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
Redirected to http://127.0.0.1:3000/game/room/WUIMKM?player_id=7
Completed 302 Found in 41ms (ActiveRecord: 1.6ms (3 queries, 0 cached) | GC: 7.5ms)


Started GET "/game/room/WUIMKM?player_id=7" for 127.0.0.1 at 2025-06-27 13:51:27 -0400
Processing by GameController#room as TURBO_STREAM
  Parameters: {"player_id"=>"7", "room_code"=>"WUIMKM"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'WUIMKM' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 7 AND "players"."id" = 7 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mPlayer Load (0.7ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 7 ORDER BY "players"."id" ASC LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:44
  [1m[36mPlayer Load (0.4ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 7 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:69
  Rendered game/room.html.erb within layouts/application (Duration: 6.8ms | GC: 3.7ms)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | GC: 4.1ms)
Completed 200 OK in 33ms (Views: 7.3ms | ActiveRecord: 1.4ms (6 queries, 1 cached) | GC: 9.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:51:29 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.1ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 7 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 7 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 3.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | GC: 0.0ms)
Completed 200 OK in 44ms (Views: 4.1ms | ActiveRecord: 0.5ms (7 queries, 2 cached) | GC: 3.9ms)


Started POST "/game/cleanup_rooms?force_delete_name=test+room" for 127.0.0.1 at 2025-06-27 13:51:30 -0400
Processing by GameController#cleanup_rooms as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "force_delete_name"=>"test room"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 7 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 7 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 7 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:108:in `cleanup_rooms'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:108:in `cleanup_rooms'
  [1m[36mPlayer Load (0.5ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 7 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:108:in `cleanup_rooms'
  [1m[36mPlayer Destroy (0.0ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 7 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:108:in `cleanup_rooms'
  [1m[36mPlayer Destroy (0.1ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 8 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:108:in `cleanup_rooms'
  [1m[36mGameMove Load (0.1ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."game_room_id" = 7 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:108:in `cleanup_rooms'
  [1m[36mGameRoom Destroy (0.0ms)[0m  [1m[31mDELETE FROM "game_rooms" WHERE "game_rooms"."id" = 7 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:108:in `cleanup_rooms'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:108:in `cleanup_rooms'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 40ms (ActiveRecord: 1.8ms (10 queries, 0 cached) | GC: 0.5ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:51:30 -0400
Processing by GameController#multiplayer as TURBO_STREAM
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 2.0ms | ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:52:59 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.7ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 3.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | GC: 0.0ms)
Completed 200 OK in 30ms (Views: 4.9ms | ActiveRecord: 0.9ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:52:59 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/create_room" for 127.0.0.1 at 2025-06-27 13:53:03 -0400
Processing by GameController#create_room as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "game_room"=>{"name"=>"test room", "max_players"=>"2"}, "commit"=>"Create Room"}
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' LIMIT 1 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Create (0.1ms)[0m  [1m[32mINSERT INTO "game_rooms" ("name", "room_code", "max_players", "status", "created_at", "updated_at") VALUES ('test room', 'MFGWER', 2, NULL, '2025-06-27 17:53:03.636907', '2025-06-27 17:53:03.636907') RETURNING "id" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
Redirected to http://127.0.0.1:3000/game/join/MFGWER
Completed 302 Found in 27ms (ActiveRecord: 1.4ms (3 queries, 0 cached) | GC: 0.3ms)


Started GET "/game/join/MFGWER" for 127.0.0.1 at 2025-06-27 13:53:03 -0400
Processing by GameController#join_room as TURBO_STREAM
  Parameters: {"room_code"=>"MFGWER"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'MFGWER' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 8 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 2.9ms | ActiveRecord: 0.5ms (4 queries, 1 cached) | GC: 0.2ms)


Started POST "/game/join/MFGWER" for 127.0.0.1 at 2025-06-27 13:53:08 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris"}, "commit"=>"Join Game", "room_code"=>"MFGWER"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'MFGWER' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 0
Room max players: 2
Player params: {"name"=>"chris"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8[0m
  ↳ app/models/game_room.rb:11:in `full?'
  [1m[36mPlayer Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 8 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 8 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 8 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (0.6ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (8, 'chris', 0, '2025-06-27 17:53:08.242094', '2025-06-27 17:53:08.242094') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 9
Redirected to http://127.0.0.1:3000/game/waiting/MFGWER/9
Completed 302 Found in 28ms (ActiveRecord: 0.9ms (7 queries, 3 cached) | GC: 0.0ms)


Started GET "/game/waiting/MFGWER/9" for 127.0.0.1 at 2025-06-27 13:53:08 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"MFGWER", "player_id"=>"9"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'MFGWER' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 8 AND "players"."id" = 9 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 8 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.7ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.1ms)
Completed 200 OK in 24ms (Views: 2.1ms | ActiveRecord: 0.2ms (5 queries, 1 cached) | GC: 0.1ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:53:10 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 8 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 8 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 3.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 30ms (Views: 3.5ms | ActiveRecord: 0.5ms (7 queries, 2 cached) | GC: 1.1ms)


Started GET "/game/join/ROOM_CODE?room_code=MFGWER&commit=Join+Room" for 127.0.0.1 at 2025-06-27 13:53:19 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"ROOM_CODE", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'ROOM_CODE' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 33ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:53:19 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 8 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 8 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 2.1ms | ActiveRecord: 0.2ms (7 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/join/ROOM_CODE?room_code=MFGWER&commit=Join+Room" for 127.0.0.1 at 2025-06-27 13:53:23 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"ROOM_CODE", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'ROOM_CODE' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 27ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:53:23 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 8 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 8 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.7ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.6ms)
Completed 200 OK in 28ms (Views: 3.2ms | ActiveRecord: 0.2ms (7 queries, 2 cached) | GC: 3.2ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:53:24 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.1ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 8 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 8 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 4.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | GC: 0.0ms)
Completed 200 OK in 38ms (Views: 5.3ms | ActiveRecord: 0.3ms (7 queries, 2 cached) | GC: 0.7ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:53:24 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/join/MFGWER?room_code=MFGWER&commit=Join+Room" for 127.0.0.1 at 2025-06-27 13:53:26 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"MFGWER", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'MFGWER' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 8 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 36ms (Views: 2.5ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)


Started POST "/game/join/MFGWER" for 127.0.0.1 at 2025-06-27 13:53:31 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris2"}, "commit"=>"Join Game", "room_code"=>"MFGWER"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'MFGWER' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 1
Room max players: 2
Player params: {"name"=>"chris2"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8[0m
  ↳ app/models/game_room.rb:11:in `full?'
  [1m[36mPlayer Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 8 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 8 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 8 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (2.2ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (8, 'chris2', 0, '2025-06-27 17:53:31.162186', '2025-06-27 17:53:31.162186') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 10
Redirected to http://127.0.0.1:3000/game/waiting/MFGWER/10
Completed 302 Found in 45ms (ActiveRecord: 2.6ms (7 queries, 3 cached) | GC: 4.8ms)


Started GET "/game/waiting/MFGWER/10" for 127.0.0.1 at 2025-06-27 13:53:31 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"MFGWER", "player_id"=>"10"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'MFGWER' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 8 AND "players"."id" = 10 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 8 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 7.2ms | GC: 3.9ms)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | GC: 3.9ms)
Completed 200 OK in 34ms (Views: 8.2ms | ActiveRecord: 0.4ms (5 queries, 1 cached) | GC: 7.8ms)


Started GET "/game/waiting/MFGWER/9" for 127.0.0.1 at 2025-06-27 13:53:35 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"MFGWER", "player_id"=>"9"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'MFGWER' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 8 AND "players"."id" = 9 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 8 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 6.0ms | GC: 3.6ms)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | GC: 4.9ms)
Completed 200 OK in 34ms (Views: 7.9ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 7.4ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:53:35 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/status/MFGWER" for 127.0.0.1 at 2025-06-27 13:53:35 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"MFGWER"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'MFGWER' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 33ms (Views: 0.1ms | ActiveRecord: 0.1ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/room/MFGWER?player_id=9" for 127.0.0.1 at 2025-06-27 13:53:36 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"9", "room_code"=>"MFGWER"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'MFGWER' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 8 AND "players"."id" = 9 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 8 ORDER BY "players"."id" ASC LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:44
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 8 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:69
  Rendered game/room.html.erb within layouts/application (Duration: 2.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 27ms (Views: 2.7ms | ActiveRecord: 0.2ms (6 queries, 1 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:53:36 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:53:37 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.1ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 8 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 8 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 2.2ms | ActiveRecord: 0.2ms (7 queries, 2 cached) | GC: 0.0ms)


Started POST "/game/start/MFGWER?player_id=9" for 127.0.0.1 at 2025-06-27 13:53:41 -0400
Processing by GameController#start_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player_id"=>"9", "room_code"=>"MFGWER"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'MFGWER' LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:74:in `start_game'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' AND "game_rooms"."id" != 8 LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Update (0.0ms)[0m  [1m[33mUPDATE "game_rooms" SET "status" = 'playing', "updated_at" = '2025-06-27 17:53:41.720047' WHERE "game_rooms"."id" = 8 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
Redirected to http://127.0.0.1:3000/game/room/MFGWER?player_id=9
Completed 302 Found in 41ms (ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/room/MFGWER?player_id=9" for 127.0.0.1 at 2025-06-27 13:53:41 -0400
Processing by GameController#room as TURBO_STREAM
  Parameters: {"player_id"=>"9", "room_code"=>"MFGWER"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'MFGWER' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 8 AND "players"."id" = 9 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 8 ORDER BY "players"."id" ASC LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:44
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 8 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:69
  Rendered game/room.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 2.1ms | ActiveRecord: 0.2ms (6 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/waiting/MFGWER/10" for 127.0.0.1 at 2025-06-27 13:54:27 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"MFGWER", "player_id"=>"10"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'MFGWER' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 8 AND "players"."id" = 10 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 8 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 8.1ms | GC: 3.9ms)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | GC: 3.9ms)
Completed 200 OK in 36ms (Views: 8.7ms | ActiveRecord: 0.4ms (5 queries, 1 cached) | GC: 3.9ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:54:27 -0400
Started GET "/game/status/MFGWER" for 127.0.0.1 at 2025-06-27 13:54:27 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"MFGWER"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'MFGWER' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 42ms (Views: 0.1ms | ActiveRecord: 0.1ms (4 queries, 2 cached) | GC: 3.3ms)


Started GET "/game/room/MFGWER?player_id=10" for 127.0.0.1 at 2025-06-27 13:54:27 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"10", "room_code"=>"MFGWER"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'MFGWER' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 8 AND "players"."id" = 10 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 8 ORDER BY "players"."id" ASC LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:44
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 8 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:69
  Rendered game/room.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 22ms (Views: 2.1ms | ActiveRecord: 0.2ms (7 queries, 2 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:54:27 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
  [1m[36mCACHE ActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Migrating to CreateGameBoards (20250627175625)
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Migrating to CreateGameBoards (20250627175625)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='FruitBox'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "game_boards" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "room_code" varchar NOT NULL, "board_state" text NOT NULL, "created_at" datetime(6) NOT NULL) /*application='FruitBox'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_game_boards_on_room_code" ON "game_boards" ("room_code") /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250627175625') RETURNING "version" /*application='FruitBox'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:58:30 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.8ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 8 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 8 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 3.1ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 0.1ms)
Completed 200 OK in 37ms (Views: 4.3ms | ActiveRecord: 1.4ms (7 queries, 2 cached) | GC: 0.7ms)


Started POST "/game/cleanup_rooms?delete_all=true" for 127.0.0.1 at 2025-06-27 13:58:31 -0400
Processing by GameController#cleanup_rooms as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "delete_all"=>"true"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 8 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 8 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 8 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayer Load (0.5ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 8 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayer Destroy (0.1ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 9 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayer Destroy (0.0ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 10 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameMove Load (0.1ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."game_room_id" = 8 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameRoom Destroy (0.2ms)[0m  [1m[31mDELETE FROM "game_rooms" WHERE "game_rooms"."id" = 8 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 47ms (ActiveRecord: 1.4ms (10 queries, 1 cached) | GC: 2.9ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:58:31 -0400
Processing by GameController#multiplayer as TURBO_STREAM
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 5.5ms | GC: 3.7ms)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | GC: 4.1ms)
Completed 200 OK in 28ms (Views: 6.4ms | ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 6.3ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:58:38 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 9.7ms | GC: 7.2ms)
  Rendered layout layouts/application.html.erb (Duration: 10.7ms | GC: 7.8ms)
Completed 200 OK in 46ms (Views: 11.6ms | ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 11.7ms)


Started GET "/game/room/MFGWER?player_id=9" for 127.0.0.1 at 2025-06-27 13:58:39 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"9", "room_code"=>"MFGWER"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'MFGWER' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
Completed 404 Not Found in 28ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 2.6ms)


  
ActiveRecord::RecordNotFound (Couldn't find GameRoom with [WHERE "game_rooms"."room_code" = ?]):
  
app/controllers/game_controller.rb:66:in `room'
Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:58:39 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/" for 127.0.0.1 at 2025-06-27 13:58:47 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 27ms (Views: 2.5ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:58:48 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:58:50 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 38ms (Views: 2.2ms | ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/create_room" for 127.0.0.1 at 2025-06-27 13:58:57 -0400
Processing by GameController#create_room as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "game_room"=>{"name"=>"test room", "max_players"=>"2"}, "commit"=>"Create Room"}
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' LIMIT 1 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Create (0.1ms)[0m  [1m[32mINSERT INTO "game_rooms" ("name", "room_code", "max_players", "status", "created_at", "updated_at") VALUES ('test room', 'RWP138', 2, NULL, '2025-06-27 17:58:57.293994', '2025-06-27 17:58:57.293994') RETURNING "id" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
Redirected to http://127.0.0.1:3000/game/join/RWP138
Completed 302 Found in 38ms (ActiveRecord: 1.0ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/join/RWP138" for 127.0.0.1 at 2025-06-27 13:58:57 -0400
Processing by GameController#join_room as TURBO_STREAM
  Parameters: {"room_code"=>"RWP138"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'RWP138' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 9 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 22ms (Views: 2.8ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/join/RWP138" for 127.0.0.1 at 2025-06-27 13:59:03 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"RWP138"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'RWP138' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 9 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 29ms (Views: 2.2ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:59:03 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/join/RWP138" for 127.0.0.1 at 2025-06-27 13:59:05 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris"}, "commit"=>"Join Game", "room_code"=>"RWP138"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'RWP138' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 0
Room max players: 2
Player params: {"name"=>"chris"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9[0m
  ↳ app/models/game_room.rb:11:in `full?'
  [1m[36mPlayer Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 9 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 9 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 9 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (0.8ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (9, 'chris', 0, '2025-06-27 17:59:05.698439', '2025-06-27 17:59:05.698439') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 11
Redirected to http://127.0.0.1:3000/game/waiting/RWP138/11
Completed 302 Found in 41ms (ActiveRecord: 1.1ms (7 queries, 3 cached) | GC: 0.7ms)


Started GET "/game/waiting/RWP138/11" for 127.0.0.1 at 2025-06-27 13:59:05 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"RWP138", "player_id"=>"11"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'RWP138' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 9 AND "players"."id" = 11 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 9 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.9ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.3ms)
Completed 200 OK in 25ms (Views: 2.1ms | ActiveRecord: 0.5ms (5 queries, 1 cached) | GC: 0.3ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:59:09 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.1ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 9 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 9 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.0ms)
Completed 200 OK in 36ms (Views: 3.2ms | ActiveRecord: 0.4ms (7 queries, 2 cached) | GC: 0.3ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:59:09 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/join/RWP138?room_code=RWP138&commit=Join+Room" for 127.0.0.1 at 2025-06-27 13:59:11 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"RWP138", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'RWP138' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 9 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 38ms (Views: 3.1ms | ActiveRecord: 0.3ms (4 queries, 1 cached) | GC: 0.3ms)


Started POST "/game/join/RWP138" for 127.0.0.1 at 2025-06-27 13:59:15 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris2"}, "commit"=>"Join Game", "room_code"=>"RWP138"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'RWP138' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 1
Room max players: 2
Player params: {"name"=>"chris2"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9[0m
  ↳ app/models/game_room.rb:11:in `full?'
  [1m[36mPlayer Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 9 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 9 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 9 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (0.7ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (9, 'chris2', 0, '2025-06-27 17:59:15.292276', '2025-06-27 17:59:15.292276') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 12
Redirected to http://127.0.0.1:3000/game/waiting/RWP138/12
Completed 302 Found in 40ms (ActiveRecord: 1.0ms (7 queries, 3 cached) | GC: 0.3ms)


Started GET "/game/waiting/RWP138/12" for 127.0.0.1 at 2025-06-27 13:59:15 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"RWP138", "player_id"=>"12"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'RWP138' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 9 AND "players"."id" = 12 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 9 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 1.9ms | ActiveRecord: 0.2ms (5 queries, 1 cached) | GC: 0.2ms)


Started GET "/game/waiting/RWP138/11" for 127.0.0.1 at 2025-06-27 13:59:20 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"RWP138", "player_id"=>"11"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'RWP138' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 9 AND "players"."id" = 11 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 9 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 35ms (Views: 1.9ms | ActiveRecord: 0.2ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:59:20 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/status/RWP138" for 127.0.0.1 at 2025-06-27 13:59:20 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"RWP138"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'RWP138' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 30ms (Views: 0.1ms | ActiveRecord: 0.3ms (4 queries, 2 cached) | GC: 0.7ms)


Started GET "/game/status/RWP138" for 127.0.0.1 at 2025-06-27 13:59:21 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"RWP138"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'RWP138' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 36ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/RWP138" for 127.0.0.1 at 2025-06-27 13:59:22 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"RWP138"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'RWP138' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 41ms (Views: 0.1ms | ActiveRecord: 0.3ms (4 queries, 2 cached) | GC: 0.6ms)


Started GET "/game/status/RWP138" for 127.0.0.1 at 2025-06-27 13:59:24 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"RWP138"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'RWP138' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 36ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/RWP138" for 127.0.0.1 at 2025-06-27 13:59:26 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"RWP138"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'RWP138' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 24ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/RWP138" for 127.0.0.1 at 2025-06-27 13:59:28 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"RWP138"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'RWP138' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 34ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.2ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 13:59:29 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 9 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 9 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 3.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | GC: 0.2ms)
Completed 200 OK in 40ms (Views: 4.6ms | ActiveRecord: 0.3ms (7 queries, 2 cached) | GC: 0.2ms)


Started GET "/game/status/RWP138" for 127.0.0.1 at 2025-06-27 13:59:30 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"RWP138"}
Started GET "/game/room/RWP138?player_id=11" for 127.0.0.1 at 2025-06-27 13:59:30 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"11", "room_code"=>"RWP138"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'RWP138' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 54ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'RWP138' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 9 AND "players"."id" = 11 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 9 ORDER BY "players"."id" ASC LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:70
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 9 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:93
  Rendered game/room.html.erb within layouts/application (Duration: 5.3ms | GC: 2.3ms)
  Rendered layout layouts/application.html.erb (Duration: 5.6ms | GC: 2.3ms)
Completed 200 OK in 51ms (Views: 5.7ms | ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 2.3ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:59:30 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/start/RWP138?player_id=11" for 127.0.0.1 at 2025-06-27 13:59:33 -0400
Processing by GameController#start_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player_id"=>"11", "room_code"=>"RWP138"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'RWP138' LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:74:in `start_game'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' AND "game_rooms"."id" != 9 LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Update (0.0ms)[0m  [1m[33mUPDATE "game_rooms" SET "status" = 'playing', "updated_at" = '2025-06-27 17:59:33.760730' WHERE "game_rooms"."id" = 9 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
Redirected to http://127.0.0.1:3000/game/room/RWP138?player_id=11
Completed 302 Found in 29ms (ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.2ms)


Started GET "/game/room/RWP138?player_id=11" for 127.0.0.1 at 2025-06-27 13:59:33 -0400
Processing by GameController#room as TURBO_STREAM
  Parameters: {"player_id"=>"11", "room_code"=>"RWP138"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'RWP138' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 9 AND "players"."id" = 11 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 9 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:93
  Rendered game/room.html.erb within layouts/application (Duration: 1.0ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.2ms)
Completed 200 OK in 21ms (Views: 1.5ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.2ms)


Started GET "/game/waiting/RWP138/12" for 127.0.0.1 at 2025-06-27 13:59:40 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"RWP138", "player_id"=>"12"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'RWP138' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 9 AND "players"."id" = 12 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 9 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.5ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.1ms)
Completed 200 OK in 33ms (Views: 2.1ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 0.1ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:59:40 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/status/RWP138" for 127.0.0.1 at 2025-06-27 13:59:40 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"RWP138"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'RWP138' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 23ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.7ms)


Started GET "/game/room/RWP138?player_id=12" for 127.0.0.1 at 2025-06-27 13:59:40 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"12", "room_code"=>"RWP138"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'RWP138' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 9 AND "players"."id" = 12 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 9 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:93
  Rendered game/room.html.erb within layouts/application (Duration: 1.7ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.6ms)
Completed 200 OK in 23ms (Views: 2.3ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.6ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 13:59:40 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/room/RWP138?player_id=12" for 127.0.0.1 at 2025-06-27 14:02:45 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"12", "room_code"=>"RWP138"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'RWP138' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 9 AND "players"."id" = 12 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 9 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:93
  Rendered game/room.html.erb within layouts/application (Duration: 3.9ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 4.6ms | GC: 0.8ms)
Completed 200 OK in 35ms (Views: 5.3ms | ActiveRecord: 1.2ms (4 queries, 0 cached) | GC: 2.8ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:02:45 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:02:48 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 9 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 9 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 7.8ms | GC: 3.7ms)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | GC: 3.7ms)
Completed 200 OK in 49ms (Views: 8.5ms | ActiveRecord: 0.5ms (7 queries, 2 cached) | GC: 3.7ms)


Started GET "/game/room/RWP138?player_id=11" for 127.0.0.1 at 2025-06-27 14:02:58 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"11", "room_code"=>"RWP138"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'RWP138' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 9 AND "players"."id" = 11 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 9 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:93
  Rendered game/room.html.erb within layouts/application (Duration: 1.6ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.6ms)
Completed 200 OK in 30ms (Views: 2.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.6ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:02:59 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/room/RWP138?player_id=11" for 127.0.0.1 at 2025-06-27 14:03:44 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"11", "room_code"=>"RWP138"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'RWP138' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 9 AND "players"."id" = 11 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 9 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:93
  Rendered game/room.html.erb within layouts/application (Duration: 5.0ms | GC: 2.7ms)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | GC: 3.1ms)
Completed 200 OK in 33ms (Views: 5.9ms | ActiveRecord: 0.5ms (4 queries, 0 cached) | GC: 5.5ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:03:44 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/room/RWP138?player_id=11" for 127.0.0.1 at 2025-06-27 14:03:53 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"11", "room_code"=>"RWP138"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'RWP138' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 9 AND "players"."id" = 11 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 9 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:93
  Rendered game/room.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 30ms (Views: 2.4ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:03:53 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:03:55 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 9 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 9 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.9ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.1ms)
Completed 200 OK in 25ms (Views: 2.1ms | ActiveRecord: 0.2ms (7 queries, 2 cached) | GC: 0.1ms)


Started POST "/game/cleanup_rooms?delete_all=true" for 127.0.0.1 at 2025-06-27 14:03:56 -0400
Processing by GameController#cleanup_rooms as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "delete_all"=>"true"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 9 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 9 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 9 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
  [1m[36mPlayer Load (0.4ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 9 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
  [1m[36mPlayer Destroy (0.0ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 11 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
  [1m[36mPlayer Destroy (0.0ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 12 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
  [1m[36mGameMove Load (0.0ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."game_room_id" = 9 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
  [1m[36mGameRoom Destroy (0.0ms)[0m  [1m[31mDELETE FROM "game_rooms" WHERE "game_rooms"."id" = 9 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 24ms (ActiveRecord: 1.1ms (10 queries, 1 cached) | GC: 0.3ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:03:56 -0400
Processing by GameController#multiplayer as TURBO_STREAM
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 19ms (Views: 1.4ms | ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.3ms)


Started POST "/game/create_room" for 127.0.0.1 at 2025-06-27 14:04:04 -0400
Processing by GameController#create_room as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "game_room"=>{"name"=>"test room", "max_players"=>"2"}, "commit"=>"Create Room"}
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' LIMIT 1 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Create (0.1ms)[0m  [1m[32mINSERT INTO "game_rooms" ("name", "room_code", "max_players", "status", "created_at", "updated_at") VALUES ('test room', 'WRRG6A', 2, NULL, '2025-06-27 18:04:04.135251', '2025-06-27 18:04:04.135251') RETURNING "id" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
Redirected to http://127.0.0.1:3000/game/join/WRRG6A
Completed 302 Found in 30ms (ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/join/WRRG6A" for 127.0.0.1 at 2025-06-27 14:04:04 -0400
Processing by GameController#join_room as TURBO_STREAM
  Parameters: {"room_code"=>"WRRG6A"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'WRRG6A' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 10 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 10 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 10[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 2.9ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:04:04 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 10 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
Cleaning up 1 rooms: test room
  [1m[36mGameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."id" = 10 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mPlayer Load (0.4ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 10 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mGameMove Load (0.0ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."game_room_id" = 10 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mGameRoom Destroy (0.3ms)[0m  [1m[31mDELETE FROM "game_rooms" WHERE "game_rooms"."id" = 10 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
Cleaned up 1 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 0.0ms)
Completed 200 OK in 36ms (Views: 3.3ms | ActiveRecord: 1.1ms (7 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/join/WRRG6A" for 127.0.0.1 at 2025-06-27 14:04:07 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris"}, "commit"=>"Join Game", "room_code"=>"WRRG6A"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'WRRG6A' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Completed 404 Not Found in 24ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


  
ActiveRecord::RecordNotFound (Couldn't find GameRoom with [WHERE "game_rooms"."room_code" = ?]):
  
app/controllers/game_controller.rb:33:in `join_game'
Started GET "/game/join/WRRG6A" for 127.0.0.1 at 2025-06-27 14:04:07 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"WRRG6A"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'WRRG6A' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 26ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:04:07 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 4.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.5ms | GC: 0.0ms)
Completed 200 OK in 33ms (Views: 5.7ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:04:07 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:04:10 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 3.3ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | GC: 0.4ms)
Completed 200 OK in 46ms (Views: 4.2ms | ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.4ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:04:10 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/create_room" for 127.0.0.1 at 2025-06-27 14:04:14 -0400
Processing by GameController#create_room as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "game_room"=>{"name"=>"test room", "max_players"=>"2"}, "commit"=>"Create Room"}
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' LIMIT 1 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Create (0.1ms)[0m  [1m[32mINSERT INTO "game_rooms" ("name", "room_code", "max_players", "status", "created_at", "updated_at") VALUES ('test room', 'UHYJSH', 2, NULL, '2025-06-27 18:04:14.983579', '2025-06-27 18:04:14.983579') RETURNING "id" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
Redirected to http://127.0.0.1:3000/game/join/UHYJSH
Completed 302 Found in 39ms (ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 1.0ms)


Started GET "/game/join/UHYJSH" for 127.0.0.1 at 2025-06-27 14:04:14 -0400
Processing by GameController#join_room as TURBO_STREAM
  Parameters: {"room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 11 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 1.0ms)
Completed 200 OK in 24ms (Views: 2.9ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 1.0ms)


Started POST "/game/join/UHYJSH" for 127.0.0.1 at 2025-06-27 14:04:16 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris"}, "commit"=>"Join Game", "room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 0
Room max players: 2
Player params: {"name"=>"chris"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:11:in `full?'
  [1m[36mPlayer Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 11 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 11 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 11 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (0.5ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (11, 'chris', 0, '2025-06-27 18:04:16.989565', '2025-06-27 18:04:16.989565') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 13
Redirected to http://127.0.0.1:3000/game/waiting/UHYJSH/13
Completed 302 Found in 41ms (ActiveRecord: 0.9ms (7 queries, 3 cached) | GC: 0.9ms)


Started GET "/game/waiting/UHYJSH/13" for 127.0.0.1 at 2025-06-27 14:04:16 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"UHYJSH", "player_id"=>"13"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 11 AND "players"."id" = 13 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 11 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 2.4ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/waiting/UHYJSH/13" for 127.0.0.1 at 2025-06-27 14:04:33 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"UHYJSH", "player_id"=>"13"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 11 AND "players"."id" = 13 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 11 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 29ms (Views: 1.7ms | ActiveRecord: 0.2ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:04:33 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:04:33 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 1
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>1, :max_players=>2, :can_start=>false}
Completed 200 OK in 31ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:04:35 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 1
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>1, :max_players=>2, :can_start=>false}
Completed 200 OK in 25ms (Views: 0.1ms | ActiveRecord: 0.1ms (4 queries, 2 cached) | GC: 0.1ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:04:38 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:04:38 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 1
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>1, :max_players=>2, :can_start=>false}
Completed 200 OK in 28ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:04:38 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 11 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 11 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 3.9ms | GC: 1.4ms)
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | GC: 1.4ms)
Completed 200 OK in 33ms (Views: 4.2ms | ActiveRecord: 0.2ms (7 queries, 2 cached) | GC: 1.4ms)


Started GET "/game/status/FIQVEZ" for 127.0.0.1 at 2025-06-27 14:04:40 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"FIQVEZ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'FIQVEZ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Completed 404 Not Found in 37ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 1.1ms)


  
ActiveRecord::RecordNotFound (Couldn't find GameRoom with [WHERE "game_rooms"."room_code" = ?]):
  
app/controllers/game_controller.rb:85:in `game_status'
Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:04:40 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 1
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>1, :max_players=>2, :can_start=>false}
Completed 200 OK in 25ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/FIQVEZ" for 127.0.0.1 at 2025-06-27 14:04:42 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"FIQVEZ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'FIQVEZ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Completed 404 Not Found in 35ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


  
ActiveRecord::RecordNotFound (Couldn't find GameRoom with [WHERE "game_rooms"."room_code" = ?]):
  
app/controllers/game_controller.rb:85:in `game_status'
Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:04:42 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 1
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>1, :max_players=>2, :can_start=>false}
Completed 200 OK in 23ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/FIQVEZ" for 127.0.0.1 at 2025-06-27 14:04:44 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"FIQVEZ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'FIQVEZ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Completed 404 Not Found in 28ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


  
ActiveRecord::RecordNotFound (Couldn't find GameRoom with [WHERE "game_rooms"."room_code" = ?]):
  
app/controllers/game_controller.rb:85:in `game_status'
Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:04:44 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 1
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>1, :max_players=>2, :can_start=>false}
Completed 200 OK in 22ms (Views: 0.1ms | ActiveRecord: 0.1ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/join/ROOM_CODE?room_code=UHYJSH&commit=Join+Room" for 127.0.0.1 at 2025-06-27 14:04:44 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"ROOM_CODE", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'ROOM_CODE' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 36ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:04:45 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 11 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 11 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 2.3ms | ActiveRecord: 0.2ms (7 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/FIQVEZ" for 127.0.0.1 at 2025-06-27 14:04:46 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"FIQVEZ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'FIQVEZ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Completed 404 Not Found in 36ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


  
ActiveRecord::RecordNotFound (Couldn't find GameRoom with [WHERE "game_rooms"."room_code" = ?]):
  
app/controllers/game_controller.rb:85:in `game_status'
Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:04:46 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 1
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>1, :max_players=>2, :can_start=>false}
Completed 200 OK in 22ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:04:46 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 11 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 11 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 40ms (Views: 3.0ms | ActiveRecord: 0.3ms (7 queries, 2 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:04:46 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/join/UHYJSH?room_code=UHYJSH&commit=Join+Room" for 127.0.0.1 at 2025-06-27 14:04:48 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"UHYJSH", "commit"=>"Join Room"}
Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:04:48 -0400
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 11 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.3ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.1ms)
Completed 200 OK in 32ms (Views: 3.0ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.1ms)


Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 1
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>1, :max_players=>2, :can_start=>false}
Completed 200 OK in 32ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:04:50 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 1
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>1, :max_players=>2, :can_start=>false}
Completed 200 OK in 33ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started POST "/game/join/UHYJSH" for 127.0.0.1 at 2025-06-27 14:04:51 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris2"}, "commit"=>"Join Game", "room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 1
Room max players: 2
Player params: {"name"=>"chris2"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:11:in `full?'
  [1m[36mPlayer Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 11 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 11 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 11 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (0.5ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (11, 'chris2', 0, '2025-06-27 18:04:51.925367', '2025-06-27 18:04:51.925367') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 14
Redirected to http://127.0.0.1:3000/game/waiting/UHYJSH/14
Completed 302 Found in 41ms (ActiveRecord: 0.9ms (7 queries, 3 cached) | GC: 0.0ms)


Started GET "/game/waiting/UHYJSH/14" for 127.0.0.1 at 2025-06-27 14:04:51 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"UHYJSH", "player_id"=>"14"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 11 AND "players"."id" = 14 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 11 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 1.8ms | ActiveRecord: 0.2ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:04:52 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 35ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:04:54 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (2.7ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 41ms (Views: 0.1ms | ActiveRecord: 2.8ms (4 queries, 2 cached) | GC: 2.5ms)


Started GET "/game/waiting/UHYJSH/14" for 127.0.0.1 at 2025-06-27 14:04:55 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"UHYJSH", "player_id"=>"14"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 11 AND "players"."id" = 14 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 11 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 3.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | GC: 0.0ms)
Completed 200 OK in 48ms (Views: 4.4ms | ActiveRecord: 0.5ms (5 queries, 1 cached) | GC: 1.1ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:04:55 -0400
Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:04:55 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 76ms (Views: 0.2ms | ActiveRecord: 0.4ms (4 queries, 2 cached) | GC: 4.8ms)


Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:04:56 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 36ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:04:57 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 37ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:04:58 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 43ms (Views: 0.1ms | ActiveRecord: 0.6ms (4 queries, 2 cached) | GC: 4.7ms)


Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:04:59 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:04:59 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 43ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.9ms)


  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 47ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.9ms)


Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:05:01 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
Started GET "/game/waiting/UHYJSH/13" for 127.0.0.1 at 2025-06-27 14:05:01 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"UHYJSH", "player_id"=>"13"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 50ms (Views: 0.1ms | ActiveRecord: 0.3ms (4 queries, 2 cached) | GC: 0.0ms)


  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 11 AND "players"."id" = 13 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 11 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 34ms (Views: 2.2ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 1.1ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:05:01 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:05:01 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 33ms (Views: 0.2ms | ActiveRecord: 0.5ms (4 queries, 2 cached) | GC: 2.8ms)


Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:05:02 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 36ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 1.2ms)


Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:05:03 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 28ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:05:04 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 30ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:05:05 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (1.5ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 38ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 1.3ms)


Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:05:06 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 33ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.6ms)


Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:05:07 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 34ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:05:08 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 35ms (Views: 0.1ms | ActiveRecord: 0.3ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:05:09 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 31ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.1ms)


Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:05:10 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 35ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:05:11 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 33ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.1ms)


Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:05:12 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 32ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:05:13 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 25ms (Views: 0.1ms | ActiveRecord: 0.3ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:05:14 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 24ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:05:15 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 30ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:05:16 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 32ms (Views: 0.2ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/room/UHYJSH?player_id=13" for 127.0.0.1 at 2025-06-27 14:05:17 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"13", "room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 11 AND "players"."id" = 13 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 11 ORDER BY "players"."id" ASC LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:70
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 11 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:93
  Rendered game/room.html.erb within layouts/application (Duration: 2.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 32ms (Views: 2.7ms | ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:05:17 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:05:18 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 33ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:05:19 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 32ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:05:21 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 34ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:05:23 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 36ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:05:25 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 35ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:05:27 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 37ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 2.8ms)


Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:05:29 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 31ms (Views: 0.1ms | ActiveRecord: 0.1ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:05:31 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 32ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started POST "/game/start/UHYJSH?player_id=13" for 127.0.0.1 at 2025-06-27 14:05:34 -0400
Processing by GameController#start_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player_id"=>"13", "room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:74:in `start_game'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' AND "game_rooms"."id" != 11 LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Update (0.1ms)[0m  [1m[33mUPDATE "game_rooms" SET "status" = 'playing', "updated_at" = '2025-06-27 18:05:34.232900' WHERE "game_rooms"."id" = 11 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
Redirected to http://127.0.0.1:3000/game/room/UHYJSH?player_id=13
Completed 302 Found in 28ms (ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 1.2ms)


Started GET "/game/room/UHYJSH?player_id=13" for 127.0.0.1 at 2025-06-27 14:05:34 -0400
Processing by GameController#room as TURBO_STREAM
  Parameters: {"player_id"=>"13", "room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 11 AND "players"."id" = 13 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 11 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:93
  Rendered game/room.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 22ms (Views: 1.3ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/status/UHYJSH" for 127.0.0.1 at 2025-06-27 14:05:34 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 24ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/room/UHYJSH?player_id=14" for 127.0.0.1 at 2025-06-27 14:05:34 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"14", "room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 11 AND "players"."id" = 14 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 11 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:93
  Rendered game/room.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 22ms (Views: 1.3ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.4ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:05:34 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/room/UHYJSH?player_id=13" for 127.0.0.1 at 2025-06-27 14:06:16 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"13", "room_code"=>"UHYJSH"}
  [1m[36mGameRoom Load (1.6ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'UHYJSH' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 11 AND "players"."id" = 13 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 11 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:93
  Rendered game/room.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 37ms (Views: 2.2ms | ActiveRecord: 1.8ms (4 queries, 0 cached) | GC: 1.4ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:06:16 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:06:19 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 11 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 11 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 6.3ms | GC: 2.6ms)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | GC: 2.6ms)
Completed 200 OK in 36ms (Views: 7.1ms | ActiveRecord: 0.3ms (7 queries, 2 cached) | GC: 2.6ms)


Started POST "/game/cleanup_rooms?delete_all=true" for 127.0.0.1 at 2025-06-27 14:06:20 -0400
Processing by GameController#cleanup_rooms as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "delete_all"=>"true"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 11 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 11 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 11 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
  [1m[36mPlayer Load (0.5ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 11 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
  [1m[36mPlayer Destroy (0.0ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 13 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
  [1m[36mPlayer Destroy (0.0ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 14 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
  [1m[36mGameMove Load (0.0ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."game_room_id" = 11 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
  [1m[36mGameRoom Destroy (0.0ms)[0m  [1m[31mDELETE FROM "game_rooms" WHERE "game_rooms"."id" = 11 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 39ms (ActiveRecord: 1.0ms (10 queries, 1 cached) | GC: 1.6ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:06:20 -0400
Processing by GameController#multiplayer as TURBO_STREAM
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.7ms | GC: 0.9ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.9ms)
Completed 200 OK in 24ms (Views: 3.0ms | ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.9ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:06:23 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.9ms | GC: 0.9ms)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 0.9ms)
Completed 200 OK in 31ms (Views: 3.3ms | ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.9ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:06:23 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/create_room" for 127.0.0.1 at 2025-06-27 14:06:24 -0400
Processing by GameController#create_room as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "game_room"=>{"name"=>"test room", "max_players"=>"2"}, "commit"=>"Create Room"}
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' LIMIT 1 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Create (0.1ms)[0m  [1m[32mINSERT INTO "game_rooms" ("name", "room_code", "max_players", "status", "created_at", "updated_at") VALUES ('test room', 'HGQS3T', 2, NULL, '2025-06-27 18:06:24.963753', '2025-06-27 18:06:24.963753') RETURNING "id" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
Redirected to http://127.0.0.1:3000/game/join/HGQS3T
Completed 302 Found in 32ms (ActiveRecord: 2.2ms (3 queries, 0 cached) | GC: 1.2ms)


Started GET "/game/join/HGQS3T" for 127.0.0.1 at 2025-06-27 14:06:24 -0400
Processing by GameController#join_room as TURBO_STREAM
  Parameters: {"room_code"=>"HGQS3T"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HGQS3T' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 12 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 3.1ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.8ms)
Completed 200 OK in 24ms (Views: 3.4ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.8ms)


Started POST "/game/join/HGQS3T" for 127.0.0.1 at 2025-06-27 14:06:27 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris"}, "commit"=>"Join Game", "room_code"=>"HGQS3T"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HGQS3T' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 0
Room max players: 2
Player params: {"name"=>"chris"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12[0m
  ↳ app/models/game_room.rb:11:in `full?'
  [1m[36mPlayer Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 12 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 12 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 12 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (0.6ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (12, 'chris', 0, '2025-06-27 18:06:27.773202', '2025-06-27 18:06:27.773202') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 15
Redirected to http://127.0.0.1:3000/game/waiting/HGQS3T/15
Completed 302 Found in 42ms (ActiveRecord: 1.5ms (7 queries, 3 cached) | GC: 0.7ms)


Started GET "/game/waiting/HGQS3T/15" for 127.0.0.1 at 2025-06-27 14:06:27 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"HGQS3T", "player_id"=>"15"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HGQS3T' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 12 AND "players"."id" = 15 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 12 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 1.9ms | ActiveRecord: 0.2ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:06:30 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 12 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 12 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.0ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.1ms)
Completed 200 OK in 36ms (Views: 2.3ms | ActiveRecord: 0.2ms (7 queries, 2 cached) | GC: 0.1ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:06:32 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.1ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 12 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 12 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 4.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | GC: 0.0ms)
Completed 200 OK in 44ms (Views: 5.1ms | ActiveRecord: 0.5ms (7 queries, 2 cached) | GC: 2.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:06:32 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/join/HGQS3T?room_code=HGQS3T&commit=Join+Room" for 127.0.0.1 at 2025-06-27 14:06:35 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"HGQS3T", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HGQS3T' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 12 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 27ms (Views: 2.1ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)


Started POST "/game/join/HGQS3T" for 127.0.0.1 at 2025-06-27 14:06:37 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris2"}, "commit"=>"Join Game", "room_code"=>"HGQS3T"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HGQS3T' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 1
Room max players: 2
Player params: {"name"=>"chris2"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12[0m
  ↳ app/models/game_room.rb:11:in `full?'
  [1m[36mPlayer Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 12 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 12 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 12 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (0.5ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (12, 'chris2', 0, '2025-06-27 18:06:37.679567', '2025-06-27 18:06:37.679567') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 16
Redirected to http://127.0.0.1:3000/game/waiting/HGQS3T/16
Completed 302 Found in 38ms (ActiveRecord: 1.6ms (7 queries, 3 cached) | GC: 0.5ms)


Started GET "/game/waiting/HGQS3T/16" for 127.0.0.1 at 2025-06-27 14:06:37 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"HGQS3T", "player_id"=>"16"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HGQS3T' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 12 AND "players"."id" = 16 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 12 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 1.9ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/waiting/HGQS3T/15" for 127.0.0.1 at 2025-06-27 14:06:42 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"HGQS3T", "player_id"=>"15"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HGQS3T' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 12 AND "players"."id" = 15 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 12 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 34ms (Views: 2.3ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:06:42 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/status/HGQS3T" for 127.0.0.1 at 2025-06-27 14:06:42 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"HGQS3T"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HGQS3T' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 27ms (Views: 0.2ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/room/HGQS3T?player_id=15" for 127.0.0.1 at 2025-06-27 14:06:43 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"15", "room_code"=>"HGQS3T"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HGQS3T' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 12 AND "players"."id" = 15 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 12 ORDER BY "players"."id" ASC LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:70
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 12 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:93
  Rendered game/room.html.erb within layouts/application (Duration: 2.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 40ms (Views: 2.7ms | ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.1ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:06:43 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/waiting/HGQS3T/16" for 127.0.0.1 at 2025-06-27 14:06:48 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"HGQS3T", "player_id"=>"16"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HGQS3T' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 12 AND "players"."id" = 16 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 12 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 33ms (Views: 2.4ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 0.2ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:06:48 -0400
Started GET "/game/status/HGQS3T" for 127.0.0.1 at 2025-06-27 14:06:48 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"HGQS3T"}
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HGQS3T' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 95ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 41.5ms)


Started GET "/game/status/HGQS3T" for 127.0.0.1 at 2025-06-27 14:06:50 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"HGQS3T"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HGQS3T' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 27ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.2ms)


Started GET "/game/status/HGQS3T" for 127.0.0.1 at 2025-06-27 14:06:52 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"HGQS3T"}
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HGQS3T' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 37ms (Views: 0.1ms | ActiveRecord: 0.4ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/HGQS3T" for 127.0.0.1 at 2025-06-27 14:06:54 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"HGQS3T"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HGQS3T' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 32ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.3ms)


Started POST "/game/start/HGQS3T?player_id=15" for 127.0.0.1 at 2025-06-27 14:06:55 -0400
Processing by GameController#start_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player_id"=>"15", "room_code"=>"HGQS3T"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HGQS3T' LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:74:in `start_game'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' AND "game_rooms"."id" != 12 LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Update (0.0ms)[0m  [1m[33mUPDATE "game_rooms" SET "status" = 'playing', "updated_at" = '2025-06-27 18:06:55.316559' WHERE "game_rooms"."id" = 12 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
Redirected to http://127.0.0.1:3000/game/room/HGQS3T?player_id=15
Completed 302 Found in 31ms (ActiveRecord: 0.7ms (4 queries, 0 cached) | GC: 0.9ms)


Started GET "/game/room/HGQS3T?player_id=15" for 127.0.0.1 at 2025-06-27 14:06:55 -0400
Processing by GameController#room as TURBO_STREAM
  Parameters: {"player_id"=>"15", "room_code"=>"HGQS3T"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HGQS3T' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 12 AND "players"."id" = 15 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 12 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:93
  Rendered game/room.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 1.8ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.5ms)


Started GET "/game/status/HGQS3T" for 127.0.0.1 at 2025-06-27 14:06:56 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"HGQS3T"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HGQS3T' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 31ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/room/HGQS3T?player_id=16" for 127.0.0.1 at 2025-06-27 14:06:56 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"16", "room_code"=>"HGQS3T"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HGQS3T' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 12 AND "players"."id" = 16 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 12 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:93
  Rendered game/room.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 1.4ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:06:56 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/room/HGQS3T?player_id=15" for 127.0.0.1 at 2025-06-27 14:09:15 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"15", "room_code"=>"HGQS3T"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HGQS3T' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 12 AND "players"."id" = 15 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 12 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:96
  Rendered game/room.html.erb within layouts/application (Duration: 3.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | GC: 0.0ms)
Completed 200 OK in 73ms (Views: 9.0ms | ActiveRecord: 2.0ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:09:15 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/room/HGQS3T?player_id=15" for 127.0.0.1 at 2025-06-27 14:11:14 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"15", "room_code"=>"HGQS3T"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HGQS3T' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 12 AND "players"."id" = 15 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 12 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 2.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | GC: 0.0ms)
Completed 200 OK in 47ms (Views: 4.7ms | ActiveRecord: 2.3ms (4 queries, 0 cached) | GC: 7.3ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:11:14 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Writing application-22486126.js.map
Writing application-97f0885d.css
Writing application-9ffbb00e.js
Started GET "/game/room/HGQS3T?player_id=15" for 127.0.0.1 at 2025-06-27 14:12:09 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"15", "room_code"=>"HGQS3T"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HGQS3T' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 12 AND "players"."id" = 15 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 12 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 30ms (Views: 1.5ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 1.8ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:12:09 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:12:12 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 12 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 12 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 12 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaning up 1 rooms: test room
  [1m[36mGameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."id" = 12 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mPlayer Load (0.5ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 12 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mPlayer Destroy (0.0ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 15 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mPlayer Destroy (0.0ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 16 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mGameMove Load (0.0ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."game_room_id" = 12 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mGameRoom Destroy (0.0ms)[0m  [1m[31mDELETE FROM "game_rooms" WHERE "game_rooms"."id" = 12 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
Cleaned up 1 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 3.1ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.3ms)
Completed 200 OK in 54ms (Views: 3.4ms | ActiveRecord: 1.9ms (11 queries, 0 cached) | GC: 2.3ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:12:14 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.8ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.5ms)
Completed 200 OK in 36ms (Views: 3.5ms | ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.5ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:12:14 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/cleanup_rooms?delete_all=true" for 127.0.0.1 at 2025-06-27 14:12:15 -0400
Processing by GameController#cleanup_rooms as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "delete_all"=>"true"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 24ms (ActiveRecord: 0.1ms (2 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:12:15 -0400
Processing by GameController#multiplayer as TURBO_STREAM
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.7ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.3ms)
Completed 200 OK in 25ms (Views: 2.1ms | ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.6ms)


Started POST "/game/cleanup_rooms?delete_all=true" for 127.0.0.1 at 2025-06-27 14:12:16 -0400
Processing by GameController#cleanup_rooms as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "delete_all"=>"true"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 35ms (ActiveRecord: 0.1ms (2 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:12:16 -0400
Processing by GameController#multiplayer as TURBO_STREAM
Running cleanup before action...
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.1ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.6ms)
Completed 200 OK in 24ms (Views: 2.5ms | ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.6ms)


Started POST "/game/create_room" for 127.0.0.1 at 2025-06-27 14:12:19 -0400
Processing by GameController#create_room as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "game_room"=>{"name"=>"test room", "max_players"=>"2"}, "commit"=>"Create Room"}
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' LIMIT 1 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Create (0.1ms)[0m  [1m[32mINSERT INTO "game_rooms" ("name", "room_code", "max_players", "status", "created_at", "updated_at") VALUES ('test room', 'AIWPUO', 2, NULL, '2025-06-27 18:12:19.471454', '2025-06-27 18:12:19.471454') RETURNING "id" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
Redirected to http://127.0.0.1:3000/game/join/AIWPUO
Completed 302 Found in 37ms (ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/join/AIWPUO" for 127.0.0.1 at 2025-06-27 14:12:19 -0400
Processing by GameController#join_room as TURBO_STREAM
  Parameters: {"room_code"=>"AIWPUO"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AIWPUO' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 13 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 2.6ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)


Started POST "/game/join/AIWPUO" for 127.0.0.1 at 2025-06-27 14:12:21 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris"}, "commit"=>"Join Game", "room_code"=>"AIWPUO"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AIWPUO' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 0
Room max players: 2
Player params: {"name"=>"chris"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13[0m
  ↳ app/models/game_room.rb:11:in `full?'
  [1m[36mPlayer Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 13 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 13 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 13 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (0.9ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (13, 'chris', 0, '2025-06-27 18:12:22.008981', '2025-06-27 18:12:22.008981') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 17
Redirected to http://127.0.0.1:3000/game/waiting/AIWPUO/17
Completed 302 Found in 41ms (ActiveRecord: 1.3ms (7 queries, 3 cached) | GC: 5.2ms)


Started GET "/game/waiting/AIWPUO/17" for 127.0.0.1 at 2025-06-27 14:12:22 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"AIWPUO", "player_id"=>"17"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AIWPUO' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 13 AND "players"."id" = 17 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 13 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.3ms)
Completed 200 OK in 24ms (Views: 2.5ms | ActiveRecord: 0.2ms (5 queries, 1 cached) | GC: 0.3ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:12:27 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 13 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 13 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 3.0ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 0.3ms)
Completed 200 OK in 32ms (Views: 3.4ms | ActiveRecord: 0.3ms (7 queries, 2 cached) | GC: 0.5ms)


Started GET "/game/join/ROOM_CODE?room_code=AIWPUO&commit=Join+Room" for 127.0.0.1 at 2025-06-27 14:12:29 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"ROOM_CODE", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'ROOM_CODE' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 35ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:12:30 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 13 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 13 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 1.9ms | ActiveRecord: 0.2ms (7 queries, 2 cached) | GC: 0.4ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:12:30 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 13 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 13 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 2.2ms | ActiveRecord: 0.2ms (7 queries, 2 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:12:30 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/join/AIWPUO?room_code=AIWPUO&commit=Join+Room" for 127.0.0.1 at 2025-06-27 14:12:32 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"AIWPUO", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AIWPUO' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 13 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 38ms (Views: 2.6ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)


Started POST "/game/join/AIWPUO" for 127.0.0.1 at 2025-06-27 14:12:35 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris2"}, "commit"=>"Join Game", "room_code"=>"AIWPUO"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AIWPUO' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 1
Room max players: 2
Player params: {"name"=>"chris2"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13[0m
  ↳ app/models/game_room.rb:11:in `full?'
  [1m[36mPlayer Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 13 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 13 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 13 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (0.5ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (13, 'chris2', 0, '2025-06-27 18:12:35.805500', '2025-06-27 18:12:35.805500') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 18
Redirected to http://127.0.0.1:3000/game/waiting/AIWPUO/18
Completed 302 Found in 34ms (ActiveRecord: 1.0ms (7 queries, 3 cached) | GC: 2.2ms)


Started GET "/game/waiting/AIWPUO/18" for 127.0.0.1 at 2025-06-27 14:12:35 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"AIWPUO", "player_id"=>"18"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AIWPUO' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 13 AND "players"."id" = 18 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 13 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 1.8ms | ActiveRecord: 0.2ms (5 queries, 1 cached) | GC: 0.7ms)


Started GET "/game/waiting/AIWPUO/17" for 127.0.0.1 at 2025-06-27 14:12:39 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"AIWPUO", "player_id"=>"17"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AIWPUO' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 13 AND "players"."id" = 17 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 13 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 3.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | GC: 0.0ms)
Completed 200 OK in 40ms (Views: 4.3ms | ActiveRecord: 0.5ms (5 queries, 1 cached) | GC: 0.6ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:12:39 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/status/AIWPUO" for 127.0.0.1 at 2025-06-27 14:12:39 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"AIWPUO"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AIWPUO' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 46ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 3.0ms)


Started GET "/game/room/AIWPUO?player_id=17" for 127.0.0.1 at 2025-06-27 14:12:40 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"17", "room_code"=>"AIWPUO"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AIWPUO' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 13 AND "players"."id" = 17 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 13 ORDER BY "players"."id" ASC LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:78
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 13 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 2.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 3.0ms | ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.2ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:12:40 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/start/AIWPUO?player_id=17" for 127.0.0.1 at 2025-06-27 14:12:45 -0400
Processing by GameController#start_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player_id"=>"17", "room_code"=>"AIWPUO"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AIWPUO' LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:74:in `start_game'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' AND "game_rooms"."id" != 13 LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Update (0.0ms)[0m  [1m[33mUPDATE "game_rooms" SET "status" = 'playing', "updated_at" = '2025-06-27 18:12:45.792285' WHERE "game_rooms"."id" = 13 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
Redirected to http://127.0.0.1:3000/game/room/AIWPUO?player_id=17
Completed 302 Found in 28ms (ActiveRecord: 0.7ms (4 queries, 0 cached) | GC: 0.5ms)


Started GET "/game/room/AIWPUO?player_id=17" for 127.0.0.1 at 2025-06-27 14:12:45 -0400
Processing by GameController#room as TURBO_STREAM
  Parameters: {"player_id"=>"17", "room_code"=>"AIWPUO"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AIWPUO' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 13 AND "players"."id" = 17 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 13 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 1.3ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/room/AIWPUO?player_id=17" for 127.0.0.1 at 2025-06-27 14:13:38 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"17", "room_code"=>"AIWPUO"}
  [1m[36mGameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AIWPUO' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 13 AND "players"."id" = 17 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 13 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:108
  Rendered game/room.html.erb within layouts/application (Duration: 2.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | GC: 0.0ms)
Completed 200 OK in 74ms (Views: 11.8ms | ActiveRecord: 1.4ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:13:39 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/board/AIWPUO?player_id=17" for 127.0.0.1 at 2025-06-27 14:13:39 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"17", "room_code"=>"AIWPUO"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AIWPUO' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 13 AND "players"."id" = 17 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.0ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'AIWPUO_player_17' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mGameBoard Create (1.7ms)[0m  [1m[32mINSERT INTO "game_boards" ("room_code", "board_state", "created_at") VALUES ('AIWPUO_player_17', '[[0,0,1,1,0,0,0,0,0,0],[1,0,0,0,1,0,0,1,0,0],[0,0,1,0,1,0,0,0,0,0],[0,1,0,1,0,1,0,1,0,0],[0,0,0,0,1,1,0,1,0,0],[0,0,0,0,1,0,1,1,1,0],[0,0,1,0,0,1,0,0,0,0],[0,0,0,0,1,0,0,1,0,0],[1,0,0,0,0,0,1,0,1,0],[0,0,0,0,0,0,0,0,1,0]]', '2025-06-27 18:13:39.312413') RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
Completed 200 OK in 34ms (Views: 0.2ms | ActiveRecord: 2.4ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/waiting/AIWPUO/18" for 127.0.0.1 at 2025-06-27 14:13:56 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"AIWPUO", "player_id"=>"18"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AIWPUO' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 13 AND "players"."id" = 18 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 13 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 4.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | GC: 0.0ms)
Completed 200 OK in 42ms (Views: 4.6ms | ActiveRecord: 0.4ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:13:56 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/status/AIWPUO" for 127.0.0.1 at 2025-06-27 14:13:56 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"AIWPUO"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AIWPUO' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 31ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/room/AIWPUO?player_id=18" for 127.0.0.1 at 2025-06-27 14:13:56 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"18", "room_code"=>"AIWPUO"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AIWPUO' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 13 AND "players"."id" = 18 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 13 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:108
  Rendered game/room.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 33ms (Views: 1.4ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:13:56 -0400
Started GET "/game/board/AIWPUO?player_id=18" for 127.0.0.1 at 2025-06-27 14:13:56 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"18", "room_code"=>"AIWPUO"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AIWPUO' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 13 AND "players"."id" = 18 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.0ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'AIWPUO_player_18' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mGameBoard Create (0.4ms)[0m  [1m[32mINSERT INTO "game_boards" ("room_code", "board_state", "created_at") VALUES ('AIWPUO_player_18', '[[1,0,1,0,0,1,1,0,0,1],[0,0,0,0,0,0,0,1,0,0],[0,0,0,0,0,0,0,1,1,0],[0,0,0,0,0,1,0,1,0,0],[0,0,0,1,0,0,0,0,0,1],[0,1,1,0,1,0,0,0,1,0],[0,0,0,1,0,0,0,0,0,0],[0,1,0,1,0,1,0,0,1,0],[1,0,0,0,1,0,0,0,0,0],[0,0,1,1,1,1,0,1,0,0]]', '2025-06-27 18:13:56.815551') RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
Completed 200 OK in 46ms (Views: 0.1ms | ActiveRecord: 0.6ms (4 queries, 0 cached) | GC: 1.1ms)


Started POST "/game/board/AIWPUO/refresh?player_id=17" for 127.0.0.1 at 2025-06-27 14:14:24 -0400
Processing by GameController#refresh_board as */*
  Parameters: {"player_id"=>"17", "room_code"=>"AIWPUO", "game"=>{}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AIWPUO' LIMIT 1 /*action='refresh_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:119:in `refresh_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 13 AND "players"."id" = 17 LIMIT 1 /*action='refresh_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:120:in `refresh_board'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='refresh_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mGameBoard Create (0.5ms)[0m  [1m[32mINSERT INTO "game_boards" ("room_code", "board_state", "created_at") VALUES ('AIWPUO_player_17', '[[0,0,1,0,0,1,0,1,0,0],[1,1,1,0,0,1,1,0,0,0],[0,0,0,1,1,1,0,1,0,1],[0,1,0,0,0,0,1,0,0,1],[1,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,0,0,0],[0,1,0,1,0,0,0,0,1,0],[0,0,0,0,1,0,0,1,1,0],[1,0,0,1,0,0,0,1,1,0],[0,1,0,0,0,0,1,0,0,1]]', '2025-06-27 18:14:24.492507') RETURNING "id" /*action='refresh_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='refresh_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
Completed 200 OK in 46ms (Views: 0.1ms | ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 0.0ms)


Writing application-cf6dfc86.js.map
Writing application-d1d9cbd4.css
Writing application-02cb783d.js
Writing application.tailwind-ee41ae41.css
Writing stimulus.min-4b1e420e.js
Writing stimulus-d59b3b7f.js
Writing stimulus.min-2395e199.js.map
Writing stimulus-importmap-autoloader-64cc03e1.js
Writing stimulus-autoloader-9d447422.js
Writing stimulus-loading-1fc53fe7.js
Writing turbo.min-5f3b7fda.js.map
Writing turbo-a1e3a50a.js
Writing turbo.min-3a2e143f.js
Writing actiontext.esm-f1c04d34.js
Writing actiontext-a4ee937e.js
Writing trix-4b540cb5.js
Writing trix-65afdb1d.css
Writing action_cable-5212cfee.js
Writing actioncable.esm-e0ec9819.js
Writing actioncable-ac25813f.js
Writing activestorage.esm-f2909226.js
Writing activestorage-32201f68.js
Writing rails-ujs.esm-e925103b.js
Writing rails-ujs-20eaf715.js
Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:15:59 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.6ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.1ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 13 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 13 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 5.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 19.9ms | GC: 9.5ms)
Completed 200 OK in 87ms (Views: 22.3ms | ActiveRecord: 2.0ms (7 queries, 2 cached) | GC: 9.5ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:15:59 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/cleanup_rooms" for 127.0.0.1 at 2025-06-27 14:16:01 -0400
Processing by GameController#cleanup_rooms as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.1ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 13 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 13 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 30ms (ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:16:01 -0400
Processing by GameController#multiplayer as TURBO_STREAM
Running cleanup before action...
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 13 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 13 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 2.1ms | ActiveRecord: 0.3ms (7 queries, 2 cached) | GC: 0.0ms)


Started POST "/game/cleanup_rooms" for 127.0.0.1 at 2025-06-27 14:16:02 -0400
Processing by GameController#cleanup_rooms as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 13 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 13 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 47ms (ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 11.3ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:16:02 -0400
Processing by GameController#multiplayer as TURBO_STREAM
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 13 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 13 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.6ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.7ms)
Completed 200 OK in 26ms (Views: 3.1ms | ActiveRecord: 0.2ms (7 queries, 2 cached) | GC: 0.7ms)


Started POST "/game/cleanup_rooms?delete_all=true" for 127.0.0.1 at 2025-06-27 14:16:02 -0400
Processing by GameController#cleanup_rooms as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "delete_all"=>"true"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 13 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 13 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 13 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
  [1m[36mPlayer Load (0.5ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 13 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
  [1m[36mPlayer Destroy (0.1ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 17 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
  [1m[36mPlayer Destroy (0.0ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 18 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
  [1m[36mGameMove Load (0.0ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."game_room_id" = 13 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
  [1m[36mGameRoom Destroy (0.0ms)[0m  [1m[31mDELETE FROM "game_rooms" WHERE "game_rooms"."id" = 13 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 36ms (ActiveRecord: 1.2ms (10 queries, 1 cached) | GC: 1.4ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:16:02 -0400
Processing by GameController#multiplayer as TURBO_STREAM
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.3ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.6ms)
Completed 200 OK in 23ms (Views: 2.7ms | ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.6ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:16:12 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 6.5ms | GC: 4.3ms)
  Rendered layout layouts/application.html.erb (Duration: 7.4ms | GC: 4.8ms)
Completed 200 OK in 43ms (Views: 8.2ms | ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 6.4ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:16:12 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/" for 127.0.0.1 at 2025-06-27 14:16:17 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | GC: 0.0ms)
Completed 200 OK in 34ms (Views: 1.2ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:16:17 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 40ms (Views: 2.4ms | ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.9ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:16:17 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/cleanup_rooms" for 127.0.0.1 at 2025-06-27 14:16:33 -0400
Processing by GameController#cleanup_rooms as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 35ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:16:33 -0400
Processing by GameController#multiplayer as TURBO_STREAM
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.7ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.1ms)
Completed 200 OK in 24ms (Views: 2.0ms | ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.1ms)


Started POST "/game/create_room" for 127.0.0.1 at 2025-06-27 14:16:40 -0400
Processing by GameController#create_room as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "game_room"=>{"name"=>"test room", "max_players"=>"2"}, "commit"=>"Create Room"}
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Exists? (1.6ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' LIMIT 1 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Create (0.4ms)[0m  [1m[32mINSERT INTO "game_rooms" ("name", "room_code", "max_players", "status", "created_at", "updated_at") VALUES ('test room', 'IWUSOL', 2, NULL, '2025-06-27 18:16:41.000102', '2025-06-27 18:16:41.000102') RETURNING "id" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
Redirected to http://127.0.0.1:3000/game/join/IWUSOL
Completed 302 Found in 43ms (ActiveRecord: 3.1ms (3 queries, 0 cached) | GC: 0.7ms)


Started GET "/game/join/IWUSOL" for 127.0.0.1 at 2025-06-27 14:16:41 -0400
Processing by GameController#join_room as TURBO_STREAM
  Parameters: {"room_code"=>"IWUSOL"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IWUSOL' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 14 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 14 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 14[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 2.3ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)


Started POST "/game/join/IWUSOL" for 127.0.0.1 at 2025-06-27 14:16:44 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris"}, "commit"=>"Join Game", "room_code"=>"IWUSOL"}
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IWUSOL' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 14 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 0
Room max players: 2
Player params: {"name"=>"chris"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 14[0m
  ↳ app/models/game_room.rb:11:in `full?'
  [1m[36mPlayer Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 14 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 14 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 14 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (1.0ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (14, 'chris', 0, '2025-06-27 18:16:44.327144', '2025-06-27 18:16:44.327144') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 19
Redirected to http://127.0.0.1:3000/game/waiting/IWUSOL/19
Completed 302 Found in 30ms (ActiveRecord: 1.6ms (7 queries, 3 cached) | GC: 0.0ms)


Started GET "/game/waiting/IWUSOL/19" for 127.0.0.1 at 2025-06-27 14:16:44 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"IWUSOL", "player_id"=>"19"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IWUSOL' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 14 AND "players"."id" = 19 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 14 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 14 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 14[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 2.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.0ms)
Completed 200 OK in 34ms (Views: 3.3ms | ActiveRecord: 0.4ms (5 queries, 1 cached) | GC: 2.5ms)


Started GET "/game/join/ROOM_CODE?room_code=IWUSOL&commit=Join+Room" for 127.0.0.1 at 2025-06-27 14:16:49 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"ROOM_CODE", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'ROOM_CODE' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 38ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:16:49 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 14 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.1ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 14 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 14 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 14[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 3.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | GC: 0.0ms)
Completed 200 OK in 30ms (Views: 4.6ms | ActiveRecord: 0.4ms (7 queries, 2 cached) | GC: 0.8ms)


Started GET "/game/join/ROOM_CODE?room_code=IWUSOL&commit=Join+Room" for 127.0.0.1 at 2025-06-27 14:16:51 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"ROOM_CODE", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'ROOM_CODE' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 34ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:16:51 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 14 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 14 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 14 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 14[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.0ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.2ms)
Completed 200 OK in 27ms (Views: 2.4ms | ActiveRecord: 0.3ms (7 queries, 2 cached) | GC: 0.4ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:16:59 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 14 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 14 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.1ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 14 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 14[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 4.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | GC: 0.0ms)
Completed 200 OK in 37ms (Views: 5.5ms | ActiveRecord: 0.4ms (7 queries, 2 cached) | GC: 0.9ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:16:59 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/join/IWUSOL?room_code=IWUSOL&commit=Join+Room" for 127.0.0.1 at 2025-06-27 14:17:01 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"IWUSOL", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IWUSOL' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 14 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 14 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 14[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 41ms (Views: 2.5ms | ActiveRecord: 0.3ms (4 queries, 1 cached) | GC: 0.2ms)


Started POST "/game/join/IWUSOL" for 127.0.0.1 at 2025-06-27 14:17:04 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris2"}, "commit"=>"Join Game", "room_code"=>"IWUSOL"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IWUSOL' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 14 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 1
Room max players: 2
Player params: {"name"=>"chris2"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 14[0m
  ↳ app/models/game_room.rb:11:in `full?'
  [1m[36mPlayer Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 14 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 14 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 14 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (0.4ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (14, 'chris2', 0, '2025-06-27 18:17:04.791240', '2025-06-27 18:17:04.791240') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 20
Redirected to http://127.0.0.1:3000/game/waiting/IWUSOL/20
Completed 302 Found in 32ms (ActiveRecord: 0.8ms (7 queries, 3 cached) | GC: 0.7ms)


Started GET "/game/waiting/IWUSOL/20" for 127.0.0.1 at 2025-06-27 14:17:04 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"IWUSOL", "player_id"=>"20"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IWUSOL' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 14 AND "players"."id" = 20 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 14 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 14 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 14[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 2.3ms | ActiveRecord: 0.2ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/waiting/IWUSOL/19" for 127.0.0.1 at 2025-06-27 14:17:15 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"IWUSOL", "player_id"=>"19"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IWUSOL' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 14 AND "players"."id" = 19 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 14 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 14 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 14[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 2.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 38ms (Views: 2.9ms | ActiveRecord: 0.4ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:17:15 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/status/IWUSOL" for 127.0.0.1 at 2025-06-27 14:17:15 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"IWUSOL"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IWUSOL' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 14 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 14[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 14[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 20ms (Views: 0.1ms | ActiveRecord: 0.1ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/IWUSOL" for 127.0.0.1 at 2025-06-27 14:17:17 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"IWUSOL"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IWUSOL' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 14 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 14[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 14[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 35ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/room/IWUSOL?player_id=19" for 127.0.0.1 at 2025-06-27 14:17:17 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"19", "room_code"=>"IWUSOL"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IWUSOL' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 14 AND "players"."id" = 19 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 14 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 14[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 14 ORDER BY "players"."id" ASC LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:85
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 14 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:108
  Rendered game/room.html.erb within layouts/application (Duration: 4.2ms | GC: 1.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.5ms | GC: 1.0ms)
Completed 200 OK in 45ms (Views: 4.6ms | ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 3.1ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:17:17 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/start/IWUSOL?player_id=19" for 127.0.0.1 at 2025-06-27 14:17:19 -0400
Processing by GameController#start_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player_id"=>"19", "room_code"=>"IWUSOL"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IWUSOL' LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:74:in `start_game'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 14 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' AND "game_rooms"."id" != 14 LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Update (0.0ms)[0m  [1m[33mUPDATE "game_rooms" SET "status" = 'playing', "updated_at" = '2025-06-27 18:17:20.018065' WHERE "game_rooms"."id" = 14 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
Redirected to http://127.0.0.1:3000/game/room/IWUSOL?player_id=19
Completed 302 Found in 29ms (ActiveRecord: 0.6ms (4 queries, 0 cached) | GC: 0.8ms)


Started GET "/game/room/IWUSOL?player_id=19" for 127.0.0.1 at 2025-06-27 14:17:20 -0400
Processing by GameController#room as TURBO_STREAM
  Parameters: {"player_id"=>"19", "room_code"=>"IWUSOL"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IWUSOL' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 14 AND "players"."id" = 19 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 14 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 14 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:108
  Rendered game/room.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 1.8ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.4ms)


Started GET "/game/board/IWUSOL?player_id=19" for 127.0.0.1 at 2025-06-27 14:17:20 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"19", "room_code"=>"IWUSOL"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IWUSOL' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 14 AND "players"."id" = 19 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'IWUSOL_player_19' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mGameBoard Create (0.5ms)[0m  [1m[32mINSERT INTO "game_boards" ("room_code", "board_state", "created_at") VALUES ('IWUSOL_player_19', '[[0,0,1,0,1,1,1,0,0,0],[0,1,1,0,0,1,1,1,1,0],[0,0,0,1,0,0,0,0,0,1],[1,0,1,1,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,1],[0,1,0,1,0,1,0,0,0,0],[1,0,0,1,0,1,0,0,0,1],[0,0,0,0,0,0,1,0,0,0],[1,0,1,1,0,0,1,0,0,0],[1,0,1,0,1,0,1,0,0,0]]', '2025-06-27 18:17:20.101682') RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
Completed 200 OK in 36ms (Views: 0.1ms | ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 0.8ms)


Started GET "/game/waiting/IWUSOL/20" for 127.0.0.1 at 2025-06-27 14:17:23 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"IWUSOL", "player_id"=>"20"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IWUSOL' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 14 AND "players"."id" = 20 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 14 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 14 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 14[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 4.6ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | GC: 0.6ms)
Completed 200 OK in 40ms (Views: 5.4ms | ActiveRecord: 0.5ms (5 queries, 1 cached) | GC: 1.3ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:17:23 -0400
Started GET "/game/status/IWUSOL" for 127.0.0.1 at 2025-06-27 14:17:23 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"IWUSOL"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IWUSOL' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 14 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 14[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 14[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 32ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.6ms)


Started GET "/game/room/IWUSOL?player_id=20" for 127.0.0.1 at 2025-06-27 14:17:24 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"20", "room_code"=>"IWUSOL"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IWUSOL' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 14 AND "players"."id" = 20 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 14 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 14 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:108
  Rendered game/room.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 1.6ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:17:24 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/board/IWUSOL?player_id=20" for 127.0.0.1 at 2025-06-27 14:17:24 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"20", "room_code"=>"IWUSOL"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IWUSOL' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 14 AND "players"."id" = 20 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'IWUSOL_player_20' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mGameBoard Create (0.6ms)[0m  [1m[32mINSERT INTO "game_boards" ("room_code", "board_state", "created_at") VALUES ('IWUSOL_player_20', '[[0,1,0,0,1,1,0,1,0,1],[0,0,0,0,0,1,0,0,0,0],[0,1,0,0,0,0,0,0,1,1],[1,0,0,1,0,0,0,1,0,0],[0,0,0,0,0,0,0,0,0,1],[0,0,0,1,0,1,0,0,0,0],[0,0,0,0,0,1,0,1,0,0],[0,0,1,0,1,0,0,1,0,0],[0,1,1,0,1,0,0,1,0,0],[0,0,0,0,0,0,1,1,0,0]]', '2025-06-27 18:17:24.299393') RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
Completed 200 OK in 34ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/room/IWUSOL?player_id=20" for 127.0.0.1 at 2025-06-27 14:18:36 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"20", "room_code"=>"IWUSOL"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IWUSOL' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 14 AND "players"."id" = 20 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 14 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 14 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 2.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 0.0ms)
Completed 200 OK in 34ms (Views: 3.9ms | ActiveRecord: 1.2ms (4 queries, 0 cached) | GC: 0.7ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:18:36 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/board/IWUSOL?player_id=20" for 127.0.0.1 at 2025-06-27 14:18:36 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"20", "room_code"=>"IWUSOL"}
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IWUSOL' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 14 AND "players"."id" = 20 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.5ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'IWUSOL_player_20' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
Completed 200 OK in 46ms (Views: 0.1ms | ActiveRecord: 1.3ms (3 queries, 0 cached) | GC: 0.2ms)


Started GET "/game/room/IWUSOL?player_id=20" for 127.0.0.1 at 2025-06-27 14:21:01 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"20", "room_code"=>"IWUSOL"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IWUSOL' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 14 AND "players"."id" = 20 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 14 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 14 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 29ms (Views: 1.6ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.3ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:21:01 -0400
Started GET "/game/board/IWUSOL?player_id=20" for 127.0.0.1 at 2025-06-27 14:21:01 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"20", "room_code"=>"IWUSOL"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IWUSOL' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 14 AND "players"."id" = 20 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'IWUSOL_player_20' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
Completed 200 OK in 56ms (Views: 0.1ms | ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 4.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:21:05 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 14 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 14 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 14 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 14[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 8.1ms | GC: 2.6ms)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | GC: 2.6ms)
Completed 200 OK in 45ms (Views: 8.5ms | ActiveRecord: 0.7ms (7 queries, 2 cached) | GC: 2.6ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:21:05 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/cleanup_rooms?delete_all=true" for 127.0.0.1 at 2025-06-27 14:21:07 -0400
Processing by GameController#cleanup_rooms as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "delete_all"=>"true"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 14 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 14 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 14 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
  [1m[36mPlayer Load (0.5ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 14 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
  [1m[36mPlayer Destroy (0.0ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 19 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
  [1m[36mPlayer Destroy (0.0ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 20 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
  [1m[36mGameMove Load (0.0ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."game_room_id" = 14 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
  [1m[36mGameRoom Destroy (0.0ms)[0m  [1m[31mDELETE FROM "game_rooms" WHERE "game_rooms"."id" = 14 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 23ms (ActiveRecord: 1.2ms (10 queries, 1 cached) | GC: 0.1ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:21:07 -0400
Processing by GameController#multiplayer as TURBO_STREAM
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 19ms (Views: 1.4ms | ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)


Writing application-7a302719.js.map
Writing application-386e70a0.css
Writing application-9e7625aa.js
Writing application.tailwind-ee41ae41.css
Writing stimulus.min-4b1e420e.js
Writing stimulus-d59b3b7f.js
Writing stimulus.min-2395e199.js.map
Writing stimulus-importmap-autoloader-64cc03e1.js
Writing stimulus-autoloader-9d447422.js
Writing stimulus-loading-1fc53fe7.js
Writing turbo.min-5f3b7fda.js.map
Writing turbo-a1e3a50a.js
Writing turbo.min-3a2e143f.js
Writing actiontext.esm-f1c04d34.js
Writing actiontext-a4ee937e.js
Writing trix-4b540cb5.js
Writing trix-65afdb1d.css
Writing action_cable-5212cfee.js
Writing actioncable.esm-e0ec9819.js
Writing actioncable-ac25813f.js
Writing activestorage.esm-f2909226.js
Writing activestorage-32201f68.js
Writing rails-ujs.esm-e925103b.js
Writing rails-ujs-20eaf715.js
Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:21:57 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.7ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 9.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 13.1ms | GC: 0.0ms)
Completed 200 OK in 64ms (Views: 14.4ms | ActiveRecord: 1.4ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:21:57 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/create_room" for 127.0.0.1 at 2025-06-27 14:21:59 -0400
Processing by GameController#create_room as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "game_room"=>{"name"=>"test room", "max_players"=>"2"}, "commit"=>"Create Room"}
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' LIMIT 1 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Create (0.1ms)[0m  [1m[32mINSERT INTO "game_rooms" ("name", "room_code", "max_players", "status", "created_at", "updated_at") VALUES ('test room', 'AZMPJP', 2, NULL, '2025-06-27 18:21:59.467573', '2025-06-27 18:21:59.467573') RETURNING "id" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
Redirected to http://127.0.0.1:3000/game/join/AZMPJP
Completed 302 Found in 38ms (ActiveRecord: 2.0ms (3 queries, 0 cached) | GC: 5.9ms)


Started GET "/game/join/AZMPJP" for 127.0.0.1 at 2025-06-27 14:21:59 -0400
Processing by GameController#join_room as TURBO_STREAM
  Parameters: {"room_code"=>"AZMPJP"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AZMPJP' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 15 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 15 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 15[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 3.8ms | GC: 1.2ms)
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | GC: 1.2ms)
Completed 200 OK in 41ms (Views: 4.1ms | ActiveRecord: 0.3ms (4 queries, 1 cached) | GC: 10.0ms)


Started POST "/game/join/AZMPJP" for 127.0.0.1 at 2025-06-27 14:22:03 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris"}, "commit"=>"Join Game", "room_code"=>"AZMPJP"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AZMPJP' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 15 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 0
Room max players: 2
Player params: {"name"=>"chris"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 15[0m
  ↳ app/models/game_room.rb:11:in `full?'
  [1m[36mPlayer Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 15 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 15 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 15 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (0.5ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (15, 'chris', 0, '2025-06-27 18:22:03.122973', '2025-06-27 18:22:03.122973') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 21
Redirected to http://127.0.0.1:3000/game/waiting/AZMPJP/21
Completed 302 Found in 39ms (ActiveRecord: 1.0ms (7 queries, 3 cached) | GC: 0.5ms)


Started GET "/game/waiting/AZMPJP/21" for 127.0.0.1 at 2025-06-27 14:22:03 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"AZMPJP", "player_id"=>"21"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AZMPJP' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 15 AND "players"."id" = 21 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 15 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 15 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 15[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 2.3ms | ActiveRecord: 0.2ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:22:05 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 15 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.1ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 15 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 15 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 15[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.5ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.2ms)
Completed 200 OK in 48ms (Views: 2.9ms | ActiveRecord: 0.7ms (7 queries, 2 cached) | GC: 1.3ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:22:06 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 15 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 15 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 15 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 15[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 3.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.0ms)
Completed 200 OK in 40ms (Views: 3.5ms | ActiveRecord: 0.3ms (7 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:22:06 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 15 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 15 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 15 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 15[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 26ms (Views: 2.7ms | ActiveRecord: 0.2ms (7 queries, 2 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:22:06 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:22:06 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 15 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 15 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 15 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 15[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 41ms (Views: 3.0ms | ActiveRecord: 0.3ms (7 queries, 2 cached) | GC: 0.1ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:22:07 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/join/AZMPJP?room_code=AZMPJP&commit=Join+Room" for 127.0.0.1 at 2025-06-27 14:22:12 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"AZMPJP", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AZMPJP' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 15 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 15 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 15[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 38ms (Views: 2.3ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.2ms)


Started POST "/game/join/AZMPJP" for 127.0.0.1 at 2025-06-27 14:22:14 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris2"}, "commit"=>"Join Game", "room_code"=>"AZMPJP"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AZMPJP' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 15 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 1
Room max players: 2
Player params: {"name"=>"chris2"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 15[0m
  ↳ app/models/game_room.rb:11:in `full?'
  [1m[36mPlayer Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 15 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 15 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 15 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (0.5ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (15, 'chris2', 0, '2025-06-27 18:22:14.973527', '2025-06-27 18:22:14.973527') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 22
Redirected to http://127.0.0.1:3000/game/waiting/AZMPJP/22
Completed 302 Found in 31ms (ActiveRecord: 0.8ms (7 queries, 3 cached) | GC: 0.6ms)


Started GET "/game/waiting/AZMPJP/22" for 127.0.0.1 at 2025-06-27 14:22:14 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"AZMPJP", "player_id"=>"22"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AZMPJP' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 15 AND "players"."id" = 22 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 15 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 15 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 15[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 1.5ms | ActiveRecord: 0.2ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/waiting/AZMPJP/21" for 127.0.0.1 at 2025-06-27 14:22:20 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"AZMPJP", "player_id"=>"21"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AZMPJP' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 15 AND "players"."id" = 21 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 15 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 15 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 15[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 28ms (Views: 1.8ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:22:20 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/status/AZMPJP" for 127.0.0.1 at 2025-06-27 14:22:20 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"AZMPJP"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AZMPJP' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 15 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 15[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 15[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 43ms (Views: 0.2ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/room/AZMPJP?player_id=21" for 127.0.0.1 at 2025-06-27 14:22:21 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"21", "room_code"=>"AZMPJP"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AZMPJP' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 15 AND "players"."id" = 21 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 15 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 15[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 15 ORDER BY "players"."id" ASC LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:78
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 15 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 4.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | GC: 0.0ms)
Completed 200 OK in 46ms (Views: 4.4ms | ActiveRecord: 0.4ms (6 queries, 1 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:22:21 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/start/AZMPJP?player_id=21" for 127.0.0.1 at 2025-06-27 14:22:23 -0400
Processing by GameController#start_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player_id"=>"21", "room_code"=>"AZMPJP"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AZMPJP' LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:74:in `start_game'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 15 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' AND "game_rooms"."id" != 15 LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Update (0.0ms)[0m  [1m[33mUPDATE "game_rooms" SET "status" = 'playing', "updated_at" = '2025-06-27 18:22:23.055552' WHERE "game_rooms"."id" = 15 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
Redirected to http://127.0.0.1:3000/game/room/AZMPJP?player_id=21
Completed 302 Found in 37ms (ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/room/AZMPJP?player_id=21" for 127.0.0.1 at 2025-06-27 14:22:23 -0400
Processing by GameController#room as TURBO_STREAM
  Parameters: {"player_id"=>"21", "room_code"=>"AZMPJP"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AZMPJP' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 15 AND "players"."id" = 21 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 15 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 15 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 1.5ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/AZMPJP?player_id=21" for 127.0.0.1 at 2025-06-27 14:22:23 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"21", "room_code"=>"AZMPJP"}
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AZMPJP' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 15 AND "players"."id" = 21 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'AZMPJP_player_21' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mGameBoard Create (0.5ms)[0m  [1m[32mINSERT INTO "game_boards" ("room_code", "board_state", "created_at") VALUES ('AZMPJP_player_21', '[[0,1,0,0,0,0,0,1,1,0],[1,0,1,0,0,0,0,0,0,1],[0,0,0,1,1,0,0,1,0,0],[0,0,1,0,1,0,0,0,0,0],[0,0,0,1,0,0,0,0,1,0],[0,0,1,0,1,1,1,1,0,0],[0,0,1,0,1,0,0,0,0,0],[1,0,0,1,0,0,0,0,0,0],[1,0,1,1,0,0,0,1,0,1],[0,0,0,0,0,0,0,0,1,0]]', '2025-06-27 18:22:23.156176') RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
Completed 200 OK in 36ms (Views: 0.1ms | ActiveRecord: 1.2ms (4 queries, 0 cached) | GC: 1.9ms)


Started GET "/game/waiting/AZMPJP/22" for 127.0.0.1 at 2025-06-27 14:22:27 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"AZMPJP", "player_id"=>"22"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AZMPJP' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 15 AND "players"."id" = 22 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 15 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 15 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 15[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.9ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.2ms)
Completed 200 OK in 37ms (Views: 3.2ms | ActiveRecord: 0.4ms (5 queries, 1 cached) | GC: 0.2ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:22:27 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/status/AZMPJP" for 127.0.0.1 at 2025-06-27 14:22:27 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"AZMPJP"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AZMPJP' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 15 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 15[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 15[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 21ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.2ms)


Started GET "/game/room/AZMPJP?player_id=22" for 127.0.0.1 at 2025-06-27 14:22:27 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"22", "room_code"=>"AZMPJP"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AZMPJP' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 15 AND "players"."id" = 22 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 15 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 15 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 1.4ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.2ms)
Completed 200 OK in 22ms (Views: 2.0ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.2ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:22:27 -0400
Started GET "/game/board/AZMPJP?player_id=22" for 127.0.0.1 at 2025-06-27 14:22:27 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"22", "room_code"=>"AZMPJP"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AZMPJP' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 15 AND "players"."id" = 22 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.0ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'AZMPJP_player_22' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mGameBoard Create (0.5ms)[0m  [1m[32mINSERT INTO "game_boards" ("room_code", "board_state", "created_at") VALUES ('AZMPJP_player_22', '[[0,1,0,0,0,0,1,1,0,0],[1,1,0,0,0,0,0,1,0,1],[0,1,0,1,0,0,0,0,0,0],[0,1,0,0,0,0,1,1,0,0],[0,1,0,0,0,0,0,0,1,1],[0,1,1,0,1,0,0,0,0,0],[0,1,0,0,0,0,1,0,0,0],[1,0,0,0,0,0,1,1,0,0],[1,0,0,0,0,0,0,0,1,0],[0,0,0,1,0,0,0,1,0,0]]', '2025-06-27 18:22:27.392848') RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
Completed 200 OK in 43ms (Views: 0.1ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 3.6ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:23:15 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 15 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.1ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 15 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 15 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 15[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 3.2ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.6ms)
Completed 200 OK in 29ms (Views: 3.7ms | ActiveRecord: 0.3ms (7 queries, 2 cached) | GC: 0.7ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:23:15 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 15 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 15 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 15 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 15[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 28ms (Views: 2.5ms | ActiveRecord: 0.2ms (7 queries, 2 cached) | GC: 0.0ms)


Started POST "/game/cleanup_rooms?delete_all=true" for 127.0.0.1 at 2025-06-27 14:23:17 -0400
Processing by GameController#cleanup_rooms as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "delete_all"=>"true"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 15 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 15 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 15 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
  [1m[36mPlayer Load (0.5ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 15 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
  [1m[36mPlayer Destroy (0.0ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 21 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
  [1m[36mPlayer Destroy (0.0ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 22 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
  [1m[36mGameMove Load (0.0ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."game_room_id" = 15 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
  [1m[36mGameRoom Destroy (0.0ms)[0m  [1m[31mDELETE FROM "game_rooms" WHERE "game_rooms"."id" = 15 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:134:in `cleanup_rooms'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 28ms (ActiveRecord: 1.7ms (10 queries, 1 cached) | GC: 2.7ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:23:17 -0400
Processing by GameController#multiplayer as TURBO_STREAM
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.5ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.5ms)
Completed 200 OK in 22ms (Views: 3.0ms | ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.5ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:23:19 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.4ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.1ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.2ms)
Completed 200 OK in 26ms (Views: 2.4ms | ActiveRecord: 0.4ms (2 queries, 0 cached) | GC: 0.2ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:23:28 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 0.4ms)
Completed 200 OK in 42ms (Views: 3.6ms | ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.4ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:23:28 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:24:05 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.2ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.2ms)
Completed 200 OK in 30ms (Views: 2.5ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.2ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:24:05 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/create_room" for 127.0.0.1 at 2025-06-27 14:24:13 -0400
Processing by GameController#create_room as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "game_room"=>{"name"=>"test room", "max_players"=>"2"}, "commit"=>"Create Room"}
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' LIMIT 1 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Create (0.1ms)[0m  [1m[32mINSERT INTO "game_rooms" ("name", "room_code", "max_players", "status", "created_at", "updated_at") VALUES ('test room', 'AIRTJQ', 2, NULL, '2025-06-27 18:24:13.176565', '2025-06-27 18:24:13.176565') RETURNING "id" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
Redirected to http://127.0.0.1:3000/game/join/AIRTJQ
Completed 302 Found in 30ms (ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/join/AIRTJQ" for 127.0.0.1 at 2025-06-27 14:24:13 -0400
Processing by GameController#join_room as TURBO_STREAM
  Parameters: {"room_code"=>"AIRTJQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AIRTJQ' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 16 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 16 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 16[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 1.9ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)


Started POST "/game/join/AIRTJQ" for 127.0.0.1 at 2025-06-27 14:24:15 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris"}, "commit"=>"Join Game", "room_code"=>"AIRTJQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AIRTJQ' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 16 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 0
Room max players: 2
Player params: {"name"=>"chris"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 16[0m
  ↳ app/models/game_room.rb:11:in `full?'
  [1m[36mPlayer Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 16 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 16 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 16 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (1.8ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (16, 'chris', 0, '2025-06-27 18:24:15.355946', '2025-06-27 18:24:15.355946') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 23
Redirected to http://127.0.0.1:3000/game/waiting/AIRTJQ/23
Completed 302 Found in 48ms (ActiveRecord: 2.2ms (7 queries, 3 cached) | GC: 3.1ms)


Started GET "/game/waiting/AIRTJQ/23" for 127.0.0.1 at 2025-06-27 14:24:15 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"AIRTJQ", "player_id"=>"23"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AIRTJQ' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 16 AND "players"."id" = 23 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 16 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 16 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 16[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.7ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.2ms)
Completed 200 OK in 24ms (Views: 2.4ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 0.2ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:24:19 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 16 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.1ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 16 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 16 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 16[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.0ms)
Completed 200 OK in 37ms (Views: 3.2ms | ActiveRecord: 0.3ms (7 queries, 2 cached) | GC: 0.2ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:24:19 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/join/AIRTJQ?room_code=AIRTJQ&commit=Join+Room" for 127.0.0.1 at 2025-06-27 14:24:22 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"AIRTJQ", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AIRTJQ' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 16 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 16 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 16[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.5ms)
Completed 200 OK in 25ms (Views: 2.3ms | ActiveRecord: 0.1ms (4 queries, 1 cached) | GC: 0.5ms)


Started POST "/game/join/AIRTJQ" for 127.0.0.1 at 2025-06-27 14:24:24 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris2"}, "commit"=>"Join Game", "room_code"=>"AIRTJQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AIRTJQ' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 16 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 1
Room max players: 2
Player params: {"name"=>"chris2"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 16[0m
  ↳ app/models/game_room.rb:11:in `full?'
  [1m[36mPlayer Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 16 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 16 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 16 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (0.6ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (16, 'chris2', 0, '2025-06-27 18:24:24.845089', '2025-06-27 18:24:24.845089') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 24
Redirected to http://127.0.0.1:3000/game/waiting/AIRTJQ/24
Completed 302 Found in 41ms (ActiveRecord: 1.0ms (7 queries, 3 cached) | GC: 0.0ms)


Started GET "/game/waiting/AIRTJQ/24" for 127.0.0.1 at 2025-06-27 14:24:24 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"AIRTJQ", "player_id"=>"24"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AIRTJQ' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 16 AND "players"."id" = 24 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 16 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 16 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 16[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 1.8ms | ActiveRecord: 0.2ms (5 queries, 1 cached) | GC: 1.4ms)


Started GET "/game/waiting/AIRTJQ/23" for 127.0.0.1 at 2025-06-27 14:24:28 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"AIRTJQ", "player_id"=>"23"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AIRTJQ' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 16 AND "players"."id" = 23 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 16 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 16 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 16[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 35ms (Views: 2.4ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 2.9ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:24:28 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/status/AIRTJQ" for 127.0.0.1 at 2025-06-27 14:24:28 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"AIRTJQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AIRTJQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 16 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 16[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 16[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 35ms (Views: 0.1ms | ActiveRecord: 0.3ms (4 queries, 2 cached) | GC: 0.2ms)


Started GET "/game/room/AIRTJQ?player_id=23" for 127.0.0.1 at 2025-06-27 14:24:29 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"23", "room_code"=>"AIRTJQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AIRTJQ' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 16 AND "players"."id" = 23 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 16 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 16[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 16 ORDER BY "players"."id" ASC LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:78
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 16 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 3.4ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | GC: 0.8ms)
Completed 200 OK in 41ms (Views: 4.2ms | ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.8ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:24:29 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/start/AIRTJQ?player_id=23" for 127.0.0.1 at 2025-06-27 14:24:30 -0400
Processing by GameController#start_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player_id"=>"23", "room_code"=>"AIRTJQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AIRTJQ' LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:74:in `start_game'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 16 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' AND "game_rooms"."id" != 16 LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Update (0.1ms)[0m  [1m[33mUPDATE "game_rooms" SET "status" = 'playing', "updated_at" = '2025-06-27 18:24:30.150139' WHERE "game_rooms"."id" = 16 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
Redirected to http://127.0.0.1:3000/game/room/AIRTJQ?player_id=23
Completed 302 Found in 41ms (ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 2.3ms)


Started GET "/game/room/AIRTJQ?player_id=23" for 127.0.0.1 at 2025-06-27 14:24:30 -0400
Processing by GameController#room as TURBO_STREAM
  Parameters: {"player_id"=>"23", "room_code"=>"AIRTJQ"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AIRTJQ' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 16 AND "players"."id" = 23 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 16 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 16 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 1.7ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.9ms)


Started GET "/game/board/AIRTJQ?player_id=23" for 127.0.0.1 at 2025-06-27 14:24:30 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"23", "room_code"=>"AIRTJQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AIRTJQ' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 16 AND "players"."id" = 23 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'AIRTJQ_player_23' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mGameBoard Create (0.6ms)[0m  [1m[32mINSERT INTO "game_boards" ("room_code", "board_state", "created_at") VALUES ('AIRTJQ_player_23', '[[0,0,0,0,1,0,0,0,1,0],[1,1,0,1,0,0,0,1,0,0],[1,1,0,1,1,0,0,0,1,1],[0,0,0,1,0,0,0,0,1,0],[0,0,1,0,0,1,1,0,0,1],[0,1,0,0,0,0,1,0,1,1],[0,0,1,1,1,1,0,0,0,0],[0,0,0,0,1,0,0,0,0,1],[0,1,1,0,1,0,1,1,0,0],[0,1,0,0,0,0,0,0,0,0]]', '2025-06-27 18:24:30.238731') RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
Completed 200 OK in 26ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.4ms)


Started GET "/game/waiting/AIRTJQ/24" for 127.0.0.1 at 2025-06-27 14:24:33 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"AIRTJQ", "player_id"=>"24"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AIRTJQ' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 16 AND "players"."id" = 24 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 16 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 16 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 16[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 39ms (Views: 2.3ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 0.2ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:24:33 -0400
Started GET "/game/status/AIRTJQ" for 127.0.0.1 at 2025-06-27 14:24:33 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"AIRTJQ"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AIRTJQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 16 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 16[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 16[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 62ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 27.5ms)


Started GET "/game/room/AIRTJQ?player_id=24" for 127.0.0.1 at 2025-06-27 14:24:33 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"24", "room_code"=>"AIRTJQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AIRTJQ' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 16 AND "players"."id" = 24 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 16 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 16 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 1.3ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.2ms)
Completed 200 OK in 24ms (Views: 2.0ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.2ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:24:33 -0400
Started GET "/game/board/AIRTJQ?player_id=24" for 127.0.0.1 at 2025-06-27 14:24:33 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"24", "room_code"=>"AIRTJQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AIRTJQ' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 16 AND "players"."id" = 24 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.0ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'AIRTJQ_player_24' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mGameBoard Create (0.4ms)[0m  [1m[32mINSERT INTO "game_boards" ("room_code", "board_state", "created_at") VALUES ('AIRTJQ_player_24', '[[0,0,0,1,0,0,0,0,0,1],[1,0,0,0,1,0,0,0,1,0],[0,0,1,0,1,0,1,0,0,0],[0,0,0,0,0,0,0,0,1,0],[0,0,0,0,0,1,1,0,1,0],[0,0,1,1,1,0,1,0,0,1],[1,0,1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,0,0,1,0,0],[0,0,0,0,0,1,1,0,1,0]]', '2025-06-27 18:24:33.924276') RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
Completed 200 OK in 36ms (Views: 0.1ms | ActiveRecord: 0.6ms (4 queries, 0 cached) | GC: 3.1ms)


Started GET "/game/room/AIRTJQ?player_id=24" for 127.0.0.1 at 2025-06-27 14:30:16 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"24", "room_code"=>"AIRTJQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AIRTJQ' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 16 AND "players"."id" = 24 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 16 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 16 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 3.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 19.0ms | GC: 8.9ms)
Completed 200 OK in 80ms (Views: 20.7ms | ActiveRecord: 1.5ms (4 queries, 0 cached) | GC: 8.9ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:30:16 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/board/AIRTJQ?player_id=24" for 127.0.0.1 at 2025-06-27 14:30:16 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"24", "room_code"=>"AIRTJQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'AIRTJQ' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 16 AND "players"."id" = 24 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'AIRTJQ_player_24' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
Completed 200 OK in 49ms (Views: 0.1ms | ActiveRecord: 0.3ms (3 queries, 0 cached) | GC: 10.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:30:22 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 16 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 16 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.1ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 16 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaning up 1 rooms: test room
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."id" = 16 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mPlayer Load (0.7ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 16 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mPlayer Destroy (0.1ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 23 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mPlayer Destroy (0.0ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 24 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mGameMove Load (0.0ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."game_room_id" = 16 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mGameRoom Destroy (0.1ms)[0m  [1m[31mDELETE FROM "game_rooms" WHERE "game_rooms"."id" = 16 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
Cleaned up 1 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 20.1ms | GC: 14.0ms)
  Rendered layout layouts/application.html.erb (Duration: 20.6ms | GC: 14.0ms)
Completed 200 OK in 69ms (Views: 20.9ms | ActiveRecord: 2.1ms (11 queries, 0 cached) | GC: 14.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:30:22 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/cleanup_rooms" for 127.0.0.1 at 2025-06-27 14:30:24 -0400
Processing by GameController#cleanup_rooms as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 20ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:30:24 -0400
Processing by GameController#multiplayer as TURBO_STREAM
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.1ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.5ms)
Completed 200 OK in 21ms (Views: 2.5ms | ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.5ms)


Started POST "/game/cleanup_rooms?delete_all=true" for 127.0.0.1 at 2025-06-27 14:30:25 -0400
Processing by GameController#cleanup_rooms as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "delete_all"=>"true"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/controllers/game_controller.rb:136:in `cleanup_rooms'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 36ms (ActiveRecord: 0.1ms (2 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:30:25 -0400
Processing by GameController#multiplayer as TURBO_STREAM
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.7ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.3ms)
Completed 200 OK in 24ms (Views: 2.2ms | ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.5ms)


Started POST "/game/create_room" for 127.0.0.1 at 2025-06-27 14:30:29 -0400
Processing by GameController#create_room as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "game_room"=>{"name"=>"test room", "max_players"=>"2"}, "commit"=>"Create Room"}
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' LIMIT 1 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Create (0.1ms)[0m  [1m[32mINSERT INTO "game_rooms" ("name", "room_code", "max_players", "status", "created_at", "updated_at") VALUES ('test room', 'VVNCOS', 2, NULL, '2025-06-27 18:30:29.865355', '2025-06-27 18:30:29.865355') RETURNING "id" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
Redirected to http://127.0.0.1:3000/game/join/VVNCOS
Completed 302 Found in 39ms (ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/join/VVNCOS" for 127.0.0.1 at 2025-06-27 14:30:29 -0400
Processing by GameController#join_room as TURBO_STREAM
  Parameters: {"room_code"=>"VVNCOS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'VVNCOS' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 17 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 3.3ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.6ms)
Completed 200 OK in 28ms (Views: 3.8ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.9ms)


Started POST "/game/join/VVNCOS" for 127.0.0.1 at 2025-06-27 14:30:31 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris"}, "commit"=>"Join Game", "room_code"=>"VVNCOS"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'VVNCOS' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 0
Room max players: 2
Player params: {"name"=>"chris"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17[0m
  ↳ app/models/game_room.rb:11:in `full?'
  [1m[36mPlayer Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 17 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 17 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 17 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (0.6ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (17, 'chris', 0, '2025-06-27 18:30:31.782244', '2025-06-27 18:30:31.782244') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 25
Redirected to http://127.0.0.1:3000/game/waiting/VVNCOS/25
Completed 302 Found in 38ms (ActiveRecord: 0.9ms (7 queries, 3 cached) | GC: 0.0ms)


Started GET "/game/waiting/VVNCOS/25" for 127.0.0.1 at 2025-06-27 14:30:31 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"VVNCOS", "player_id"=>"25"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'VVNCOS' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 17 AND "players"."id" = 25 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 17 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 2.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.0ms)
Completed 200 OK in 31ms (Views: 3.1ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:30:34 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.1ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 17 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.1ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 17 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | GC: 0.8ms)
Completed 200 OK in 45ms (Views: 3.9ms | ActiveRecord: 0.4ms (7 queries, 2 cached) | GC: 4.8ms)


Started GET "/game/join/ROOM_CODE?room_code=VVNCOS&commit=Join+Room" for 127.0.0.1 at 2025-06-27 14:30:39 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"ROOM_CODE", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'ROOM_CODE' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 34ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:30:39 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 17 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 17 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.8ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.3ms)
Completed 200 OK in 27ms (Views: 3.2ms | ActiveRecord: 0.3ms (7 queries, 2 cached) | GC: 0.9ms)


Started GET "/game/join/ROOM_CODE?room_code=VVNCOS&commit=Join+Room" for 127.0.0.1 at 2025-06-27 14:30:42 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"ROOM_CODE", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'ROOM_CODE' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 35ms (ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:30:42 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 17 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 17 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.8ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.3ms)
Completed 200 OK in 27ms (Views: 3.2ms | ActiveRecord: 0.3ms (7 queries, 2 cached) | GC: 0.3ms)


Started GET "/game/join/ROOM_CODE?room_code=VVNCOS&commit=Join+Room" for 127.0.0.1 at 2025-06-27 14:30:43 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"ROOM_CODE", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'ROOM_CODE' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 33ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:30:43 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 17 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 17 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 2.1ms | ActiveRecord: 0.2ms (7 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:30:44 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 17 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 17 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 3.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 35ms (Views: 3.8ms | ActiveRecord: 0.3ms (7 queries, 2 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:30:44 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/join/VVNCOS?room_code=VVNCOS&commit=Join+Room" for 127.0.0.1 at 2025-06-27 14:30:46 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"VVNCOS", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'VVNCOS' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 17 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 39ms (Views: 2.4ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)


Started POST "/game/join/VVNCOS" for 127.0.0.1 at 2025-06-27 14:30:48 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris2"}, "commit"=>"Join Game", "room_code"=>"VVNCOS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'VVNCOS' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 1
Room max players: 2
Player params: {"name"=>"chris2"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17[0m
  ↳ app/models/game_room.rb:11:in `full?'
  [1m[36mPlayer Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 17 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 17 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 17 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (0.4ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (17, 'chris2', 0, '2025-06-27 18:30:48.356796', '2025-06-27 18:30:48.356796') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 26
Redirected to http://127.0.0.1:3000/game/waiting/VVNCOS/26
Completed 302 Found in 29ms (ActiveRecord: 0.6ms (7 queries, 3 cached) | GC: 0.0ms)


Started GET "/game/waiting/VVNCOS/26" for 127.0.0.1 at 2025-06-27 14:30:48 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"VVNCOS", "player_id"=>"26"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'VVNCOS' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 17 AND "players"."id" = 26 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 17 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 27ms (Views: 2.5ms | ActiveRecord: 0.2ms (5 queries, 1 cached) | GC: 0.7ms)


Started GET "/game/waiting/VVNCOS/26" for 127.0.0.1 at 2025-06-27 14:30:51 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"VVNCOS", "player_id"=>"26"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'VVNCOS' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 17 AND "players"."id" = 26 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 17 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.3ms)
Completed 200 OK in 42ms (Views: 2.4ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 0.3ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:30:51 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/status/VVNCOS" for 127.0.0.1 at 2025-06-27 14:30:51 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"VVNCOS"}
  [1m[36mGameRoom Load (0.6ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'VVNCOS' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 31ms (Views: 0.1ms | ActiveRecord: 0.8ms (4 queries, 2 cached) | GC: 1.8ms)


Started GET "/game/waiting/VVNCOS/25" for 127.0.0.1 at 2025-06-27 14:30:53 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"VVNCOS", "player_id"=>"25"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'VVNCOS' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 17 AND "players"."id" = 25 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 17 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 2.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 28ms (Views: 2.7ms | ActiveRecord: 0.4ms (5 queries, 1 cached) | GC: 1.1ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:30:53 -0400
Started GET "/game/status/VVNCOS" for 127.0.0.1 at 2025-06-27 14:30:53 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"VVNCOS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'VVNCOS' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 42ms (Views: 0.1ms | ActiveRecord: 0.1ms (4 queries, 2 cached) | GC: 1.7ms)


Started GET "/game/room/VVNCOS?player_id=25" for 127.0.0.1 at 2025-06-27 14:30:54 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"25", "room_code"=>"VVNCOS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'VVNCOS' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 17 AND "players"."id" = 25 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 17 ORDER BY "players"."id" ASC LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:78
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 17 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 29ms (Views: 1.9ms | ActiveRecord: 0.2ms (6 queries, 1 cached) | GC: 0.8ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:30:54 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/status/VVNCOS" for 127.0.0.1 at 2025-06-27 14:30:54 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"VVNCOS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'VVNCOS' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 29ms (Views: 0.1ms | ActiveRecord: 0.1ms (4 queries, 2 cached) | GC: 0.7ms)


Started POST "/game/start/VVNCOS?player_id=25" for 127.0.0.1 at 2025-06-27 14:30:55 -0400
Processing by GameController#start_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player_id"=>"25", "room_code"=>"VVNCOS"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'VVNCOS' LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:74:in `start_game'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' AND "game_rooms"."id" != 17 LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Update (0.0ms)[0m  [1m[33mUPDATE "game_rooms" SET "status" = 'playing', "updated_at" = '2025-06-27 18:30:55.291951' WHERE "game_rooms"."id" = 17 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
Redirected to http://127.0.0.1:3000/game/room/VVNCOS?player_id=25
Completed 302 Found in 41ms (ActiveRecord: 1.9ms (4 queries, 0 cached) | GC: 0.5ms)


Started GET "/game/room/VVNCOS?player_id=25" for 127.0.0.1 at 2025-06-27 14:30:55 -0400
Processing by GameController#room as TURBO_STREAM
  Parameters: {"player_id"=>"25", "room_code"=>"VVNCOS"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'VVNCOS' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 17 AND "players"."id" = 25 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 17 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 1.2ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.2ms)
Completed 200 OK in 24ms (Views: 1.8ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.2ms)


Started GET "/game/board/VVNCOS?player_id=25" for 127.0.0.1 at 2025-06-27 14:30:55 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"25", "room_code"=>"VVNCOS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'VVNCOS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 17 AND "players"."id" = 25 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.0ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'VVNCOS_player_25' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mGameBoard Create (0.7ms)[0m  [1m[32mINSERT INTO "game_boards" ("room_code", "board_state", "created_at") VALUES ('VVNCOS_player_25', '[[{"fruit":"🍎","value":8},{"fruit":"🍎","value":8},{"fruit":"🍎","value":3},{"fruit":"🍎","value":4},{"fruit":"🍎","value":9},{"fruit":"🍎","value":3},{"fruit":"🍎","value":7},{"fruit":"🍎","value":4},{"fruit":"🍎","value":9},{"fruit":"🍎","value":6}],[{"fruit":"🍎","value":2},{"fruit":"🍎","value":1},{"fruit":"🍎","value":6},{"fruit":"🍎","value":5},{"fruit":"🍎","value":7},{"fruit":"🍎","value":7},{"fruit":"🍎","value":1},{"fruit":"🍎","value":7},{"fruit":"🍎","value":9},{"fruit":"🍎","value":8}],[{"fruit":"🍎","value":9},{"fruit":"🍎","value":3},{"fruit":"🍎","value":5},{"fruit":"🍎","value":9},{"fruit":"🍎","value":3},{"fruit":"🍎","value":8},{"fruit":"🍎","value":4},{"fruit":"🍎","value":7},{"fruit":"🍎","value":8},{"fruit":"🍎","value":4}],[{"fruit":"🍎","value":9},{"fruit":"🍎","value":4},{"fruit":"🍎","value":6},{"fruit":"🍎","value":2},{"fruit":"🍎","value":7},{"fruit":"🍎","value":5},{"fruit":"🍎","value":6},{"fruit":"🍎","value":4},{"fruit":"🍎","value":5},{"fruit":"🍎","value":8}],[{"fruit":"🍎","value":7},{"fruit":"🍎","value":5},{"fruit":"🍎","value":4},{"fruit":"🍎","value":7},{"fruit":"🍎","value":7},{"fruit":"🍎","value":2},{"fruit":"🍎","value":5},{"fruit":"🍎","value":6},{"fruit":"🍎","value":1},{"fruit":"🍎","value":6}],[{"fruit":"🍎","value":8},{"fruit":"🍎","value":4},{"fruit":"🍎","value":4},{"fruit":"🍎","value":4},{"fruit":"🍎","value":2},{"fruit":"🍎","value":1},{"fruit":"🍎","value":9},{"fruit":"🍎","value":4},{"fruit":"🍎","value":1},{"fruit":"🍎","value":5}],[{"fruit":"🍎","value":9},{"fruit":"🍎","value":3},{"fruit":"🍎","value":1},{"fruit":"🍎","value":1},{"fruit":"🍎","value":1},{"fruit":"🍎","value":1},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":2},{"fruit":"🍎","value":9}],[{"fruit":"🍎","value":9},{"fruit":"🍎","value":1},{"fruit":"🍎","value":4},{"fruit":"🍎","value":2},{"fruit":"🍎","value":4},{"fruit":"🍎","value":1},{"fruit":"🍎","value":8},{"fruit":"🍎","value":5},{"fruit":"🍎","value":6},{"fruit":"🍎","value":1}],[{"fruit":"🍎","value":6},{"fruit":"🍎","value":2},{"fruit":"🍎","value":6},{"fruit":"🍎","value":7},{"fruit":"🍎","value":7},{"fruit":"🍎","value":7},{"fruit":"🍎","value":9},{"fruit":"🍎","value":7},{"fruit":"🍎","value":1},{"fruit":"🍎","value":9}],[{"fruit":"🍎","value":3},{"fruit":"🍎","value":6},{"fruit":"🍎","value":5},{"fruit":"🍎","value":5},{"fruit":"🍎","value":2},{"fruit":"🍎","value":6},{"fruit":"🍎","value":8},{"fruit":"🍎","value":9},{"fruit":"🍎","value":1},{"fruit":"🍎","value":3}]]', '2025-06-27 18:30:55.369569') RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
Completed 200 OK in 25ms (Views: 0.1ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.6ms)


Started GET "/game/status/VVNCOS" for 127.0.0.1 at 2025-06-27 14:30:56 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"VVNCOS"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'VVNCOS' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 33ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.3ms)


Started GET "/game/room/VVNCOS?player_id=26" for 127.0.0.1 at 2025-06-27 14:30:56 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"26", "room_code"=>"VVNCOS"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'VVNCOS' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 17 AND "players"."id" = 26 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 17 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 26ms (Views: 1.5ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:30:56 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/board/VVNCOS?player_id=26" for 127.0.0.1 at 2025-06-27 14:30:56 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"26", "room_code"=>"VVNCOS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'VVNCOS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 17 AND "players"."id" = 26 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'VVNCOS_player_26' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mGameBoard Create (0.5ms)[0m  [1m[32mINSERT INTO "game_boards" ("room_code", "board_state", "created_at") VALUES ('VVNCOS_player_26', '[[{"fruit":"🍎","value":2},{"fruit":"🍎","value":5},{"fruit":"🍎","value":2},{"fruit":"🍎","value":2},{"fruit":"🍎","value":2},{"fruit":"🍎","value":5},{"fruit":"🍎","value":5},{"fruit":"🍎","value":4},{"fruit":"🍎","value":4},{"fruit":"🍎","value":3}],[{"fruit":"🍎","value":5},{"fruit":"🍎","value":8},{"fruit":"🍎","value":8},{"fruit":"🍎","value":6},{"fruit":"🍎","value":8},{"fruit":"🍎","value":8},{"fruit":"🍎","value":8},{"fruit":"🍎","value":4},{"fruit":"🍎","value":1},{"fruit":"🍎","value":7}],[{"fruit":"🍎","value":2},{"fruit":"🍎","value":1},{"fruit":"🍎","value":2},{"fruit":"🍎","value":7},{"fruit":"🍎","value":2},{"fruit":"🍎","value":5},{"fruit":"🍎","value":1},{"fruit":"🍎","value":5},{"fruit":"🍎","value":9},{"fruit":"🍎","value":8}],[{"fruit":"🍎","value":6},{"fruit":"🍎","value":1},{"fruit":"🍎","value":4},{"fruit":"🍎","value":8},{"fruit":"🍎","value":2},{"fruit":"🍎","value":1},{"fruit":"🍎","value":4},{"fruit":"🍎","value":2},{"fruit":"🍎","value":9},{"fruit":"🍎","value":2}],[{"fruit":"🍎","value":1},{"fruit":"🍎","value":6},{"fruit":"🍎","value":3},{"fruit":"🍎","value":6},{"fruit":"🍎","value":1},{"fruit":"🍎","value":3},{"fruit":"🍎","value":3},{"fruit":"🍎","value":7},{"fruit":"🍎","value":5},{"fruit":"🍎","value":8}],[{"fruit":"🍎","value":6},{"fruit":"🍎","value":5},{"fruit":"🍎","value":4},{"fruit":"🍎","value":3},{"fruit":"🍎","value":2},{"fruit":"🍎","value":1},{"fruit":"🍎","value":1},{"fruit":"🍎","value":8},{"fruit":"🍎","value":1},{"fruit":"🍎","value":3}],[{"fruit":"🍎","value":3},{"fruit":"🍎","value":6},{"fruit":"🍎","value":5},{"fruit":"🍎","value":9},{"fruit":"🍎","value":1},{"fruit":"🍎","value":3},{"fruit":"🍎","value":8},{"fruit":"🍎","value":2},{"fruit":"🍎","value":8},{"fruit":"🍎","value":6}],[{"fruit":"🍎","value":3},{"fruit":"🍎","value":9},{"fruit":"🍎","value":9},{"fruit":"🍎","value":6},{"fruit":"🍎","value":8},{"fruit":"🍎","value":2},{"fruit":"🍎","value":8},{"fruit":"🍎","value":4},{"fruit":"🍎","value":4},{"fruit":"🍎","value":5}],[{"fruit":"🍎","value":8},{"fruit":"🍎","value":3},{"fruit":"🍎","value":2},{"fruit":"🍎","value":4},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":4},{"fruit":"🍎","value":3},{"fruit":"🍎","value":2},{"fruit":"🍎","value":1}],[{"fruit":"🍎","value":5},{"fruit":"🍎","value":1},{"fruit":"🍎","value":4},{"fruit":"🍎","value":2},{"fruit":"🍎","value":5},{"fruit":"🍎","value":8},{"fruit":"🍎","value":3},{"fruit":"🍎","value":5},{"fruit":"🍎","value":2},{"fruit":"🍎","value":7}]]', '2025-06-27 18:30:56.675050') RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
Completed 200 OK in 25ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:32:36 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.6ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 17 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 17 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 8.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 25.8ms | GC: 11.5ms)
Completed 200 OK in 100ms (Views: 32.7ms | ActiveRecord: 1.6ms (7 queries, 2 cached) | GC: 11.5ms)


Started POST "/game/cleanup_rooms" for 127.0.0.1 at 2025-06-27 14:32:37 -0400
Processing by GameController#cleanup_rooms as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 17 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 17 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 31ms (ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 1.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:32:37 -0400
Processing by GameController#multiplayer as TURBO_STREAM
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 17 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 17 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.1ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.4ms)
Completed 200 OK in 25ms (Views: 2.5ms | ActiveRecord: 0.2ms (7 queries, 2 cached) | GC: 1.2ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:32:38 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 17 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 17 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 3.2ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 0.2ms)
Completed 200 OK in 42ms (Views: 3.6ms | ActiveRecord: 0.3ms (7 queries, 2 cached) | GC: 0.9ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:32:38 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/cleanup_rooms?delete_all=true" for 127.0.0.1 at 2025-06-27 14:32:39 -0400
Processing by GameController#cleanup_rooms as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "delete_all"=>"true"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 17 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 17 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 17 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/controllers/game_controller.rb:136:in `cleanup_rooms'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:136:in `cleanup_rooms'
  [1m[36mPlayer Load (0.4ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 17 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:136:in `cleanup_rooms'
  [1m[36mPlayer Destroy (0.1ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 25 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:136:in `cleanup_rooms'
  [1m[36mPlayer Destroy (0.0ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 26 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:136:in `cleanup_rooms'
  [1m[36mGameMove Load (0.3ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."game_room_id" = 17 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:136:in `cleanup_rooms'
  [1m[36mGameRoom Destroy (0.0ms)[0m  [1m[31mDELETE FROM "game_rooms" WHERE "game_rooms"."id" = 17 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:136:in `cleanup_rooms'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:136:in `cleanup_rooms'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 38ms (ActiveRecord: 1.4ms (10 queries, 1 cached) | GC: 0.8ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:32:39 -0400
Processing by GameController#multiplayer as TURBO_STREAM
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 22ms (Views: 1.6ms | ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:32:42 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.9ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.2ms)
Completed 200 OK in 39ms (Views: 2.3ms | ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.5ms)


Started POST "/game/create_room" for 127.0.0.1 at 2025-06-27 14:32:45 -0400
Processing by GameController#create_room as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "game_room"=>{"name"=>"test room", "max_players"=>"2"}, "commit"=>"Create Room"}
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' LIMIT 1 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Create (0.2ms)[0m  [1m[32mINSERT INTO "game_rooms" ("name", "room_code", "max_players", "status", "created_at", "updated_at") VALUES ('test room', 'I1FVBB', 2, NULL, '2025-06-27 18:32:45.919982', '2025-06-27 18:32:45.919982') RETURNING "id" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
Redirected to http://127.0.0.1:3000/game/join/I1FVBB
Completed 302 Found in 58ms (ActiveRecord: 2.4ms (3 queries, 0 cached) | GC: 8.1ms)


Started GET "/game/join/I1FVBB" for 127.0.0.1 at 2025-06-27 14:32:45 -0400
Processing by GameController#join_room as TURBO_STREAM
  Parameters: {"room_code"=>"I1FVBB"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'I1FVBB' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 18 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 18 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 18[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 5.7ms | GC: 3.7ms)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | GC: 3.7ms)
Completed 200 OK in 27ms (Views: 6.4ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 5.2ms)


Started POST "/game/join/I1FVBB" for 127.0.0.1 at 2025-06-27 14:32:48 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris"}, "commit"=>"Join Game", "room_code"=>"I1FVBB"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'I1FVBB' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 18 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 0
Room max players: 2
Player params: {"name"=>"chris"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 18[0m
  ↳ app/models/game_room.rb:11:in `full?'
  [1m[36mPlayer Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 18 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 18 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 18 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (0.9ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (18, 'chris', 0, '2025-06-27 18:32:48.575347', '2025-06-27 18:32:48.575347') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 27
Redirected to http://127.0.0.1:3000/game/waiting/I1FVBB/27
Completed 302 Found in 46ms (ActiveRecord: 1.3ms (7 queries, 3 cached) | GC: 8.4ms)


Started GET "/game/waiting/I1FVBB/27" for 127.0.0.1 at 2025-06-27 14:32:48 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"I1FVBB", "player_id"=>"27"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'I1FVBB' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 18 AND "players"."id" = 27 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 18 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 18 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 18[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 2.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.0ms)
Completed 200 OK in 26ms (Views: 3.1ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 0.7ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:32:51 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 18 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 18 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 18 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 18[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 3.4ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | GC: 0.3ms)
Completed 200 OK in 43ms (Views: 4.0ms | ActiveRecord: 0.3ms (7 queries, 2 cached) | GC: 0.3ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:32:51 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/join/I1FVBB?room_code=I1FVBB&commit=Join+Room" for 127.0.0.1 at 2025-06-27 14:32:54 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"I1FVBB", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'I1FVBB' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 18 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 18 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 18[0m
  ↳ app/models/game_room.rb:11:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.6ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.8ms)
Completed 200 OK in 30ms (Views: 2.9ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.8ms)


Started POST "/game/join/I1FVBB" for 127.0.0.1 at 2025-06-27 14:32:56 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris2"}, "commit"=>"Join Game", "room_code"=>"I1FVBB"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'I1FVBB' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 18 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 1
Room max players: 2
Player params: {"name"=>"chris2"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 18[0m
  ↳ app/models/game_room.rb:11:in `full?'
  [1m[36mPlayer Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 18 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 18 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 18 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (0.9ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (18, 'chris2', 0, '2025-06-27 18:32:56.996541', '2025-06-27 18:32:56.996541') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 28
Redirected to http://127.0.0.1:3000/game/waiting/I1FVBB/28
Completed 302 Found in 41ms (ActiveRecord: 1.3ms (7 queries, 3 cached) | GC: 0.8ms)


Started GET "/game/waiting/I1FVBB/28" for 127.0.0.1 at 2025-06-27 14:32:57 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"I1FVBB", "player_id"=>"28"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'I1FVBB' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 18 AND "players"."id" = 28 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 18 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 18 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 18[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.9ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.2ms)
Completed 200 OK in 24ms (Views: 2.5ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 0.2ms)


Started GET "/game/waiting/I1FVBB/27" for 127.0.0.1 at 2025-06-27 14:33:01 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"I1FVBB", "player_id"=>"27"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'I1FVBB' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 18 AND "players"."id" = 27 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 18 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 18 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 18[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.9ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.3ms)
Completed 200 OK in 39ms (Views: 2.9ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 0.6ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:33:01 -0400
Started GET "/game/status/I1FVBB" for 127.0.0.1 at 2025-06-27 14:33:01 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"I1FVBB"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'I1FVBB' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 18 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 18[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 18[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 27ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.2ms)


Started GET "/game/room/I1FVBB?player_id=27" for 127.0.0.1 at 2025-06-27 14:33:02 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"27", "room_code"=>"I1FVBB"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'I1FVBB' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 18 AND "players"."id" = 27 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 18 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 18[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 18 ORDER BY "players"."id" ASC LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:78
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 18 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 2.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.2ms)
Completed 200 OK in 28ms (Views: 2.9ms | ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.2ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:33:02 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/start/I1FVBB?player_id=27" for 127.0.0.1 at 2025-06-27 14:33:04 -0400
Processing by GameController#start_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player_id"=>"27", "room_code"=>"I1FVBB"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'I1FVBB' LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:74:in `start_game'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 18 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' AND "game_rooms"."id" != 18 LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Update (0.0ms)[0m  [1m[33mUPDATE "game_rooms" SET "status" = 'playing', "updated_at" = '2025-06-27 18:33:04.065244' WHERE "game_rooms"."id" = 18 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
Redirected to http://127.0.0.1:3000/game/room/I1FVBB?player_id=27
Completed 302 Found in 39ms (ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.2ms)


Started GET "/game/room/I1FVBB?player_id=27" for 127.0.0.1 at 2025-06-27 14:33:04 -0400
Processing by GameController#room as TURBO_STREAM
  Parameters: {"player_id"=>"27", "room_code"=>"I1FVBB"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'I1FVBB' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 18 AND "players"."id" = 27 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 18 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 18 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 1.6ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/I1FVBB?player_id=27" for 127.0.0.1 at 2025-06-27 14:33:04 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"27", "room_code"=>"I1FVBB"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'I1FVBB' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 18 AND "players"."id" = 27 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'I1FVBB_player_27' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mGameBoard Create (0.5ms)[0m  [1m[32mINSERT INTO "game_boards" ("room_code", "board_state", "created_at") VALUES ('I1FVBB_player_27', '[[{"fruit":"🍎","value":6},{"fruit":"🍎","value":2},{"fruit":"🍎","value":1},{"fruit":"🍎","value":1},{"fruit":"🍎","value":6},{"fruit":"🍎","value":4},{"fruit":"🍎","value":7},{"fruit":"🍎","value":5},{"fruit":"🍎","value":2},{"fruit":"🍎","value":7}],[{"fruit":"🍎","value":8},{"fruit":"🍎","value":3},{"fruit":"🍎","value":1},{"fruit":"🍎","value":7},{"fruit":"🍎","value":9},{"fruit":"🍎","value":8},{"fruit":"🍎","value":6},{"fruit":"🍎","value":8},{"fruit":"🍎","value":2},{"fruit":"🍎","value":1}],[{"fruit":"🍎","value":3},{"fruit":"🍎","value":1},{"fruit":"🍎","value":9},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":5},{"fruit":"🍎","value":3},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":7}],[{"fruit":"🍎","value":5},{"fruit":"🍎","value":8},{"fruit":"🍎","value":8},{"fruit":"🍎","value":7},{"fruit":"🍎","value":4},{"fruit":"🍎","value":3},{"fruit":"🍎","value":8},{"fruit":"🍎","value":3},{"fruit":"🍎","value":3},{"fruit":"🍎","value":6}],[{"fruit":"🍎","value":3},{"fruit":"🍎","value":5},{"fruit":"🍎","value":8},{"fruit":"🍎","value":7},{"fruit":"🍎","value":1},{"fruit":"🍎","value":8},{"fruit":"🍎","value":4},{"fruit":"🍎","value":1},{"fruit":"🍎","value":7},{"fruit":"🍎","value":7}],[{"fruit":"🍎","value":4},{"fruit":"🍎","value":4},{"fruit":"🍎","value":7},{"fruit":"🍎","value":1},{"fruit":"🍎","value":7},{"fruit":"🍎","value":9},{"fruit":"🍎","value":5},{"fruit":"🍎","value":4},{"fruit":"🍎","value":5},{"fruit":"🍎","value":5}],[{"fruit":"🍎","value":1},{"fruit":"🍎","value":1},{"fruit":"🍎","value":3},{"fruit":"🍎","value":3},{"fruit":"🍎","value":3},{"fruit":"🍎","value":4},{"fruit":"🍎","value":1},{"fruit":"🍎","value":1},{"fruit":"🍎","value":3},{"fruit":"🍎","value":2}],[{"fruit":"🍎","value":4},{"fruit":"🍎","value":5},{"fruit":"🍎","value":9},{"fruit":"🍎","value":9},{"fruit":"🍎","value":5},{"fruit":"🍎","value":6},{"fruit":"🍎","value":8},{"fruit":"🍎","value":7},{"fruit":"🍎","value":3},{"fruit":"🍎","value":9}],[{"fruit":"🍎","value":8},{"fruit":"🍎","value":9},{"fruit":"🍎","value":2},{"fruit":"🍎","value":8},{"fruit":"🍎","value":8},{"fruit":"🍎","value":2},{"fruit":"🍎","value":7},{"fruit":"🍎","value":7},{"fruit":"🍎","value":3},{"fruit":"🍎","value":6}],[{"fruit":"🍎","value":6},{"fruit":"🍎","value":7},{"fruit":"🍎","value":3},{"fruit":"🍎","value":9},{"fruit":"🍎","value":4},{"fruit":"🍎","value":8},{"fruit":"🍎","value":1},{"fruit":"🍎","value":9},{"fruit":"🍎","value":4},{"fruit":"🍎","value":8}]]', '2025-06-27 18:33:04.162457') RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
Completed 200 OK in 34ms (Views: 0.2ms | ActiveRecord: 1.3ms (4 queries, 0 cached) | GC: 1.3ms)


Started GET "/game/waiting/I1FVBB/28" for 127.0.0.1 at 2025-06-27 14:33:14 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"I1FVBB", "player_id"=>"28"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'I1FVBB' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 18 AND "players"."id" = 28 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 18 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 18 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 18[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 34ms (Views: 2.6ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:33:14 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/status/I1FVBB" for 127.0.0.1 at 2025-06-27 14:33:14 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"I1FVBB"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'I1FVBB' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 18 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 18[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 18[0m
  ↳ app/models/game_room.rb:15:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 31ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/room/I1FVBB?player_id=28" for 127.0.0.1 at 2025-06-27 14:33:14 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"28", "room_code"=>"I1FVBB"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'I1FVBB' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 18 AND "players"."id" = 28 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 18 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 18 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 1.6ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:33:14 -0400
Started GET "/game/board/I1FVBB?player_id=28" for 127.0.0.1 at 2025-06-27 14:33:14 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"28", "room_code"=>"I1FVBB"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'I1FVBB' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 18 AND "players"."id" = 28 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'I1FVBB_player_28' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mGameBoard Create (0.5ms)[0m  [1m[32mINSERT INTO "game_boards" ("room_code", "board_state", "created_at") VALUES ('I1FVBB_player_28', '[[{"fruit":"🍎","value":5},{"fruit":"🍎","value":1},{"fruit":"🍎","value":3},{"fruit":"🍎","value":5},{"fruit":"🍎","value":9},{"fruit":"🍎","value":9},{"fruit":"🍎","value":8},{"fruit":"🍎","value":2},{"fruit":"🍎","value":5},{"fruit":"🍎","value":5}],[{"fruit":"🍎","value":5},{"fruit":"🍎","value":7},{"fruit":"🍎","value":5},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":8},{"fruit":"🍎","value":6},{"fruit":"🍎","value":5},{"fruit":"🍎","value":5}],[{"fruit":"🍎","value":4},{"fruit":"🍎","value":1},{"fruit":"🍎","value":6},{"fruit":"🍎","value":8},{"fruit":"🍎","value":7},{"fruit":"🍎","value":1},{"fruit":"🍎","value":4},{"fruit":"🍎","value":7},{"fruit":"🍎","value":9},{"fruit":"🍎","value":9}],[{"fruit":"🍎","value":8},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":5},{"fruit":"🍎","value":7},{"fruit":"🍎","value":3},{"fruit":"🍎","value":8},{"fruit":"🍎","value":8},{"fruit":"🍎","value":9},{"fruit":"🍎","value":9}],[{"fruit":"🍎","value":8},{"fruit":"🍎","value":5},{"fruit":"🍎","value":8},{"fruit":"🍎","value":8},{"fruit":"🍎","value":7},{"fruit":"🍎","value":4},{"fruit":"🍎","value":8},{"fruit":"🍎","value":2},{"fruit":"🍎","value":8},{"fruit":"🍎","value":3}],[{"fruit":"🍎","value":9},{"fruit":"🍎","value":6},{"fruit":"🍎","value":9},{"fruit":"🍎","value":2},{"fruit":"🍎","value":8},{"fruit":"🍎","value":3},{"fruit":"🍎","value":9},{"fruit":"🍎","value":4},{"fruit":"🍎","value":8},{"fruit":"🍎","value":2}],[{"fruit":"🍎","value":9},{"fruit":"🍎","value":5},{"fruit":"🍎","value":8},{"fruit":"🍎","value":4},{"fruit":"🍎","value":3},{"fruit":"🍎","value":1},{"fruit":"🍎","value":3},{"fruit":"🍎","value":5},{"fruit":"🍎","value":9},{"fruit":"🍎","value":6}],[{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":1},{"fruit":"🍎","value":7},{"fruit":"🍎","value":2},{"fruit":"🍎","value":2},{"fruit":"🍎","value":3},{"fruit":"🍎","value":3},{"fruit":"🍎","value":4}],[{"fruit":"🍎","value":1},{"fruit":"🍎","value":9},{"fruit":"🍎","value":6},{"fruit":"🍎","value":9},{"fruit":"🍎","value":9},{"fruit":"🍎","value":5},{"fruit":"🍎","value":8},{"fruit":"🍎","value":5},{"fruit":"🍎","value":9},{"fruit":"🍎","value":8}],[{"fruit":"🍎","value":4},{"fruit":"🍎","value":7},{"fruit":"🍎","value":2},{"fruit":"🍎","value":5},{"fruit":"🍎","value":1},{"fruit":"🍎","value":8},{"fruit":"🍎","value":1},{"fruit":"🍎","value":7},{"fruit":"🍎","value":8},{"fruit":"🍎","value":1}]]', '2025-06-27 18:33:14.452258') RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
Completed 200 OK in 46ms (Views: 0.1ms | ActiveRecord: 1.4ms (4 queries, 0 cached) | GC: 0.4ms)


Writing application-b6e79a20.js.map
Writing application-262a5748.css
Writing application-20bd0804.js
Started GET "/game/room/I1FVBB?player_id=28" for 127.0.0.1 at 2025-06-27 14:34:56 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"28", "room_code"=>"I1FVBB"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'I1FVBB' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 18 AND "players"."id" = 28 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 18 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 18 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 2.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 7.2ms | GC: 0.0ms)
Completed 200 OK in 68ms (Views: 8.6ms | ActiveRecord: 1.5ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:34:56 -0400
Started GET "/assets/application-262a5748.css" for 127.0.0.1 at 2025-06-27 14:34:56 -0400
Started GET "/assets/application-20bd0804.js" for 127.0.0.1 at 2025-06-27 14:34:56 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/assets/application-b6e79a20.js.map" for 127.0.0.1 at 2025-06-27 14:34:56 -0400
Started GET "/game/board/I1FVBB?player_id=28" for 127.0.0.1 at 2025-06-27 14:34:56 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"28", "room_code"=>"I1FVBB"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'I1FVBB' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 18 AND "players"."id" = 28 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.2ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'I1FVBB_player_28' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
Completed 200 OK in 68ms (Views: 0.5ms | ActiveRecord: 5.8ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:36:36 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 18 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 18 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 18 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 18[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 6.1ms | GC: 0.9ms)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | GC: 0.9ms)
Completed 200 OK in 59ms (Views: 6.7ms | ActiveRecord: 0.6ms (7 queries, 2 cached) | GC: 10.8ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:36:36 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/room/I1FVBB?player_id=27" for 127.0.0.1 at 2025-06-27 14:36:49 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"27", "room_code"=>"I1FVBB"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'I1FVBB' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.2ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 18 AND "players"."id" = 27 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 18 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 18 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 38ms (Views: 2.2ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/assets/application-262a5748.css" for 127.0.0.1 at 2025-06-27 14:36:50 -0400
Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:36:50 -0400
Started GET "/assets/application-20bd0804.js" for 127.0.0.1 at 2025-06-27 14:36:50 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/assets/application-b6e79a20.js.map" for 127.0.0.1 at 2025-06-27 14:36:50 -0400
Started GET "/game/board/I1FVBB?player_id=27" for 127.0.0.1 at 2025-06-27 14:36:50 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"27", "room_code"=>"I1FVBB"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'I1FVBB' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 18 AND "players"."id" = 27 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'I1FVBB_player_27' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
Completed 200 OK in 28ms (Views: 0.2ms | ActiveRecord: 0.3ms (3 queries, 0 cached) | GC: 0.0ms)


  [1m[36mCACHE ActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Migrating to CreatePlayerGameStates (20250627184048)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='FruitBox'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "player_game_states" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "player_id" integer NOT NULL, "room_code" varchar, "board_state" text, "score" integer, "time_remaining" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_f2685a0742"
FOREIGN KEY ("player_id")
  REFERENCES "players" ("id")
) /*application='FruitBox'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_player_game_states_on_player_id" ON "player_game_states" ("player_id") /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250627184048') RETURNING "version" /*application='FruitBox'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Started GET "/game/room/I1FVBB?player_id=27" for 127.0.0.1 at 2025-06-27 14:42:30 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"27", "room_code"=>"I1FVBB"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'I1FVBB' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 18 AND "players"."id" = 27 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 18 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 18 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 2.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | GC: 0.0ms)
Completed 200 OK in 80ms (Views: 9.7ms | ActiveRecord: 1.6ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:42:30 -0400
Started GET "/game/board/I1FVBB?player_id=27" for 127.0.0.1 at 2025-06-27 14:42:30 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"27", "room_code"=>"I1FVBB"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'I1FVBB' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 18 AND "players"."id" = 27 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.2ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'I1FVBB' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mGameBoard Create (1.2ms)[0m  [1m[32mINSERT INTO "game_boards" ("room_code", "board_state", "created_at") VALUES ('I1FVBB', '[[{"fruit":"🍎","value":5},{"fruit":"🍎","value":5},{"fruit":"🍎","value":4},{"fruit":"🍎","value":8},{"fruit":"🍎","value":6},{"fruit":"🍎","value":7},{"fruit":"🍎","value":5},{"fruit":"🍎","value":6},{"fruit":"🍎","value":1},{"fruit":"🍎","value":1}],[{"fruit":"🍎","value":1},{"fruit":"🍎","value":7},{"fruit":"🍎","value":7},{"fruit":"🍎","value":9},{"fruit":"🍎","value":7},{"fruit":"🍎","value":7},{"fruit":"🍎","value":6},{"fruit":"🍎","value":7},{"fruit":"🍎","value":7},{"fruit":"🍎","value":6}],[{"fruit":"🍎","value":4},{"fruit":"🍎","value":3},{"fruit":"🍎","value":7},{"fruit":"🍎","value":3},{"fruit":"🍎","value":6},{"fruit":"🍎","value":3},{"fruit":"🍎","value":7},{"fruit":"🍎","value":2},{"fruit":"🍎","value":1},{"fruit":"🍎","value":1}],[{"fruit":"🍎","value":7},{"fruit":"🍎","value":7},{"fruit":"🍎","value":1},{"fruit":"🍎","value":8},{"fruit":"🍎","value":5},{"fruit":"🍎","value":6},{"fruit":"🍎","value":2},{"fruit":"🍎","value":4},{"fruit":"🍎","value":6},{"fruit":"🍎","value":7}],[{"fruit":"🍎","value":1},{"fruit":"🍎","value":6},{"fruit":"🍎","value":2},{"fruit":"🍎","value":5},{"fruit":"🍎","value":2},{"fruit":"🍎","value":2},{"fruit":"🍎","value":6},{"fruit":"🍎","value":7},{"fruit":"🍎","value":8},{"fruit":"🍎","value":2}],[{"fruit":"🍎","value":8},{"fruit":"🍎","value":4},{"fruit":"🍎","value":7},{"fruit":"🍎","value":4},{"fruit":"🍎","value":1},{"fruit":"🍎","value":5},{"fruit":"🍎","value":2},{"fruit":"🍎","value":5},{"fruit":"🍎","value":3},{"fruit":"🍎","value":4}],[{"fruit":"🍎","value":4},{"fruit":"🍎","value":3},{"fruit":"🍎","value":8},{"fruit":"🍎","value":9},{"fruit":"🍎","value":1},{"fruit":"🍎","value":8},{"fruit":"🍎","value":1},{"fruit":"🍎","value":2},{"fruit":"🍎","value":1},{"fruit":"🍎","value":2}],[{"fruit":"🍎","value":4},{"fruit":"🍎","value":6},{"fruit":"🍎","value":9},{"fruit":"🍎","value":5},{"fruit":"🍎","value":5},{"fruit":"🍎","value":9},{"fruit":"🍎","value":2},{"fruit":"🍎","value":6},{"fruit":"🍎","value":7},{"fruit":"🍎","value":7}],[{"fruit":"🍎","value":8},{"fruit":"🍎","value":3},{"fruit":"🍎","value":4},{"fruit":"🍎","value":7},{"fruit":"🍎","value":1},{"fruit":"🍎","value":3},{"fruit":"🍎","value":2},{"fruit":"🍎","value":9},{"fruit":"🍎","value":9},{"fruit":"🍎","value":5}],[{"fruit":"🍎","value":9},{"fruit":"🍎","value":3},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":2},{"fruit":"🍎","value":7},{"fruit":"🍎","value":6},{"fruit":"🍎","value":4}]]', '2025-06-27 18:42:31.007359') RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 27 AND "player_game_states"."room_code" = 'I1FVBB' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayer Load (0.8ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."id" = 27 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayerGameState Create (0.1ms)[0m  [1m[32mINSERT INTO "player_game_states" ("player_id", "room_code", "board_state", "score", "time_remaining", "created_at", "updated_at") VALUES (27, 'I1FVBB', '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false}]]', 0, 90, '2025-06-27 18:42:31.017721', '2025-06-27 18:42:31.017721') RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
Completed 200 OK in 66ms (Views: 0.2ms | ActiveRecord: 3.2ms (7 queries, 0 cached) | GC: 9.5ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:42:34 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 18 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 18 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 18 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaning up 1 rooms: test room
  [1m[36mGameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."id" = 18 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mPlayer Load (0.4ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 18 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mPlayer Destroy (0.3ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 27 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
Completed 500 Internal Server Error in 42ms (ActiveRecord: 1.3ms (7 queries, 0 cached) | GC: 1.1ms)


  
ActiveRecord::InvalidForeignKey (SQLite3::ConstraintException: FOREIGN KEY constraint failed)
Caused by: SQLite3::ConstraintException (FOREIGN KEY constraint failed)

Information for: ActiveRecord::InvalidForeignKey (SQLite3::ConstraintException: FOREIGN KEY constraint failed):
  

Information for cause: SQLite3::ConstraintException (FOREIGN KEY constraint failed):
  
app/models/game_room.rb:66:in `cleanup_old_rooms'
app/controllers/game_controller.rb:192:in `cleanup_old_rooms'
Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:42:35 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:42:57 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.8ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 18 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:19:in `empty?'
  [1m[36mPlayer Maximum (0.1ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 18 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:24:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 18 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
Cleaning up 1 rooms: test room
  [1m[36mGameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."id" = 18 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mPlayer Load (0.4ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 18 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mGameMove Load (0.0ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."player_id" = 27 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mPlayerGameState Load (0.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 27 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mPlayerGameState Destroy (0.0ms)[0m  [1m[31mDELETE FROM "player_game_states" WHERE "player_game_states"."id" = 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mPlayer Destroy (0.4ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 27 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mGameMove Load (0.1ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."player_id" = 28 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mPlayerGameState Load (0.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 28 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mPlayer Destroy (0.0ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 28 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mGameMove Load (0.0ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."game_room_id" = 18 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mGameRoom Destroy (0.0ms)[0m  [1m[31mDELETE FROM "game_rooms" WHERE "game_rooms"."id" = 18 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:66:in `cleanup_old_rooms'
Cleaned up 1 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 4.4ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | GC: 0.1ms)
Completed 200 OK in 57ms (Views: 6.3ms | ActiveRecord: 3.4ms (16 queries, 0 cached) | GC: 4.9ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:42:58 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 27ms (Views: 2.3ms | ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:42:58 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:43:01 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:61:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 33ms (Views: 2.0ms | ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:43:01 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:43:31 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.8ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 4.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.4ms | GC: 0.0ms)
Completed 200 OK in 83ms (Views: 6.6ms | ActiveRecord: 1.1ms (2 queries, 0 cached) | GC: 0.7ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:43:31 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/create_room" for 127.0.0.1 at 2025-06-27 14:43:33 -0400
Processing by GameController#create_room as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "game_room"=>{"name"=>"test room", "max_players"=>"2"}, "commit"=>"Create Room"}
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
Cleaned up 0 rooms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Exists? (3.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' LIMIT 1 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Create (0.1ms)[0m  [1m[32mINSERT INTO "game_rooms" ("name", "room_code", "max_players", "status", "created_at", "updated_at") VALUES ('test room', 'KKRVTF', 2, NULL, '2025-06-27 18:43:33.909098', '2025-06-27 18:43:33.909098') RETURNING "id" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
Redirected to http://127.0.0.1:3000/game/join/KKRVTF
Completed 302 Found in 30ms (ActiveRecord: 3.6ms (3 queries, 0 cached) | GC: 2.4ms)


Started GET "/game/join/KKRVTF" for 127.0.0.1 at 2025-06-27 14:43:33 -0400
Processing by GameController#join_room as TURBO_STREAM
  Parameters: {"room_code"=>"KKRVTF"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'KKRVTF' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 19 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 19 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 19[0m
  ↳ app/models/game_room.rb:12:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.8ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | GC: 0.1ms)
Completed 200 OK in 29ms (Views: 3.2ms | ActiveRecord: 0.3ms (4 queries, 1 cached) | GC: 1.2ms)


Started POST "/game/join/KKRVTF" for 127.0.0.1 at 2025-06-27 14:43:35 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris"}, "commit"=>"Join Game", "room_code"=>"KKRVTF"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'KKRVTF' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 19 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 0
Room max players: 2
Player params: {"name"=>"chris"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 19[0m
  ↳ app/models/game_room.rb:12:in `full?'
  [1m[36mPlayer Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 19 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 19 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 19 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (0.5ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (19, 'chris', 0, '2025-06-27 18:43:35.999076', '2025-06-27 18:43:35.999076') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 29
Redirected to http://127.0.0.1:3000/game/waiting/KKRVTF/29
Completed 302 Found in 25ms (ActiveRecord: 0.8ms (7 queries, 3 cached) | GC: 0.2ms)


Started GET "/game/waiting/KKRVTF/29" for 127.0.0.1 at 2025-06-27 14:43:36 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"KKRVTF", "player_id"=>"29"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'KKRVTF' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 19 AND "players"."id" = 29 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 19 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 19 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 19[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 2.0ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.2ms)
Completed 200 OK in 25ms (Views: 2.4ms | ActiveRecord: 0.2ms (5 queries, 1 cached) | GC: 0.2ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:43:37 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.1ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 19[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 29ms (Views: 2.3ms | ActiveRecord: 0.4ms (7 queries, 2 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:43:37 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/join/KKRVTF?room_code=KKRVTF&commit=Join+Room" for 127.0.0.1 at 2025-06-27 14:43:40 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"KKRVTF", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.4ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'KKRVTF' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 19 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.4ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 19 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 19[0m
  ↳ app/models/game_room.rb:12:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 8.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | GC: 0.0ms)
Completed 200 OK in 84ms (Views: 9.4ms | ActiveRecord: 1.0ms (4 queries, 1 cached) | GC: 0.0ms)


Started POST "/game/join/KKRVTF" for 127.0.0.1 at 2025-06-27 14:43:42 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris2"}, "commit"=>"Join Game", "room_code"=>"KKRVTF"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'KKRVTF' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 19 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 1
Room max players: 2
Player params: {"name"=>"chris2"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 19[0m
  ↳ app/models/game_room.rb:12:in `full?'
  [1m[36mPlayer Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 19 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 19 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 19 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (0.5ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (19, 'chris2', 0, '2025-06-27 18:43:42.604525', '2025-06-27 18:43:42.604525') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 30
Redirected to http://127.0.0.1:3000/game/waiting/KKRVTF/30
Completed 302 Found in 38ms (ActiveRecord: 0.7ms (7 queries, 3 cached) | GC: 0.0ms)


Started GET "/game/waiting/KKRVTF/30" for 127.0.0.1 at 2025-06-27 14:43:42 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"KKRVTF", "player_id"=>"30"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'KKRVTF' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 19 AND "players"."id" = 30 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 19 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 19 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 19[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 3.9ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 2.1ms)


Started GET "/game/waiting/KKRVTF/29" for 127.0.0.1 at 2025-06-27 14:43:47 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"KKRVTF", "player_id"=>"29"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'KKRVTF' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.2ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 19 AND "players"."id" = 29 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 19 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 19 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 19[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 2.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 0.0ms)
Completed 200 OK in 36ms (Views: 3.6ms | ActiveRecord: 0.5ms (5 queries, 1 cached) | GC: 1.5ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:43:47 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/status/KKRVTF" for 127.0.0.1 at 2025-06-27 14:43:47 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"KKRVTF"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'KKRVTF' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 19 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 19[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 19[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 36ms (Views: 0.1ms | ActiveRecord: 0.3ms (4 queries, 2 cached) | GC: 1.1ms)


Started GET "/game/room/KKRVTF?player_id=29" for 127.0.0.1 at 2025-06-27 14:43:48 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"29", "room_code"=>"KKRVTF"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'KKRVTF' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 19 AND "players"."id" = 29 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 19 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 19[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 19 ORDER BY "players"."id" ASC LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:78
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 19 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 2.6ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.2ms)
Completed 200 OK in 28ms (Views: 2.8ms | ActiveRecord: 0.4ms (6 queries, 1 cached) | GC: 0.5ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:43:48 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/start/KKRVTF?player_id=29" for 127.0.0.1 at 2025-06-27 14:43:50 -0400
Processing by GameController#start_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player_id"=>"29", "room_code"=>"KKRVTF"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'KKRVTF' LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:74:in `start_game'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 19 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' AND "game_rooms"."id" != 19 LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Update (0.0ms)[0m  [1m[33mUPDATE "game_rooms" SET "status" = 'playing', "updated_at" = '2025-06-27 18:43:50.904651' WHERE "game_rooms"."id" = 19 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
Redirected to http://127.0.0.1:3000/game/room/KKRVTF?player_id=29
Completed 302 Found in 40ms (ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.2ms)


Started GET "/game/room/KKRVTF?player_id=29" for 127.0.0.1 at 2025-06-27 14:43:50 -0400
Processing by GameController#room as TURBO_STREAM
  Parameters: {"player_id"=>"29", "room_code"=>"KKRVTF"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'KKRVTF' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 19 AND "players"."id" = 29 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 19 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 19 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 1.6ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/KKRVTF?player_id=29" for 127.0.0.1 at 2025-06-27 14:43:50 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"29", "room_code"=>"KKRVTF"}
  [1m[36mGameRoom Load (0.4ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'KKRVTF' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 19 AND "players"."id" = 29 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'KKRVTF' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:8:in `current_board'
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'KKRVTF' LIMIT 1[0m
  ↳ app/models/game_board.rb:14:in `create_new_board'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:14:in `create_new_board'
  [1m[36mGameBoard Create (0.5ms)[0m  [1m[32mINSERT INTO "game_boards" ("room_code", "board_state", "created_at") VALUES ('KKRVTF', '[[{"fruit":"🍎","value":8},{"fruit":"🍎","value":1},{"fruit":"🍎","value":7},{"fruit":"🍎","value":9},{"fruit":"🍎","value":8},{"fruit":"🍎","value":8},{"fruit":"🍎","value":1},{"fruit":"🍎","value":8},{"fruit":"🍎","value":9},{"fruit":"🍎","value":9}],[{"fruit":"🍎","value":2},{"fruit":"🍎","value":3},{"fruit":"🍎","value":2},{"fruit":"🍎","value":2},{"fruit":"🍎","value":1},{"fruit":"🍎","value":1},{"fruit":"🍎","value":7},{"fruit":"🍎","value":8},{"fruit":"🍎","value":8},{"fruit":"🍎","value":1}],[{"fruit":"🍎","value":3},{"fruit":"🍎","value":2},{"fruit":"🍎","value":7},{"fruit":"🍎","value":5},{"fruit":"🍎","value":9},{"fruit":"🍎","value":7},{"fruit":"🍎","value":3},{"fruit":"🍎","value":2},{"fruit":"🍎","value":4},{"fruit":"🍎","value":3}],[{"fruit":"🍎","value":6},{"fruit":"🍎","value":1},{"fruit":"🍎","value":8},{"fruit":"🍎","value":1},{"fruit":"🍎","value":5},{"fruit":"🍎","value":8},{"fruit":"🍎","value":7},{"fruit":"🍎","value":9},{"fruit":"🍎","value":3},{"fruit":"🍎","value":7}],[{"fruit":"🍎","value":7},{"fruit":"🍎","value":7},{"fruit":"🍎","value":7},{"fruit":"🍎","value":4},{"fruit":"🍎","value":4},{"fruit":"🍎","value":8},{"fruit":"🍎","value":1},{"fruit":"🍎","value":6},{"fruit":"🍎","value":9},{"fruit":"🍎","value":4}],[{"fruit":"🍎","value":7},{"fruit":"🍎","value":9},{"fruit":"🍎","value":1},{"fruit":"🍎","value":2},{"fruit":"🍎","value":1},{"fruit":"🍎","value":9},{"fruit":"🍎","value":7},{"fruit":"🍎","value":1},{"fruit":"🍎","value":9},{"fruit":"🍎","value":6}],[{"fruit":"🍎","value":9},{"fruit":"🍎","value":4},{"fruit":"🍎","value":5},{"fruit":"🍎","value":3},{"fruit":"🍎","value":9},{"fruit":"🍎","value":8},{"fruit":"🍎","value":6},{"fruit":"🍎","value":4},{"fruit":"🍎","value":4},{"fruit":"🍎","value":9}],[{"fruit":"🍎","value":6},{"fruit":"🍎","value":8},{"fruit":"🍎","value":4},{"fruit":"🍎","value":6},{"fruit":"🍎","value":3},{"fruit":"🍎","value":4},{"fruit":"🍎","value":2},{"fruit":"🍎","value":7},{"fruit":"🍎","value":6},{"fruit":"🍎","value":9}],[{"fruit":"🍎","value":1},{"fruit":"🍎","value":9},{"fruit":"🍎","value":4},{"fruit":"🍎","value":5},{"fruit":"🍎","value":1},{"fruit":"🍎","value":6},{"fruit":"🍎","value":8},{"fruit":"🍎","value":5},{"fruit":"🍎","value":3},{"fruit":"🍎","value":3}],[{"fruit":"🍎","value":8},{"fruit":"🍎","value":8},{"fruit":"🍎","value":3},{"fruit":"🍎","value":1},{"fruit":"🍎","value":2},{"fruit":"🍎","value":9},{"fruit":"🍎","value":4},{"fruit":"🍎","value":5},{"fruit":"🍎","value":6},{"fruit":"🍎","value":5}]]', '2025-06-27 18:43:51.006036') RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:14:in `create_new_board'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:14:in `create_new_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 29 AND "player_game_states"."room_code" = 'KKRVTF' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayer Load (0.5ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."id" = 29 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayerGameState Create (0.1ms)[0m  [1m[32mINSERT INTO "player_game_states" ("player_id", "room_code", "board_state", "score", "time_remaining", "created_at", "updated_at") VALUES (29, 'KKRVTF', '[[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false}]]', 0, 90, '2025-06-27 18:43:51.015341', '2025-06-27 18:43:51.015341') RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
Completed 200 OK in 49ms (Views: 0.2ms | ActiveRecord: 2.7ms (8 queries, 1 cached) | GC: 3.8ms)


Started GET "/game/waiting/KKRVTF/30" for 127.0.0.1 at 2025-06-27 14:43:53 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"KKRVTF", "player_id"=>"30"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'KKRVTF' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 19 AND "players"."id" = 30 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 19 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 19 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 19[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 2.8ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 0.6ms)
Completed 200 OK in 35ms (Views: 3.7ms | ActiveRecord: 0.4ms (5 queries, 1 cached) | GC: 0.6ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:43:53 -0400
Started GET "/game/status/KKRVTF" for 127.0.0.1 at 2025-06-27 14:43:53 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"KKRVTF"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'KKRVTF' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 19 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 19[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 19[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 37ms (Views: 0.2ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 4.2ms)


Started GET "/game/room/KKRVTF?player_id=30" for 127.0.0.1 at 2025-06-27 14:43:53 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"30", "room_code"=>"KKRVTF"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'KKRVTF' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 19 AND "players"."id" = 30 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 19 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 19 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 0.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 1.4ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.2ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:43:53 -0400
Started GET "/game/board/KKRVTF?player_id=30" for 127.0.0.1 at 2025-06-27 14:43:53 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"30", "room_code"=>"KKRVTF"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'KKRVTF' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 19 AND "players"."id" = 30 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'KKRVTF' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:8:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 30 AND "player_game_states"."room_code" = 'KKRVTF' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayer Load (0.4ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."id" = 30 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayerGameState Create (0.1ms)[0m  [1m[32mINSERT INTO "player_game_states" ("player_id", "room_code", "board_state", "score", "time_remaining", "created_at", "updated_at") VALUES (30, 'KKRVTF', '[[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false}]]', 0, 90, '2025-06-27 18:43:53.419003', '2025-06-27 18:43:53.419003') RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
Completed 200 OK in 42ms (Views: 0.2ms | ActiveRecord: 0.9ms (6 queries, 0 cached) | GC: 3.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:45:36 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.1ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 19[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 3.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.0ms)
Completed 200 OK in 47ms (Views: 3.6ms | ActiveRecord: 0.4ms (7 queries, 2 cached) | GC: 2.1ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:45:37 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
  [1m[36mCACHE ActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Migrating to AddFinishedToPlayerGameStates (20250627184720)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='FruitBox'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "player_game_states" ADD "finished" boolean /*application='FruitBox'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "player_game_states" ADD "final_score" integer /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250627184720') RETURNING "version" /*application='FruitBox'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:49:30 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.7ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.1ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.1ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaning up 1 rooms: test room
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayer Load (0.5ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mGameMove Load (0.1ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."player_id" = 29 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayerGameState Load (0.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 29 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayerGameState Destroy (0.1ms)[0m  [1m[31mDELETE FROM "player_game_states" WHERE "player_game_states"."id" = 2 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayer Destroy (0.1ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 29 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mGameMove Load (0.2ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."player_id" = 30 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 30 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayerGameState Destroy (0.1ms)[0m  [1m[31mDELETE FROM "player_game_states" WHERE "player_game_states"."id" = 3 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayer Destroy (0.1ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 30 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mGameMove Load (0.2ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mGameBoard Load (3.4ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
Completed 500 Internal Server Error in 91ms (ActiveRecord: 7.0ms (16 queries, 0 cached) | GC: 32.4ms)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: game_boards.game_room_id:
SELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/
                                                ^)
Caused by: SQLite3::SQLException (no such column: game_boards.game_room_id:
SELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/
                                                ^)

Information for: ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: game_boards.game_room_id:
SELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/
                                                ^):
  

Information for cause: SQLite3::SQLException (no such column: game_boards.game_room_id:
SELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/
                                                ^):
  
app/models/game_room.rb:67:in `cleanup_old_rooms'
app/controllers/game_controller.rb:224:in `cleanup_old_rooms'
Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:49:30 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:49:33 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.1ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.1ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaning up 1 rooms: test room
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayer Load (1.4ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mGameMove Load (4.2ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."player_id" = 29 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 29 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayerGameState Destroy (0.1ms)[0m  [1m[31mDELETE FROM "player_game_states" WHERE "player_game_states"."id" = 2 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayer Destroy (0.1ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 29 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mGameMove Load (0.4ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."player_id" = 30 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayerGameState Load (0.2ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 30 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayerGameState Destroy (0.2ms)[0m  [1m[31mDELETE FROM "player_game_states" WHERE "player_game_states"."id" = 3 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayer Destroy (0.1ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 30 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mGameMove Load (0.1ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mGameBoard Load (2.5ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TRANSACTION /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
Completed 500 Internal Server Error in 364ms (ActiveRecord: 10.1ms (16 queries, 0 cached) | GC: 6.7ms)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: game_boards.game_room_id:
SELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/
                                                ^)
Caused by: SQLite3::SQLException (no such column: game_boards.game_room_id:
SELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/
                                                ^)

Information for: ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: game_boards.game_room_id:
SELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/
                                                ^):
  

Information for cause: SQLite3::SQLException (no such column: game_boards.game_room_id:
SELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/
                                                ^):
  
app/models/game_room.rb:67:in `cleanup_old_rooms'
app/controllers/game_controller.rb:224:in `cleanup_old_rooms'
Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:49:33 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:49:36 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaning up 1 rooms: test room
  [1m[36mGameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayer Load (2.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mGameMove Load (0.1ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."player_id" = 29 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayerGameState Load (0.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 29 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayerGameState Destroy (0.0ms)[0m  [1m[31mDELETE FROM "player_game_states" WHERE "player_game_states"."id" = 2 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayer Destroy (0.0ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 29 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mGameMove Load (0.1ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."player_id" = 30 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 30 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayerGameState Destroy (0.0ms)[0m  [1m[31mDELETE FROM "player_game_states" WHERE "player_game_states"."id" = 3 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayer Destroy (0.0ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 30 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mGameMove Load (0.0ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mGameBoard Load (0.3ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
Completed 500 Internal Server Error in 50ms (ActiveRecord: 3.1ms (16 queries, 0 cached) | GC: 2.5ms)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: game_boards.game_room_id:
SELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/
                                                ^)
Caused by: SQLite3::SQLException (no such column: game_boards.game_room_id:
SELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/
                                                ^)

Information for: ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: game_boards.game_room_id:
SELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/
                                                ^):
  

Information for cause: SQLite3::SQLException (no such column: game_boards.game_room_id:
SELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/
                                                ^):
  
app/models/game_room.rb:67:in `cleanup_old_rooms'
app/controllers/game_controller.rb:224:in `cleanup_old_rooms'
Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:49:37 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaning up 1 rooms: test room
  [1m[36mGameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayer Load (0.5ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mGameMove Load (0.0ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."player_id" = 29 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayerGameState Load (0.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 29 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayerGameState Destroy (0.1ms)[0m  [1m[31mDELETE FROM "player_game_states" WHERE "player_game_states"."id" = 2 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayer Destroy (0.1ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 29 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mGameMove Load (0.1ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."player_id" = 30 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 30 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayerGameState Destroy (0.0ms)[0m  [1m[31mDELETE FROM "player_game_states" WHERE "player_game_states"."id" = 3 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayer Destroy (0.0ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 30 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mGameMove Load (0.0ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mGameBoard Load (0.4ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
Completed 500 Internal Server Error in 48ms (ActiveRecord: 1.5ms (16 queries, 0 cached) | GC: 1.0ms)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: game_boards.game_room_id:
SELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/
                                                ^)
Caused by: SQLite3::SQLException (no such column: game_boards.game_room_id:
SELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/
                                                ^)

Information for: ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: game_boards.game_room_id:
SELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/
                                                ^):
  

Information for cause: SQLite3::SQLException (no such column: game_boards.game_room_id:
SELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/
                                                ^):
  
app/models/game_room.rb:67:in `cleanup_old_rooms'
app/controllers/game_controller.rb:224:in `cleanup_old_rooms'
Writing application-37cc3aad.js.map
Writing application-55e2af1d.css
Writing application-c2ef969f.js
Writing application.tailwind-ee41ae41.css
Writing stimulus.min-4b1e420e.js
Writing stimulus-d59b3b7f.js
Writing stimulus.min-2395e199.js.map
Writing stimulus-importmap-autoloader-64cc03e1.js
Writing stimulus-autoloader-9d447422.js
Writing stimulus-loading-1fc53fe7.js
Writing turbo.min-5f3b7fda.js.map
Writing turbo-a1e3a50a.js
Writing turbo.min-3a2e143f.js
Writing actiontext.esm-f1c04d34.js
Writing actiontext-a4ee937e.js
Writing trix-4b540cb5.js
Writing trix-65afdb1d.css
Writing action_cable-5212cfee.js
Writing actioncable.esm-e0ec9819.js
Writing actioncable-ac25813f.js
Writing activestorage.esm-f2909226.js
Writing activestorage-32201f68.js
Writing rails-ujs.esm-e925103b.js
Writing rails-ujs-20eaf715.js
Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:50:04 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (1.4ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaning up 1 rooms: test room
  [1m[36mGameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayer Load (0.5ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mGameMove Load (0.1ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."player_id" = 29 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 29 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayerGameState Destroy (0.1ms)[0m  [1m[31mDELETE FROM "player_game_states" WHERE "player_game_states"."id" = 2 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayer Destroy (0.1ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 29 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mGameMove Load (0.1ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."player_id" = 30 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 30 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayerGameState Destroy (0.0ms)[0m  [1m[31mDELETE FROM "player_game_states" WHERE "player_game_states"."id" = 3 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayer Destroy (0.0ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 30 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mGameMove Load (0.1ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mGameBoard Load (0.8ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
Completed 500 Internal Server Error in 102ms (ActiveRecord: 5.3ms (16 queries, 0 cached) | GC: 11.9ms)


  
ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: game_boards.game_room_id:
SELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/
                                                ^)
Caused by: SQLite3::SQLException (no such column: game_boards.game_room_id:
SELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/
                                                ^)

Information for: ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: game_boards.game_room_id:
SELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/
                                                ^):
  

Information for cause: SQLite3::SQLException (no such column: game_boards.game_room_id:
SELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/
                                                ^):
  
app/models/game_room.rb:67:in `cleanup_old_rooms'
app/controllers/game_controller.rb:224:in `cleanup_old_rooms'
Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:50:04 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:50:55 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.5ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaning up 1 rooms: test room
  [1m[36mGameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayer Load (0.5ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mGameMove Load (0.1ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."player_id" = 29 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayerGameState Load (0.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 29 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayerGameState Destroy (0.1ms)[0m  [1m[31mDELETE FROM "player_game_states" WHERE "player_game_states"."id" = 2 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayer Destroy (0.0ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 29 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mGameMove Load (0.0ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."player_id" = 30 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayerGameState Load (0.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 30 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayerGameState Destroy (0.0ms)[0m  [1m[31mDELETE FROM "player_game_states" WHERE "player_game_states"."id" = 3 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayer Destroy (0.0ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 30 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mGameMove Load (0.0ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."game_room_id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mGameBoard Load (0.4ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'KKRVTF' /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mGameBoard Destroy (0.2ms)[0m  [1m[31mDELETE FROM "game_boards" WHERE "game_boards"."id" = 15 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mGameRoom Destroy (0.3ms)[0m  [1m[31mDELETE FROM "game_rooms" WHERE "game_rooms"."id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
Cleaned up 1 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 5.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.0ms | GC: 0.0ms)
Completed 200 OK in 99ms (Views: 10.9ms | ActiveRecord: 4.4ms (19 queries, 0 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:50:56 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/create_room" for 127.0.0.1 at 2025-06-27 14:50:58 -0400
Processing by GameController#create_room as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "game_room"=>{"name"=>"test room", "max_players"=>"2"}, "commit"=>"Create Room"}
Running cleanup before action...
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
Cleaned up 0 rooms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' LIMIT 1 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Create (0.1ms)[0m  [1m[32mINSERT INTO "game_rooms" ("name", "room_code", "max_players", "status", "created_at", "updated_at") VALUES ('test room', 'BJMY5G', 2, NULL, '2025-06-27 18:50:58.710167', '2025-06-27 18:50:58.710167') RETURNING "id" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
Redirected to http://127.0.0.1:3000/game/join/BJMY5G
Completed 302 Found in 37ms (ActiveRecord: 1.0ms (3 queries, 0 cached) | GC: 0.2ms)


Started GET "/game/join/BJMY5G" for 127.0.0.1 at 2025-06-27 14:50:58 -0400
Processing by GameController#join_room as TURBO_STREAM
  Parameters: {"room_code"=>"BJMY5G"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'BJMY5G' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 20 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 20 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 20[0m
  ↳ app/models/game_room.rb:12:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 2.8ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.2ms)


Started POST "/game/join/BJMY5G" for 127.0.0.1 at 2025-06-27 14:51:01 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris"}, "commit"=>"Join Game", "room_code"=>"BJMY5G"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'BJMY5G' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 20 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 0
Room max players: 2
Player params: {"name"=>"chris"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 20[0m
  ↳ app/models/game_room.rb:12:in `full?'
  [1m[36mPlayer Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 20 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 20 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 20 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (0.7ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (20, 'chris', 0, '2025-06-27 18:51:01.374168', '2025-06-27 18:51:01.374168') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 31
Redirected to http://127.0.0.1:3000/game/waiting/BJMY5G/31
Completed 302 Found in 31ms (ActiveRecord: 1.1ms (7 queries, 3 cached) | GC: 0.3ms)


Started GET "/game/waiting/BJMY5G/31" for 127.0.0.1 at 2025-06-27 14:51:01 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"BJMY5G", "player_id"=>"31"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'BJMY5G' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 20 AND "players"."id" = 31 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 20 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 20 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 20[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 21ms (Views: 2.3ms | ActiveRecord: 0.2ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:51:03 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 20 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 20 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.1ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 20 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 20[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 3.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | GC: 0.0ms)
Completed 200 OK in 38ms (Views: 4.2ms | ActiveRecord: 0.3ms (7 queries, 2 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:51:03 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/join/BJMY5G?room_code=BJMY5G&commit=Join+Room" for 127.0.0.1 at 2025-06-27 14:51:07 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"BJMY5G", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'BJMY5G' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 20 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 20 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 20[0m
  ↳ app/models/game_room.rb:12:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 42ms (Views: 3.0ms | ActiveRecord: 0.3ms (4 queries, 1 cached) | GC: 0.4ms)


Started POST "/game/join/BJMY5G" for 127.0.0.1 at 2025-06-27 14:51:09 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris2"}, "commit"=>"Join Game", "room_code"=>"BJMY5G"}
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'BJMY5G' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 20 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 1
Room max players: 2
Player params: {"name"=>"chris2"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 20[0m
  ↳ app/models/game_room.rb:12:in `full?'
  [1m[36mPlayer Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 20 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 20 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 20 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (2.0ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (20, 'chris2', 0, '2025-06-27 18:51:09.940646', '2025-06-27 18:51:09.940646') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 32
Redirected to http://127.0.0.1:3000/game/waiting/BJMY5G/32
Completed 302 Found in 53ms (ActiveRecord: 2.9ms (7 queries, 3 cached) | GC: 0.3ms)


Started GET "/game/waiting/BJMY5G/32" for 127.0.0.1 at 2025-06-27 14:51:09 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"BJMY5G", "player_id"=>"32"}
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'BJMY5G' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.2ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 20 AND "players"."id" = 32 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 20 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 20 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 20[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 2.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 0.0ms)
Completed 200 OK in 36ms (Views: 3.4ms | ActiveRecord: 0.7ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/waiting/BJMY5G/31" for 127.0.0.1 at 2025-06-27 14:51:14 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"BJMY5G", "player_id"=>"31"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'BJMY5G' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 20 AND "players"."id" = 31 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 20 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 20 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 20[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 37ms (Views: 2.6ms | ActiveRecord: 0.4ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:51:14 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/status/BJMY5G" for 127.0.0.1 at 2025-06-27 14:51:14 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"BJMY5G"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'BJMY5G' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 20 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 20[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 20[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 21ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.2ms)


Started GET "/game/room/BJMY5G?player_id=31" for 127.0.0.1 at 2025-06-27 14:51:15 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"31", "room_code"=>"BJMY5G"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'BJMY5G' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 20 AND "players"."id" = 31 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 20 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 20[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 20 ORDER BY "players"."id" ASC LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:82
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 20 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:105
  Rendered game/room.html.erb within layouts/application (Duration: 3.0ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 0.1ms)
Completed 200 OK in 30ms (Views: 3.4ms | ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.1ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:51:15 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/start/BJMY5G?player_id=31" for 127.0.0.1 at 2025-06-27 14:51:16 -0400
Processing by GameController#start_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player_id"=>"31", "room_code"=>"BJMY5G"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'BJMY5G' LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:74:in `start_game'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 20 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' AND "game_rooms"."id" != 20 LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Update (0.0ms)[0m  [1m[33mUPDATE "game_rooms" SET "status" = 'playing', "updated_at" = '2025-06-27 18:51:16.705231' WHERE "game_rooms"."id" = 20 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
Redirected to http://127.0.0.1:3000/game/room/BJMY5G?player_id=31
Completed 302 Found in 39ms (ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/room/BJMY5G?player_id=31" for 127.0.0.1 at 2025-06-27 14:51:16 -0400
Processing by GameController#room as TURBO_STREAM
  Parameters: {"player_id"=>"31", "room_code"=>"BJMY5G"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'BJMY5G' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 20 AND "players"."id" = 31 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 20 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 20 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:105
  Rendered game/room.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.8ms)
Completed 200 OK in 24ms (Views: 2.4ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.8ms)


Started GET "/game/board/BJMY5G?player_id=31" for 127.0.0.1 at 2025-06-27 14:51:16 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"31", "room_code"=>"BJMY5G"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'BJMY5G' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 20 AND "players"."id" = 31 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'BJMY5G' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mGameBoard Create (1.2ms)[0m  [1m[32mINSERT INTO "game_boards" ("room_code", "board_state", "created_at") VALUES ('BJMY5G', '[[{"fruit":"🍎","value":7},{"fruit":"🍎","value":2},{"fruit":"🍎","value":7},{"fruit":"🍎","value":5},{"fruit":"🍎","value":6},{"fruit":"🍎","value":5},{"fruit":"🍎","value":7},{"fruit":"🍎","value":7},{"fruit":"🍎","value":2},{"fruit":"🍎","value":9}],[{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":3},{"fruit":"🍎","value":3},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":5},{"fruit":"🍎","value":6},{"fruit":"🍎","value":9},{"fruit":"🍎","value":2}],[{"fruit":"🍎","value":7},{"fruit":"🍎","value":2},{"fruit":"🍎","value":8},{"fruit":"🍎","value":2},{"fruit":"🍎","value":2},{"fruit":"🍎","value":8},{"fruit":"🍎","value":6},{"fruit":"🍎","value":2},{"fruit":"🍎","value":5},{"fruit":"🍎","value":1}],[{"fruit":"🍎","value":6},{"fruit":"🍎","value":1},{"fruit":"🍎","value":4},{"fruit":"🍎","value":9},{"fruit":"🍎","value":8},{"fruit":"🍎","value":6},{"fruit":"🍎","value":8},{"fruit":"🍎","value":8},{"fruit":"🍎","value":6},{"fruit":"🍎","value":9}],[{"fruit":"🍎","value":6},{"fruit":"🍎","value":3},{"fruit":"🍎","value":5},{"fruit":"🍎","value":2},{"fruit":"🍎","value":8},{"fruit":"🍎","value":1},{"fruit":"🍎","value":4},{"fruit":"🍎","value":8},{"fruit":"🍎","value":6},{"fruit":"🍎","value":1}],[{"fruit":"🍎","value":2},{"fruit":"🍎","value":4},{"fruit":"🍎","value":6},{"fruit":"🍎","value":4},{"fruit":"🍎","value":5},{"fruit":"🍎","value":7},{"fruit":"🍎","value":4},{"fruit":"🍎","value":9},{"fruit":"🍎","value":9},{"fruit":"🍎","value":7}],[{"fruit":"🍎","value":2},{"fruit":"🍎","value":4},{"fruit":"🍎","value":6},{"fruit":"🍎","value":5},{"fruit":"🍎","value":6},{"fruit":"🍎","value":8},{"fruit":"🍎","value":1},{"fruit":"🍎","value":2},{"fruit":"🍎","value":5},{"fruit":"🍎","value":3}],[{"fruit":"🍎","value":1},{"fruit":"🍎","value":3},{"fruit":"🍎","value":1},{"fruit":"🍎","value":7},{"fruit":"🍎","value":3},{"fruit":"🍎","value":2},{"fruit":"🍎","value":2},{"fruit":"🍎","value":4},{"fruit":"🍎","value":1},{"fruit":"🍎","value":4}],[{"fruit":"🍎","value":7},{"fruit":"🍎","value":7},{"fruit":"🍎","value":8},{"fruit":"🍎","value":6},{"fruit":"🍎","value":5},{"fruit":"🍎","value":7},{"fruit":"🍎","value":6},{"fruit":"🍎","value":7},{"fruit":"🍎","value":9},{"fruit":"🍎","value":3}],[{"fruit":"🍎","value":8},{"fruit":"🍎","value":6},{"fruit":"🍎","value":3},{"fruit":"🍎","value":3},{"fruit":"🍎","value":7},{"fruit":"🍎","value":6},{"fruit":"🍎","value":4},{"fruit":"🍎","value":6},{"fruit":"🍎","value":9},{"fruit":"🍎","value":7}]]', '2025-06-27 18:51:16.792420') RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 31 AND "player_game_states"."room_code" = 'BJMY5G' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayer Load (0.5ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."id" = 31 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayerGameState Create (0.1ms)[0m  [1m[32mINSERT INTO "player_game_states" ("player_id", "room_code", "board_state", "score", "time_remaining", "created_at", "updated_at", "finished", "final_score") VALUES (31, 'BJMY5G', '[[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', 0, 90, '2025-06-27 18:51:16.797992', '2025-06-27 18:51:16.797992', NULL, NULL) RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
Completed 200 OK in 36ms (Views: 0.5ms | ActiveRecord: 2.6ms (7 queries, 0 cached) | GC: 1.1ms)


Started GET "/game/waiting/BJMY5G/32" for 127.0.0.1 at 2025-06-27 14:51:19 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"BJMY5G", "player_id"=>"32"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'BJMY5G' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 20 AND "players"."id" = 32 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 20 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 20 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 20[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 5.6ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | GC: 0.4ms)
Completed 200 OK in 43ms (Views: 6.2ms | ActiveRecord: 0.6ms (5 queries, 1 cached) | GC: 0.4ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:51:20 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/status/BJMY5G" for 127.0.0.1 at 2025-06-27 14:51:20 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"BJMY5G"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'BJMY5G' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 20 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 20[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 20[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 46ms (Views: 0.6ms | ActiveRecord: 0.4ms (4 queries, 2 cached) | GC: 3.3ms)


Started GET "/game/room/BJMY5G?player_id=32" for 127.0.0.1 at 2025-06-27 14:51:20 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"32", "room_code"=>"BJMY5G"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'BJMY5G' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (1.3ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 20 AND "players"."id" = 32 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 20 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 20 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:105
  Rendered game/room.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 31ms (Views: 3.0ms | ActiveRecord: 1.5ms (4 queries, 0 cached) | GC: 1.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:51:20 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/board/BJMY5G?player_id=32" for 127.0.0.1 at 2025-06-27 14:51:20 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"32", "room_code"=>"BJMY5G"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'BJMY5G' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 20 AND "players"."id" = 32 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'BJMY5G' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 32 AND "player_game_states"."room_code" = 'BJMY5G' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayer Load (0.7ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."id" = 32 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayerGameState Create (0.1ms)[0m  [1m[32mINSERT INTO "player_game_states" ("player_id", "room_code", "board_state", "score", "time_remaining", "created_at", "updated_at", "finished", "final_score") VALUES (32, 'BJMY5G', '[[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', 0, 90, '2025-06-27 18:51:20.581067', '2025-06-27 18:51:20.581067', NULL, NULL) RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
Completed 200 OK in 122ms (Views: 0.2ms | ActiveRecord: 1.3ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/room/BJMY5G?player_id=32" for 127.0.0.1 at 2025-06-27 14:51:57 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"32", "room_code"=>"BJMY5G"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'BJMY5G' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 20 AND "players"."id" = 32 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 20 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 20 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:105
  Rendered game/room.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 1.3ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)


Writing application-1cd7890a.js.map
Writing application-27658c87.css
Writing application-dcfb6e66.js
Started GET "/" for 127.0.0.1 at 2025-06-27 14:53:35 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 48ms (Views: 4.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:53:35 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:53:36 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.9ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 20 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.1ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 20 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.1ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 20 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 20[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 17.0ms | GC: 8.1ms)
  Rendered layout layouts/application.html.erb (Duration: 17.3ms | GC: 8.1ms)
Completed 200 OK in 78ms (Views: 17.4ms | ActiveRecord: 2.7ms (7 queries, 2 cached) | GC: 10.8ms)


Started POST "/game/cleanup_rooms?delete_all=true" for 127.0.0.1 at 2025-06-27 14:53:44 -0400
Processing by GameController#cleanup_rooms as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "delete_all"=>"true"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 20 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 20 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.1ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 20 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mPlayer Load (0.5ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 20 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mGameMove Load (0.1ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."player_id" = 31 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mPlayerGameState Load (0.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 31 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mPlayerGameState Destroy (0.0ms)[0m  [1m[31mDELETE FROM "player_game_states" WHERE "player_game_states"."id" = 4 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mPlayer Destroy (0.0ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 31 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mGameMove Load (0.2ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."player_id" = 32 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mPlayerGameState Load (0.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 32 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mPlayerGameState Destroy (0.0ms)[0m  [1m[31mDELETE FROM "player_game_states" WHERE "player_game_states"."id" = 5 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mPlayer Destroy (0.0ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 32 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mGameMove Load (0.1ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."game_room_id" = 20 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mGameBoard Load (0.0ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'BJMY5G' /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mGameBoard Destroy (0.0ms)[0m  [1m[31mDELETE FROM "game_boards" WHERE "game_boards"."id" = 16 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mGameRoom Destroy (0.0ms)[0m  [1m[31mDELETE FROM "game_rooms" WHERE "game_rooms"."id" = 20 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 49ms (ActiveRecord: 1.9ms (18 queries, 1 cached) | GC: 8.6ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:53:44 -0400
Processing by GameController#multiplayer as TURBO_STREAM
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 21ms (Views: 1.9ms | ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/create_room" for 127.0.0.1 at 2025-06-27 14:53:46 -0400
Processing by GameController#create_room as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "game_room"=>{"name"=>"test room", "max_players"=>"2"}, "commit"=>"Create Room"}
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
Cleaned up 0 rooms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' LIMIT 1 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Create (0.1ms)[0m  [1m[32mINSERT INTO "game_rooms" ("name", "room_code", "max_players", "status", "created_at", "updated_at") VALUES ('test room', 'SOHNIL', 2, NULL, '2025-06-27 18:53:46.695680', '2025-06-27 18:53:46.695680') RETURNING "id" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
Redirected to http://127.0.0.1:3000/game/join/SOHNIL
Completed 302 Found in 28ms (ActiveRecord: 1.1ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/join/SOHNIL" for 127.0.0.1 at 2025-06-27 14:53:46 -0400
Processing by GameController#join_room as TURBO_STREAM
  Parameters: {"room_code"=>"SOHNIL"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SOHNIL' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 21 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 21 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 21[0m
  ↳ app/models/game_room.rb:12:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 0.0ms)
Completed 200 OK in 26ms (Views: 3.3ms | ActiveRecord: 0.3ms (4 queries, 1 cached) | GC: 0.0ms)


Started POST "/game/join/SOHNIL" for 127.0.0.1 at 2025-06-27 14:53:48 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris"}, "commit"=>"Join Game", "room_code"=>"SOHNIL"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SOHNIL' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 21 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 0
Room max players: 2
Player params: {"name"=>"chris"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 21[0m
  ↳ app/models/game_room.rb:12:in `full?'
  [1m[36mPlayer Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 21 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 21 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 21 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (7.0ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (21, 'chris', 0, '2025-06-27 18:53:48.820029', '2025-06-27 18:53:48.820029') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 33
Redirected to http://127.0.0.1:3000/game/waiting/SOHNIL/33
Completed 302 Found in 34ms (ActiveRecord: 7.3ms (7 queries, 3 cached) | GC: 6.1ms)


Started GET "/game/waiting/SOHNIL/33" for 127.0.0.1 at 2025-06-27 14:53:48 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"SOHNIL", "player_id"=>"33"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SOHNIL' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 21 AND "players"."id" = 33 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 21 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 21 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 21[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 3.1ms | ActiveRecord: 0.2ms (5 queries, 1 cached) | GC: 0.6ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:53:51 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 21 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.1ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 21 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 21 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 21[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.5ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.4ms)
Completed 200 OK in 42ms (Views: 3.1ms | ActiveRecord: 0.3ms (7 queries, 2 cached) | GC: 0.4ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:53:51 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 21 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 21 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 21 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 21[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 2.0ms | ActiveRecord: 0.2ms (7 queries, 2 cached) | GC: 0.2ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:53:51 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:53:52 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 21 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 21 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 21 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 21[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.9ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.2ms)
Completed 200 OK in 27ms (Views: 2.2ms | ActiveRecord: 0.2ms (7 queries, 2 cached) | GC: 0.4ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:53:53 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/join/SOHNIL?room_code=SOHNIL&commit=Join+Room" for 127.0.0.1 at 2025-06-27 14:53:56 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"SOHNIL", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SOHNIL' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 21 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 21 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 21[0m
  ↳ app/models/game_room.rb:12:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 26ms (Views: 1.9ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)


Started POST "/game/join/SOHNIL" for 127.0.0.1 at 2025-06-27 14:53:57 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris2"}, "commit"=>"Join Game", "room_code"=>"SOHNIL"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SOHNIL' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 21 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 1
Room max players: 2
Player params: {"name"=>"chris2"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 21[0m
  ↳ app/models/game_room.rb:12:in `full?'
  [1m[36mPlayer Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 21 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 21 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 21 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (0.5ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (21, 'chris2', 0, '2025-06-27 18:53:57.984750', '2025-06-27 18:53:57.984750') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 34
Redirected to http://127.0.0.1:3000/game/waiting/SOHNIL/34
Completed 302 Found in 26ms (ActiveRecord: 0.7ms (7 queries, 3 cached) | GC: 0.2ms)


Started GET "/game/waiting/SOHNIL/34" for 127.0.0.1 at 2025-06-27 14:53:57 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"SOHNIL", "player_id"=>"34"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SOHNIL' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 21 AND "players"."id" = 34 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 21 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 21 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 21[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.3ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.2ms)
Completed 200 OK in 23ms (Views: 1.8ms | ActiveRecord: 0.2ms (5 queries, 1 cached) | GC: 0.2ms)


Started GET "/game/waiting/SOHNIL/33" for 127.0.0.1 at 2025-06-27 14:54:00 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"SOHNIL", "player_id"=>"33"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SOHNIL' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 21 AND "players"."id" = 33 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 21 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 21 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 21[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 27ms (Views: 2.0ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 0.7ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:54:00 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/status/SOHNIL" for 127.0.0.1 at 2025-06-27 14:54:00 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"SOHNIL"}
  [1m[36mGameRoom Load (0.7ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SOHNIL' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 21 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 21[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 21[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 39ms (Views: 0.1ms | ActiveRecord: 1.1ms (4 queries, 2 cached) | GC: 0.4ms)


Started GET "/game/room/SOHNIL?player_id=33" for 127.0.0.1 at 2025-06-27 14:54:01 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"33", "room_code"=>"SOHNIL"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SOHNIL' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 21 AND "players"."id" = 33 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 21 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 21[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 21 ORDER BY "players"."id" ASC LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:82
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 21 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:105
  Rendered game/room.html.erb within layouts/application (Duration: 2.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 28ms (Views: 2.9ms | ActiveRecord: 0.2ms (6 queries, 1 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:54:01 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/start/SOHNIL?player_id=33" for 127.0.0.1 at 2025-06-27 14:54:02 -0400
Processing by GameController#start_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player_id"=>"33", "room_code"=>"SOHNIL"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SOHNIL' LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:74:in `start_game'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 21 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' AND "game_rooms"."id" != 21 LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Update (0.0ms)[0m  [1m[33mUPDATE "game_rooms" SET "status" = 'playing', "updated_at" = '2025-06-27 18:54:02.143004' WHERE "game_rooms"."id" = 21 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
Redirected to http://127.0.0.1:3000/game/room/SOHNIL?player_id=33
Completed 302 Found in 27ms (ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/room/SOHNIL?player_id=33" for 127.0.0.1 at 2025-06-27 14:54:02 -0400
Processing by GameController#room as TURBO_STREAM
  Parameters: {"player_id"=>"33", "room_code"=>"SOHNIL"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SOHNIL' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 21 AND "players"."id" = 33 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 21 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 21 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:105
  Rendered game/room.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 22ms (Views: 1.5ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/SOHNIL?player_id=33" for 127.0.0.1 at 2025-06-27 14:54:02 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"33", "room_code"=>"SOHNIL"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SOHNIL' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.3ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 21 AND "players"."id" = 33 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'SOHNIL' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mGameBoard Create (0.9ms)[0m  [1m[32mINSERT INTO "game_boards" ("room_code", "board_state", "created_at") VALUES ('SOHNIL', '[[{"fruit":"🍎","value":6},{"fruit":"🍎","value":8},{"fruit":"🍎","value":8},{"fruit":"🍎","value":6},{"fruit":"🍎","value":7},{"fruit":"🍎","value":1},{"fruit":"🍎","value":2},{"fruit":"🍎","value":6},{"fruit":"🍎","value":1},{"fruit":"🍎","value":6}],[{"fruit":"🍎","value":4},{"fruit":"🍎","value":8},{"fruit":"🍎","value":6},{"fruit":"🍎","value":3},{"fruit":"🍎","value":7},{"fruit":"🍎","value":1},{"fruit":"🍎","value":1},{"fruit":"🍎","value":8},{"fruit":"🍎","value":9},{"fruit":"🍎","value":8}],[{"fruit":"🍎","value":8},{"fruit":"🍎","value":8},{"fruit":"🍎","value":6},{"fruit":"🍎","value":7},{"fruit":"🍎","value":4},{"fruit":"🍎","value":2},{"fruit":"🍎","value":9},{"fruit":"🍎","value":5},{"fruit":"🍎","value":3},{"fruit":"🍎","value":7}],[{"fruit":"🍎","value":9},{"fruit":"🍎","value":7},{"fruit":"🍎","value":2},{"fruit":"🍎","value":1},{"fruit":"🍎","value":6},{"fruit":"🍎","value":4},{"fruit":"🍎","value":7},{"fruit":"🍎","value":7},{"fruit":"🍎","value":9},{"fruit":"🍎","value":8}],[{"fruit":"🍎","value":1},{"fruit":"🍎","value":9},{"fruit":"🍎","value":4},{"fruit":"🍎","value":4},{"fruit":"🍎","value":4},{"fruit":"🍎","value":7},{"fruit":"🍎","value":6},{"fruit":"🍎","value":5},{"fruit":"🍎","value":6},{"fruit":"🍎","value":4}],[{"fruit":"🍎","value":1},{"fruit":"🍎","value":2},{"fruit":"🍎","value":9},{"fruit":"🍎","value":1},{"fruit":"🍎","value":3},{"fruit":"🍎","value":7},{"fruit":"🍎","value":8},{"fruit":"🍎","value":5},{"fruit":"🍎","value":8},{"fruit":"🍎","value":5}],[{"fruit":"🍎","value":6},{"fruit":"🍎","value":2},{"fruit":"🍎","value":1},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":4},{"fruit":"🍎","value":5},{"fruit":"🍎","value":7},{"fruit":"🍎","value":1},{"fruit":"🍎","value":5}],[{"fruit":"🍎","value":8},{"fruit":"🍎","value":5},{"fruit":"🍎","value":2},{"fruit":"🍎","value":2},{"fruit":"🍎","value":9},{"fruit":"🍎","value":5},{"fruit":"🍎","value":1},{"fruit":"🍎","value":1},{"fruit":"🍎","value":2},{"fruit":"🍎","value":2}],[{"fruit":"🍎","value":5},{"fruit":"🍎","value":7},{"fruit":"🍎","value":1},{"fruit":"🍎","value":5},{"fruit":"🍎","value":5},{"fruit":"🍎","value":2},{"fruit":"🍎","value":6},{"fruit":"🍎","value":9},{"fruit":"🍎","value":5},{"fruit":"🍎","value":1}],[{"fruit":"🍎","value":3},{"fruit":"🍎","value":5},{"fruit":"🍎","value":8},{"fruit":"🍎","value":8},{"fruit":"🍎","value":2},{"fruit":"🍎","value":5},{"fruit":"🍎","value":2},{"fruit":"🍎","value":9},{"fruit":"🍎","value":5},{"fruit":"🍎","value":5}]]', '2025-06-27 18:54:02.234594') RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 33 AND "player_game_states"."room_code" = 'SOHNIL' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayer Load (0.6ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."id" = 33 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayerGameState Create (0.1ms)[0m  [1m[32mINSERT INTO "player_game_states" ("player_id", "room_code", "board_state", "score", "time_remaining", "created_at", "updated_at", "finished", "final_score") VALUES (33, 'SOHNIL', '[[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false}]]', 0, 90, '2025-06-27 18:54:02.240799', '2025-06-27 18:54:02.240799', NULL, NULL) RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
Completed 200 OK in 42ms (Views: 0.2ms | ActiveRecord: 2.6ms (7 queries, 0 cached) | GC: 3.5ms)


Started GET "/game/waiting/SOHNIL/34" for 127.0.0.1 at 2025-06-27 14:54:03 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"SOHNIL", "player_id"=>"34"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SOHNIL' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 21 AND "players"."id" = 34 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 21 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 21 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 21[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 27ms (Views: 1.6ms | ActiveRecord: 0.2ms (5 queries, 1 cached) | GC: 0.2ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:54:03 -0400
Started GET "/game/status/SOHNIL" for 127.0.0.1 at 2025-06-27 14:54:03 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"SOHNIL"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SOHNIL' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 21 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 21[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 21[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 34ms (Views: 0.1ms | ActiveRecord: 0.1ms (4 queries, 2 cached) | GC: 3.0ms)


Started GET "/game/room/SOHNIL?player_id=34" for 127.0.0.1 at 2025-06-27 14:54:03 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"34", "room_code"=>"SOHNIL"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SOHNIL' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 21 AND "players"."id" = 34 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 21 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 21 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:105
  Rendered game/room.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 1.4ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:54:03 -0400
Started GET "/game/board/SOHNIL?player_id=34" for 127.0.0.1 at 2025-06-27 14:54:03 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"34", "room_code"=>"SOHNIL"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SOHNIL' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.2ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 21 AND "players"."id" = 34 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'SOHNIL' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 34 AND "player_game_states"."room_code" = 'SOHNIL' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayer Load (0.5ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."id" = 34 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayerGameState Create (0.1ms)[0m  [1m[32mINSERT INTO "player_game_states" ("player_id", "room_code", "board_state", "score", "time_remaining", "created_at", "updated_at", "finished", "final_score") VALUES (34, 'SOHNIL', '[[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false}]]', 0, 90, '2025-06-27 18:54:03.793324', '2025-06-27 18:54:03.793324', NULL, NULL) RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 1.1ms (6 queries, 0 cached) | GC: 1.8ms)


Started GET "/" for 127.0.0.1 at 2025-06-27 14:55:15 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.6ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 0.7ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:56:40 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 21 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 21 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 21 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 21[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 3.5ms | GC: 1.5ms)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | GC: 1.5ms)
Completed 200 OK in 29ms (Views: 3.9ms | ActiveRecord: 0.3ms (7 queries, 2 cached) | GC: 1.5ms)


Started POST "/game/cleanup_rooms?delete_all=true" for 127.0.0.1 at 2025-06-27 14:56:42 -0400
Processing by GameController#cleanup_rooms as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "delete_all"=>"true"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 21 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 21 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (1.1ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 21 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mPlayer Load (0.5ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 21 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mGameMove Load (0.0ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."player_id" = 33 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mPlayerGameState Load (0.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 33 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mPlayerGameState Destroy (0.0ms)[0m  [1m[31mDELETE FROM "player_game_states" WHERE "player_game_states"."id" = 6 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mPlayer Destroy (0.0ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 33 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mGameMove Load (0.0ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."player_id" = 34 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mPlayerGameState Load (0.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 34 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mPlayerGameState Destroy (0.0ms)[0m  [1m[31mDELETE FROM "player_game_states" WHERE "player_game_states"."id" = 7 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mPlayer Destroy (0.0ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 34 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mGameMove Load (0.1ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."game_room_id" = 21 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mGameBoard Load (0.0ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'SOHNIL' /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mGameBoard Destroy (0.0ms)[0m  [1m[31mDELETE FROM "game_boards" WHERE "game_boards"."id" = 17 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mGameRoom Destroy (0.0ms)[0m  [1m[31mDELETE FROM "game_rooms" WHERE "game_rooms"."id" = 21 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 33ms (ActiveRecord: 2.2ms (18 queries, 1 cached) | GC: 1.6ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:56:42 -0400
Processing by GameController#multiplayer as TURBO_STREAM
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.5ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.2ms)
Completed 200 OK in 21ms (Views: 1.8ms | ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.2ms)


Started POST "/game/create_room" for 127.0.0.1 at 2025-06-27 14:56:45 -0400
Processing by GameController#create_room as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "game_room"=>{"name"=>"test room", "max_players"=>"2"}, "commit"=>"Create Room"}
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
Cleaned up 0 rooms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' LIMIT 1 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Create (0.1ms)[0m  [1m[32mINSERT INTO "game_rooms" ("name", "room_code", "max_players", "status", "created_at", "updated_at") VALUES ('test room', 'IVFRPB', 2, NULL, '2025-06-27 18:56:45.175122', '2025-06-27 18:56:45.175122') RETURNING "id" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
Redirected to http://127.0.0.1:3000/game/join/IVFRPB
Completed 302 Found in 24ms (ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 0.2ms)


Started GET "/game/join/IVFRPB" for 127.0.0.1 at 2025-06-27 14:56:45 -0400
Processing by GameController#join_room as TURBO_STREAM
  Parameters: {"room_code"=>"IVFRPB"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IVFRPB' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 22 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22[0m
  ↳ app/models/game_room.rb:12:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 21ms (Views: 2.2ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)


Started POST "/game/join/IVFRPB" for 127.0.0.1 at 2025-06-27 14:56:47 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris"}, "commit"=>"Join Game", "room_code"=>"IVFRPB"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IVFRPB' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 0
Room max players: 2
Player params: {"name"=>"chris"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22[0m
  ↳ app/models/game_room.rb:12:in `full?'
  [1m[36mPlayer Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 22 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 22 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 22 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (0.4ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (22, 'chris', 0, '2025-06-27 18:56:47.606823', '2025-06-27 18:56:47.606823') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 35
Redirected to http://127.0.0.1:3000/game/waiting/IVFRPB/35
Completed 302 Found in 27ms (ActiveRecord: 0.6ms (7 queries, 3 cached) | GC: 1.0ms)


Started GET "/game/waiting/IVFRPB/35" for 127.0.0.1 at 2025-06-27 14:56:47 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"IVFRPB", "player_id"=>"35"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IVFRPB' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 22 AND "players"."id" = 35 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 22 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 22ms (Views: 1.6ms | ActiveRecord: 0.2ms (5 queries, 1 cached) | GC: 0.8ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:56:49 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 22 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 22 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.9ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.2ms)
Completed 200 OK in 28ms (Views: 2.2ms | ActiveRecord: 0.2ms (7 queries, 2 cached) | GC: 0.5ms)


Started GET "/game/join/ROOM_CODE?room_code=IVFRPB&commit=Join+Room" for 127.0.0.1 at 2025-06-27 14:56:53 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"ROOM_CODE", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'ROOM_CODE' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 143ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:56:53 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 22 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 22 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.5ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.4ms)
Completed 200 OK in 40ms (Views: 3.0ms | ActiveRecord: 0.2ms (7 queries, 2 cached) | GC: 0.5ms)


Started GET "/game/join/ROOM_CODE?room_code=IVFRPB&commit=Join+Room" for 127.0.0.1 at 2025-06-27 14:56:55 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"ROOM_CODE", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'ROOM_CODE' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 23ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:56:55 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 22 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 22 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 2.1ms | ActiveRecord: 0.2ms (7 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 14:56:56 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.1ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 22 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.1ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 22 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 3.9ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | GC: 0.6ms)
Completed 200 OK in 34ms (Views: 4.3ms | ActiveRecord: 0.4ms (7 queries, 2 cached) | GC: 0.6ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:56:56 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/join/IVFRPB?room_code=IVFRPB&commit=Join+Room" for 127.0.0.1 at 2025-06-27 14:56:57 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"IVFRPB", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IVFRPB' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 22 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22[0m
  ↳ app/models/game_room.rb:12:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 1.7ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.2ms)
Completed 200 OK in 24ms (Views: 1.9ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.2ms)


Started POST "/game/join/IVFRPB" for 127.0.0.1 at 2025-06-27 14:56:59 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris2"}, "commit"=>"Join Game", "room_code"=>"IVFRPB"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IVFRPB' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 1
Room max players: 2
Player params: {"name"=>"chris2"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22[0m
  ↳ app/models/game_room.rb:12:in `full?'
  [1m[36mPlayer Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 22 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 22 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 22 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (0.5ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (22, 'chris2', 0, '2025-06-27 18:56:59.350467', '2025-06-27 18:56:59.350467') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 36
Redirected to http://127.0.0.1:3000/game/waiting/IVFRPB/36
Completed 302 Found in 30ms (ActiveRecord: 0.8ms (7 queries, 3 cached) | GC: 0.2ms)


Started GET "/game/waiting/IVFRPB/36" for 127.0.0.1 at 2025-06-27 14:56:59 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"IVFRPB", "player_id"=>"36"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IVFRPB' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 22 AND "players"."id" = 36 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 22 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.3ms)
Completed 200 OK in 25ms (Views: 2.0ms | ActiveRecord: 0.2ms (5 queries, 1 cached) | GC: 0.5ms)


Started GET "/game/waiting/IVFRPB/35" for 127.0.0.1 at 2025-06-27 14:57:08 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"IVFRPB", "player_id"=>"35"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IVFRPB' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 22 AND "players"."id" = 35 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 22 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 35ms (Views: 1.9ms | ActiveRecord: 0.2ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/status/IVFRPB" for 127.0.0.1 at 2025-06-27 14:57:09 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"IVFRPB"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IVFRPB' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 46ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/IVFRPB" for 127.0.0.1 at 2025-06-27 14:57:11 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"IVFRPB"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IVFRPB' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 25ms (Views: 0.1ms | ActiveRecord: 0.1ms (4 queries, 2 cached) | GC: 1.0ms)


Started GET "/game/status/IVFRPB" for 127.0.0.1 at 2025-06-27 14:57:13 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"IVFRPB"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IVFRPB' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 23ms (Views: 0.1ms | ActiveRecord: 0.1ms (4 queries, 2 cached) | GC: 0.5ms)


Started GET "/game/status/IVFRPB" for 127.0.0.1 at 2025-06-27 14:57:15 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"IVFRPB"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IVFRPB' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 21ms (Views: 0.1ms | ActiveRecord: 0.1ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/IVFRPB" for 127.0.0.1 at 2025-06-27 14:57:17 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"IVFRPB"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IVFRPB' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 24ms (Views: 0.1ms | ActiveRecord: 0.1ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/room/IVFRPB?player_id=35" for 127.0.0.1 at 2025-06-27 14:57:18 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"35", "room_code"=>"IVFRPB"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IVFRPB' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 22 AND "players"."id" = 35 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 22 ORDER BY "players"."id" ASC LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:82
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 22 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:105
  Rendered game/room.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 29ms (Views: 2.1ms | ActiveRecord: 0.2ms (6 queries, 1 cached) | GC: 0.3ms)


Started POST "/game/start/IVFRPB?player_id=35" for 127.0.0.1 at 2025-06-27 14:57:19 -0400
Processing by GameController#start_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player_id"=>"35", "room_code"=>"IVFRPB"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IVFRPB' LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:74:in `start_game'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' AND "game_rooms"."id" != 22 LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Update (0.0ms)[0m  [1m[33mUPDATE "game_rooms" SET "status" = 'playing', "updated_at" = '2025-06-27 18:57:19.607280' WHERE "game_rooms"."id" = 22 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
Redirected to http://127.0.0.1:3000/game/room/IVFRPB?player_id=35
Completed 302 Found in 28ms (ActiveRecord: 0.7ms (4 queries, 0 cached) | GC: 0.4ms)


Started GET "/game/room/IVFRPB?player_id=35" for 127.0.0.1 at 2025-06-27 14:57:19 -0400
Processing by GameController#room as TURBO_STREAM
  Parameters: {"player_id"=>"35", "room_code"=>"IVFRPB"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IVFRPB' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 22 AND "players"."id" = 35 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 22 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:105
  Rendered game/room.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 1.6ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/IVFRPB?player_id=35" for 127.0.0.1 at 2025-06-27 14:57:19 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"35", "room_code"=>"IVFRPB"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IVFRPB' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 22 AND "players"."id" = 35 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'IVFRPB' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mGameBoard Create (0.5ms)[0m  [1m[32mINSERT INTO "game_boards" ("room_code", "board_state", "created_at") VALUES ('IVFRPB', '[[{"fruit":"🍎","value":3},{"fruit":"🍎","value":4},{"fruit":"🍎","value":6},{"fruit":"🍎","value":3},{"fruit":"🍎","value":7},{"fruit":"🍎","value":9},{"fruit":"🍎","value":6},{"fruit":"🍎","value":5},{"fruit":"🍎","value":7},{"fruit":"🍎","value":9}],[{"fruit":"🍎","value":2},{"fruit":"🍎","value":9},{"fruit":"🍎","value":5},{"fruit":"🍎","value":1},{"fruit":"🍎","value":5},{"fruit":"🍎","value":8},{"fruit":"🍎","value":4},{"fruit":"🍎","value":8},{"fruit":"🍎","value":6},{"fruit":"🍎","value":4}],[{"fruit":"🍎","value":2},{"fruit":"🍎","value":2},{"fruit":"🍎","value":8},{"fruit":"🍎","value":1},{"fruit":"🍎","value":4},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":2},{"fruit":"🍎","value":5},{"fruit":"🍎","value":2}],[{"fruit":"🍎","value":5},{"fruit":"🍎","value":8},{"fruit":"🍎","value":6},{"fruit":"🍎","value":3},{"fruit":"🍎","value":3},{"fruit":"🍎","value":6},{"fruit":"🍎","value":7},{"fruit":"🍎","value":2},{"fruit":"🍎","value":8},{"fruit":"🍎","value":3}],[{"fruit":"🍎","value":3},{"fruit":"🍎","value":1},{"fruit":"🍎","value":6},{"fruit":"🍎","value":5},{"fruit":"🍎","value":6},{"fruit":"🍎","value":4},{"fruit":"🍎","value":5},{"fruit":"🍎","value":9},{"fruit":"🍎","value":2},{"fruit":"🍎","value":5}],[{"fruit":"🍎","value":1},{"fruit":"🍎","value":5},{"fruit":"🍎","value":8},{"fruit":"🍎","value":1},{"fruit":"🍎","value":7},{"fruit":"🍎","value":3},{"fruit":"🍎","value":2},{"fruit":"🍎","value":8},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6}],[{"fruit":"🍎","value":3},{"fruit":"🍎","value":6},{"fruit":"🍎","value":7},{"fruit":"🍎","value":6},{"fruit":"🍎","value":8},{"fruit":"🍎","value":5},{"fruit":"🍎","value":4},{"fruit":"🍎","value":5},{"fruit":"🍎","value":3},{"fruit":"🍎","value":4}],[{"fruit":"🍎","value":1},{"fruit":"🍎","value":5},{"fruit":"🍎","value":9},{"fruit":"🍎","value":8},{"fruit":"🍎","value":7},{"fruit":"🍎","value":4},{"fruit":"🍎","value":1},{"fruit":"🍎","value":8},{"fruit":"🍎","value":2},{"fruit":"🍎","value":9}],[{"fruit":"🍎","value":9},{"fruit":"🍎","value":2},{"fruit":"🍎","value":7},{"fruit":"🍎","value":9},{"fruit":"🍎","value":7},{"fruit":"🍎","value":2},{"fruit":"🍎","value":8},{"fruit":"🍎","value":8},{"fruit":"🍎","value":3},{"fruit":"🍎","value":5}],[{"fruit":"🍎","value":4},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":7},{"fruit":"🍎","value":9},{"fruit":"🍎","value":4},{"fruit":"🍎","value":9},{"fruit":"🍎","value":7},{"fruit":"🍎","value":5},{"fruit":"🍎","value":8}]]', '2025-06-27 18:57:19.680252') RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 35 AND "player_game_states"."room_code" = 'IVFRPB' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayer Load (0.6ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."id" = 35 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayerGameState Create (0.1ms)[0m  [1m[32mINSERT INTO "player_game_states" ("player_id", "room_code", "board_state", "score", "time_remaining", "created_at", "updated_at", "finished", "final_score") VALUES (35, 'IVFRPB', '[[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false}]]', 0, 90, '2025-06-27 18:57:19.687201', '2025-06-27 18:57:19.687201', NULL, NULL) RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
Completed 200 OK in 34ms (Views: 0.2ms | ActiveRecord: 1.8ms (7 queries, 0 cached) | GC: 1.1ms)


Started GET "/game/waiting/IVFRPB/36" for 127.0.0.1 at 2025-06-27 14:57:21 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"IVFRPB", "player_id"=>"36"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IVFRPB' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 22 AND "players"."id" = 36 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 22 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 1.8ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:57:21 -0400
Started GET "/game/status/IVFRPB" for 127.0.0.1 at 2025-06-27 14:57:21 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"IVFRPB"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IVFRPB' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 28ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.3ms)


Started GET "/game/room/IVFRPB?player_id=36" for 127.0.0.1 at 2025-06-27 14:57:21 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"36", "room_code"=>"IVFRPB"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IVFRPB' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 22 AND "players"."id" = 36 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 22 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:105
  Rendered game/room.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.4ms)
Completed 200 OK in 23ms (Views: 2.2ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.4ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:57:21 -0400
Started GET "/game/board/IVFRPB?player_id=36" for 127.0.0.1 at 2025-06-27 14:57:21 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"36", "room_code"=>"IVFRPB"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IVFRPB' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 22 AND "players"."id" = 36 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'IVFRPB' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 36 AND "player_game_states"."room_code" = 'IVFRPB' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayer Load (2.5ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."id" = 36 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayerGameState Create (0.1ms)[0m  [1m[32mINSERT INTO "player_game_states" ("player_id", "room_code", "board_state", "score", "time_remaining", "created_at", "updated_at", "finished", "final_score") VALUES (36, 'IVFRPB', '[[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false}]]', 0, 90, '2025-06-27 18:57:21.702151', '2025-06-27 18:57:21.702151', NULL, NULL) RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
Completed 200 OK in 35ms (Views: 0.2ms | ActiveRecord: 2.9ms (6 queries, 0 cached) | GC: 1.8ms)


Writing application-54a96b53.js.map
Writing application-3c750423.js
Started GET "/game/room/IVFRPB?player_id=36" for 127.0.0.1 at 2025-06-27 14:57:44 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"36", "room_code"=>"IVFRPB"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IVFRPB' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 22 AND "players"."id" = 36 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 22 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:105
  Rendered game/room.html.erb within layouts/application (Duration: 2.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | GC: 0.0ms)
Completed 200 OK in 79ms (Views: 8.5ms | ActiveRecord: 2.0ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 14:57:44 -0400
Started GET "/game/board/IVFRPB?player_id=36" for 127.0.0.1 at 2025-06-27 14:57:44 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"36", "room_code"=>"IVFRPB"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IVFRPB' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 22 AND "players"."id" = 36 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'IVFRPB' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 36 AND "player_game_states"."room_code" = 'IVFRPB' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 77ms (Views: 0.2ms | ActiveRecord: 1.6ms (4 queries, 0 cached) | GC: 23.1ms)


Started POST "/game/collect_apples/IVFRPB?player_id=36" for 127.0.0.1 at 2025-06-27 14:57:49 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[7, 5], [8, 5], [9, 5]], "player_id"=>"36", "room_code"=>"IVFRPB", "game"=>{"positions"=>[[7, 5], [8, 5], [9, 5]]}}
  [1m[36mGameRoom Load (0.4ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IVFRPB' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 22 AND "players"."id" = 36 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 36 AND "player_game_states"."room_code" = 'IVFRPB' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mPlayerGameState Update (1.7ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false}]]', "score" = 10, "updated_at" = '2025-06-27 18:57:49.514870' WHERE "player_game_states"."id" = 9 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 2.7ms (4 queries, 0 cached) | GC: 6.4ms)


Started POST "/game/collect_apples/IVFRPB?player_id=36" for 127.0.0.1 at 2025-06-27 14:57:55 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[7, 0], [8, 0]], "player_id"=>"36", "room_code"=>"IVFRPB", "game"=>{"positions"=>[[7, 0], [8, 0]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IVFRPB' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 22 AND "players"."id" = 36 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 36 AND "player_game_states"."room_code" = 'IVFRPB' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false}]]', "score" = 20, "updated_at" = '2025-06-27 18:57:55.988550' WHERE "player_game_states"."id" = 9 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
Completed 200 OK in 33ms (Views: 0.3ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.2ms)


Started POST "/game/collect_apples/IVFRPB?player_id=36" for 127.0.0.1 at 2025-06-27 14:57:56 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[9, 0], [9, 1]], "player_id"=>"36", "room_code"=>"IVFRPB", "game"=>{"positions"=>[[9, 0], [9, 1]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'IVFRPB' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 22 AND "players"."id" = 36 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.2ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 36 AND "player_game_states"."room_code" = 'IVFRPB' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false}]]', "score" = 30, "updated_at" = '2025-06-27 18:57:56.669001' WHERE "player_game_states"."id" = 9 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
Completed 200 OK in 28ms (Views: 0.1ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.8ms)


Writing application-ff667e14.js.map
Writing application-7be25fed.js
Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:00:58 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (1.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 22 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 22 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 12.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | GC: 0.0ms)
Completed 200 OK in 89ms (Views: 14.1ms | ActiveRecord: 2.4ms (7 queries, 2 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 15:00:58 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/cleanup_rooms?delete_all=true" for 127.0.0.1 at 2025-06-27 15:01:01 -0400
Processing by GameController#cleanup_rooms as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "delete_all"=>"true"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 22 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 22 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 22 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mPlayer Load (1.8ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 22 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mGameMove Load (0.1ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."player_id" = 35 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 35 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mPlayerGameState Destroy (0.1ms)[0m  [1m[31mDELETE FROM "player_game_states" WHERE "player_game_states"."id" = 8 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mPlayer Destroy (0.1ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 35 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mGameMove Load (0.0ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."player_id" = 36 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mPlayerGameState Load (0.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 36 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mPlayerGameState Destroy (0.0ms)[0m  [1m[31mDELETE FROM "player_game_states" WHERE "player_game_states"."id" = 9 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mPlayer Destroy (0.0ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 36 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mGameMove Load (0.0ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."game_room_id" = 22 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'IVFRPB' /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mGameBoard Destroy (0.0ms)[0m  [1m[31mDELETE FROM "game_boards" WHERE "game_boards"."id" = 18 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mGameRoom Destroy (0.0ms)[0m  [1m[31mDELETE FROM "game_rooms" WHERE "game_rooms"."id" = 22 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:142:in `cleanup_rooms'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 77ms (ActiveRecord: 3.6ms (18 queries, 1 cached) | GC: 24.7ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:01:01 -0400
Processing by GameController#multiplayer as TURBO_STREAM
Running cleanup before action...
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.4ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.1ms)
Completed 200 OK in 24ms (Views: 1.8ms | ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.6ms)


Started POST "/game/create_room" for 127.0.0.1 at 2025-06-27 15:01:03 -0400
Processing by GameController#create_room as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "game_room"=>{"name"=>"test rom", "max_players"=>"2"}, "commit"=>"Create Room"}
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
Cleaned up 0 rooms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test rom' LIMIT 1 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Create (0.1ms)[0m  [1m[32mINSERT INTO "game_rooms" ("name", "room_code", "max_players", "status", "created_at", "updated_at") VALUES ('test rom', 'GL1HHQ', 2, NULL, '2025-06-27 19:01:04.003612', '2025-06-27 19:01:04.003612') RETURNING "id" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
Redirected to http://127.0.0.1:3000/game/join/GL1HHQ
Completed 302 Found in 28ms (ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 0.6ms)


Started GET "/game/join/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:01:04 -0400
Processing by GameController#join_room as TURBO_STREAM
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:12:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 30ms (Views: 2.8ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)


Started POST "/game/join/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:01:06 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris"}, "commit"=>"Join Game", "room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test rom
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 0
Room max players: 2
Player params: {"name"=>"chris"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:12:in `full?'
  [1m[36mPlayer Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 23 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 23 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 23 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (0.7ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (23, 'chris', 0, '2025-06-27 19:01:06.677572', '2025-06-27 19:01:06.677572') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 37
Redirected to http://127.0.0.1:3000/game/waiting/GL1HHQ/37
Completed 302 Found in 30ms (ActiveRecord: 1.1ms (7 queries, 3 cached) | GC: 0.0ms)


Started GET "/game/waiting/GL1HHQ/37" for 127.0.0.1 at 2025-06-27 15:01:06 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"GL1HHQ", "player_id"=>"37"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 AND "players"."id" = 37 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 28ms (Views: 2.4ms | ActiveRecord: 0.2ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:01:12 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 23 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 23 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.7ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.7ms)
Completed 200 OK in 30ms (Views: 3.1ms | ActiveRecord: 0.2ms (7 queries, 2 cached) | GC: 0.7ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:01:12 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 23 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 23 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.6ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.5ms)
Completed 200 OK in 44ms (Views: 3.2ms | ActiveRecord: 0.2ms (7 queries, 2 cached) | GC: 0.5ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:01:13 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 23 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 23 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.3ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.2ms)
Completed 200 OK in 32ms (Views: 2.8ms | ActiveRecord: 0.2ms (7 queries, 2 cached) | GC: 0.3ms)


Started GET "/game/join/GL1HHQ?room_code=GL1HHQ&commit=Join+Room" for 127.0.0.1 at 2025-06-27 15:01:14 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"GL1HHQ", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:12:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.0ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.4ms)
Completed 200 OK in 27ms (Views: 2.3ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.4ms)


Started POST "/game/join/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:01:17 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris2"}, "commit"=>"Join Game", "room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test rom
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 1
Room max players: 2
Player params: {"name"=>"chris2"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:12:in `full?'
  [1m[36mPlayer Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 23 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 23 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 23 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (0.4ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (23, 'chris2', 0, '2025-06-27 19:01:17.898117', '2025-06-27 19:01:17.898117') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 38
Redirected to http://127.0.0.1:3000/game/waiting/GL1HHQ/38
Completed 302 Found in 31ms (ActiveRecord: 1.4ms (7 queries, 3 cached) | GC: 0.0ms)


Started GET "/game/waiting/GL1HHQ/38" for 127.0.0.1 at 2025-06-27 15:01:17 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"GL1HHQ", "player_id"=>"38"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 AND "players"."id" = 38 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 1.7ms | ActiveRecord: 0.2ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/waiting/GL1HHQ/37" for 127.0.0.1 at 2025-06-27 15:01:23 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"GL1HHQ", "player_id"=>"37"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 AND "players"."id" = 37 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.2ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 9.0ms | GC: 4.9ms)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | GC: 4.9ms)
Completed 200 OK in 38ms (Views: 9.3ms | ActiveRecord: 0.5ms (5 queries, 1 cached) | GC: 4.9ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 15:01:23 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:01:23 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 41ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.4ms)


Started GET "/game/room/GL1HHQ?player_id=37" for 127.0.0.1 at 2025-06-27 15:01:24 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"37", "room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 AND "players"."id" = 37 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 ORDER BY "players"."id" ASC LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:82
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:105
  Rendered game/room.html.erb within layouts/application (Duration: 4.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | GC: 0.0ms)
Completed 200 OK in 40ms (Views: 5.4ms | ActiveRecord: 0.5ms (6 queries, 1 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 15:01:24 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/start/GL1HHQ?player_id=37" for 127.0.0.1 at 2025-06-27 15:01:26 -0400
Processing by GameController#start_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player_id"=>"37", "room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:74:in `start_game'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test rom' AND "game_rooms"."id" != 23 LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Update (0.1ms)[0m  [1m[33mUPDATE "game_rooms" SET "status" = 'playing', "updated_at" = '2025-06-27 19:01:26.105110' WHERE "game_rooms"."id" = 23 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
Redirected to http://127.0.0.1:3000/game/room/GL1HHQ?player_id=37
Completed 302 Found in 30ms (ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/room/GL1HHQ?player_id=37" for 127.0.0.1 at 2025-06-27 15:01:26 -0400
Processing by GameController#room as TURBO_STREAM
  Parameters: {"player_id"=>"37", "room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 AND "players"."id" = 37 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:105
  Rendered game/room.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 30ms (Views: 2.1ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/GL1HHQ?player_id=37" for 127.0.0.1 at 2025-06-27 15:01:26 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"37", "room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 AND "players"."id" = 37 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'GL1HHQ' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mGameBoard Create (0.4ms)[0m  [1m[32mINSERT INTO "game_boards" ("room_code", "board_state", "created_at") VALUES ('GL1HHQ', '[[{"fruit":"🍎","value":5},{"fruit":"🍎","value":1},{"fruit":"🍎","value":7},{"fruit":"🍎","value":3},{"fruit":"🍎","value":6},{"fruit":"🍎","value":7},{"fruit":"🍎","value":2},{"fruit":"🍎","value":3},{"fruit":"🍎","value":3},{"fruit":"🍎","value":7}],[{"fruit":"🍎","value":6},{"fruit":"🍎","value":9},{"fruit":"🍎","value":1},{"fruit":"🍎","value":4},{"fruit":"🍎","value":8},{"fruit":"🍎","value":1},{"fruit":"🍎","value":6},{"fruit":"🍎","value":8},{"fruit":"🍎","value":5},{"fruit":"🍎","value":3}],[{"fruit":"🍎","value":3},{"fruit":"🍎","value":3},{"fruit":"🍎","value":9},{"fruit":"🍎","value":5},{"fruit":"🍎","value":3},{"fruit":"🍎","value":1},{"fruit":"🍎","value":7},{"fruit":"🍎","value":3},{"fruit":"🍎","value":1},{"fruit":"🍎","value":3}],[{"fruit":"🍎","value":2},{"fruit":"🍎","value":7},{"fruit":"🍎","value":5},{"fruit":"🍎","value":8},{"fruit":"🍎","value":7},{"fruit":"🍎","value":5},{"fruit":"🍎","value":8},{"fruit":"🍎","value":3},{"fruit":"🍎","value":7},{"fruit":"🍎","value":1}],[{"fruit":"🍎","value":3},{"fruit":"🍎","value":6},{"fruit":"🍎","value":4},{"fruit":"🍎","value":1},{"fruit":"🍎","value":7},{"fruit":"🍎","value":9},{"fruit":"🍎","value":7},{"fruit":"🍎","value":3},{"fruit":"🍎","value":8},{"fruit":"🍎","value":8}],[{"fruit":"🍎","value":9},{"fruit":"🍎","value":8},{"fruit":"🍎","value":7},{"fruit":"🍎","value":4},{"fruit":"🍎","value":7},{"fruit":"🍎","value":7},{"fruit":"🍎","value":5},{"fruit":"🍎","value":8},{"fruit":"🍎","value":1},{"fruit":"🍎","value":3}],[{"fruit":"🍎","value":9},{"fruit":"🍎","value":6},{"fruit":"🍎","value":7},{"fruit":"🍎","value":8},{"fruit":"🍎","value":7},{"fruit":"🍎","value":8},{"fruit":"🍎","value":5},{"fruit":"🍎","value":1},{"fruit":"🍎","value":8},{"fruit":"🍎","value":7}],[{"fruit":"🍎","value":3},{"fruit":"🍎","value":1},{"fruit":"🍎","value":8},{"fruit":"🍎","value":7},{"fruit":"🍎","value":2},{"fruit":"🍎","value":3},{"fruit":"🍎","value":9},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":1}],[{"fruit":"🍎","value":2},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":9},{"fruit":"🍎","value":3},{"fruit":"🍎","value":2},{"fruit":"🍎","value":3},{"fruit":"🍎","value":6},{"fruit":"🍎","value":2},{"fruit":"🍎","value":4}],[{"fruit":"🍎","value":1},{"fruit":"🍎","value":1},{"fruit":"🍎","value":3},{"fruit":"🍎","value":1},{"fruit":"🍎","value":4},{"fruit":"🍎","value":7},{"fruit":"🍎","value":5},{"fruit":"🍎","value":6},{"fruit":"🍎","value":7},{"fruit":"🍎","value":1}]]', '2025-06-27 19:01:26.230660') RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mPlayerGameState Load (0.3ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 37 AND "player_game_states"."room_code" = 'GL1HHQ' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayer Load (0.7ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."id" = 37 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayerGameState Create (0.1ms)[0m  [1m[32mINSERT INTO "player_game_states" ("player_id", "room_code", "board_state", "score", "time_remaining", "created_at", "updated_at", "finished", "final_score") VALUES (37, 'GL1HHQ', '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', 0, 90, '2025-06-27 19:01:26.238780', '2025-06-27 19:01:26.238780', NULL, NULL) RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
Completed 200 OK in 65ms (Views: 0.6ms | ActiveRecord: 2.7ms (7 queries, 0 cached) | GC: 1.2ms)


Started GET "/game/waiting/GL1HHQ/38" for 127.0.0.1 at 2025-06-27 15:01:28 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"GL1HHQ", "player_id"=>"38"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 AND "players"."id" = 38 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 3.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | GC: 0.3ms)
Completed 200 OK in 27ms (Views: 4.2ms | ActiveRecord: 0.4ms (5 queries, 1 cached) | GC: 0.3ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:01:28 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 27ms (Views: 0.1ms | ActiveRecord: 0.1ms (4 queries, 2 cached) | GC: 0.2ms)


Started GET "/game/room/GL1HHQ?player_id=38" for 127.0.0.1 at 2025-06-27 15:01:28 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"38", "room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 AND "players"."id" = 38 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:105
  Rendered game/room.html.erb within layouts/application (Duration: 1.1ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.7ms)
Completed 200 OK in 27ms (Views: 2.1ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.7ms)


Started GET "/game/board/GL1HHQ?player_id=38" for 127.0.0.1 at 2025-06-27 15:01:28 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"38", "room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 AND "players"."id" = 38 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'GL1HHQ' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.2ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 38 AND "player_game_states"."room_code" = 'GL1HHQ' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayer Load (2.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."id" = 38 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayerGameState Create (0.2ms)[0m  [1m[32mINSERT INTO "player_game_states" ("player_id", "room_code", "board_state", "score", "time_remaining", "created_at", "updated_at", "finished", "final_score") VALUES (38, 'GL1HHQ', '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', 0, 90, '2025-06-27 19:01:28.841727', '2025-06-27 19:01:28.841727', NULL, NULL) RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
Completed 200 OK in 51ms (Views: 0.3ms | ActiveRecord: 2.9ms (6 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/GL1HHQ?player_id=38" for 127.0.0.1 at 2025-06-27 15:01:44 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 1], [1, 1]], "player_id"=>"38", "room_code"=>"GL1HHQ", "game"=>{"positions"=>[[0, 1], [1, 1]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 AND "players"."id" = 38 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 38 AND "player_game_states"."room_code" = 'GL1HHQ' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 10, "updated_at" = '2025-06-27 19:01:44.978528' WHERE "player_game_states"."id" = 11 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
Completed 200 OK in 37ms (Views: 0.3ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 2.6ms)


Started POST "/game/collect_apples/GL1HHQ?player_id=38" for 127.0.0.1 at 2025-06-27 15:01:46 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[2, 1], [3, 1]], "player_id"=>"38", "room_code"=>"GL1HHQ", "game"=>{"positions"=>[[2, 1], [3, 1]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 AND "players"."id" = 38 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 38 AND "player_game_states"."room_code" = 'GL1HHQ' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 20, "updated_at" = '2025-06-27 19:01:46.257406' WHERE "player_game_states"."id" = 11 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
Completed 200 OK in 35ms (Views: 0.2ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.8ms)


Started POST "/game/collect_apples/GL1HHQ?player_id=38" for 127.0.0.1 at 2025-06-27 15:01:47 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[4, 1], [4, 2]], "player_id"=>"38", "room_code"=>"GL1HHQ", "game"=>{"positions"=>[[4, 1], [4, 2]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 AND "players"."id" = 38 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 38 AND "player_game_states"."room_code" = 'GL1HHQ' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mPlayerGameState Update (0.7ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 30, "updated_at" = '2025-06-27 19:01:47.099395' WHERE "player_game_states"."id" = 11 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
Completed 200 OK in 36ms (Views: 0.2ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 1.0ms)


Started POST "/game/collect_apples/GL1HHQ?player_id=38" for 127.0.0.1 at 2025-06-27 15:01:48 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[3, 0], [3, 2], [4, 0]], "player_id"=>"38", "room_code"=>"GL1HHQ", "game"=>{"positions"=>[[3, 0], [3, 2], [4, 0]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 AND "players"."id" = 38 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 38 AND "player_game_states"."room_code" = 'GL1HHQ' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 40, "updated_at" = '2025-06-27 19:01:48.372700' WHERE "player_game_states"."id" = 11 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
Completed 200 OK in 39ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/GL1HHQ?player_id=38" for 127.0.0.1 at 2025-06-27 15:01:49 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[1, 2], [2, 2]], "player_id"=>"38", "room_code"=>"GL1HHQ", "game"=>{"positions"=>[[1, 2], [2, 2]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 AND "players"."id" = 38 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 38 AND "player_game_states"."room_code" = 'GL1HHQ' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mPlayerGameState Update (0.7ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 50, "updated_at" = '2025-06-27 19:01:49.464608' WHERE "player_game_states"."id" = 11 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
Completed 200 OK in 37ms (Views: 0.3ms | ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 2.2ms)


Started POST "/game/collect_apples/GL1HHQ?player_id=38" for 127.0.0.1 at 2025-06-27 15:01:51 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 2], [0, 3]], "player_id"=>"38", "room_code"=>"GL1HHQ", "game"=>{"positions"=>[[0, 2], [0, 3]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 AND "players"."id" = 38 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 38 AND "player_game_states"."room_code" = 'GL1HHQ' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 60, "updated_at" = '2025-06-27 19:01:51.397972' WHERE "player_game_states"."id" = 11 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
Completed 200 OK in 34ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.9ms)


Started POST "/game/collect_apples/GL1HHQ?player_id=38" for 127.0.0.1 at 2025-06-27 15:01:52 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[1, 0], [1, 3]], "player_id"=>"38", "room_code"=>"GL1HHQ", "game"=>{"positions"=>[[1, 0], [1, 3]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 AND "players"."id" = 38 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 38 AND "player_game_states"."room_code" = 'GL1HHQ' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 70, "updated_at" = '2025-06-27 19:01:52.417493' WHERE "player_game_states"."id" = 11 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
Completed 200 OK in 41ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.6ms)


Started POST "/game/collect_apples/GL1HHQ?player_id=38" for 127.0.0.1 at 2025-06-27 15:01:53 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[2, 4], [3, 4]], "player_id"=>"38", "room_code"=>"GL1HHQ", "game"=>{"positions"=>[[2, 4], [3, 4]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 AND "players"."id" = 38 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 38 AND "player_game_states"."room_code" = 'GL1HHQ' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mPlayerGameState Update (0.8ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 80, "updated_at" = '2025-06-27 19:01:53.149233' WHERE "player_game_states"."id" = 11 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
Completed 200 OK in 41ms (Views: 0.4ms | ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/GL1HHQ?player_id=38" for 127.0.0.1 at 2025-06-27 15:01:54 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 8], [0, 9]], "player_id"=>"38", "room_code"=>"GL1HHQ", "game"=>{"positions"=>[[0, 8], [0, 9]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 AND "players"."id" = 38 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.2ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 38 AND "player_game_states"."room_code" = 'GL1HHQ' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 90, "updated_at" = '2025-06-27 19:01:54.264757' WHERE "player_game_states"."id" = 11 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
Completed 200 OK in 44ms (Views: 0.3ms | ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 2.2ms)


Started POST "/game/collect_apples/GL1HHQ?player_id=38" for 127.0.0.1 at 2025-06-27 15:01:55 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[1, 4], [1, 5], [2, 5]], "player_id"=>"38", "room_code"=>"GL1HHQ", "game"=>{"positions"=>[[1, 4], [1, 5], [2, 5]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 AND "players"."id" = 38 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 38 AND "player_game_states"."room_code" = 'GL1HHQ' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mPlayerGameState Update (1.0ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 100, "updated_at" = '2025-06-27 19:01:55.641463' WHERE "player_game_states"."id" = 11 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
Completed 200 OK in 36ms (Views: 0.2ms | ActiveRecord: 1.4ms (4 queries, 0 cached) | GC: 0.7ms)


Started POST "/game/collect_apples/GL1HHQ?player_id=38" for 127.0.0.1 at 2025-06-27 15:01:56 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[4, 6], [4, 7]], "player_id"=>"38", "room_code"=>"GL1HHQ", "game"=>{"positions"=>[[4, 6], [4, 7]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 AND "players"."id" = 38 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 38 AND "player_game_states"."room_code" = 'GL1HHQ' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 110, "updated_at" = '2025-06-27 19:01:56.678542' WHERE "player_game_states"."id" = 11 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
Completed 200 OK in 36ms (Views: 0.2ms | ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 0.6ms)


Started POST "/game/collect_apples/GL1HHQ?player_id=38" for 127.0.0.1 at 2025-06-27 15:01:57 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[2, 6], [2, 7]], "player_id"=>"38", "room_code"=>"GL1HHQ", "game"=>{"positions"=>[[2, 6], [2, 7]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 AND "players"."id" = 38 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 38 AND "player_game_states"."room_code" = 'GL1HHQ' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 120, "updated_at" = '2025-06-27 19:01:57.394410' WHERE "player_game_states"."id" = 11 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
Completed 200 OK in 30ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/GL1HHQ?player_id=38" for 127.0.0.1 at 2025-06-27 15:01:58 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[3, 7], [3, 8]], "player_id"=>"38", "room_code"=>"GL1HHQ", "game"=>{"positions"=>[[3, 7], [3, 8]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 AND "players"."id" = 38 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 38 AND "player_game_states"."room_code" = 'GL1HHQ' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 130, "updated_at" = '2025-06-27 19:01:58.302226' WHERE "player_game_states"."id" = 11 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
Completed 200 OK in 32ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 1.1ms)


Started POST "/game/collect_apples/GL1HHQ?player_id=38" for 127.0.0.1 at 2025-06-27 15:01:59 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[5, 9], [6, 9]], "player_id"=>"38", "room_code"=>"GL1HHQ", "game"=>{"positions"=>[[5, 9], [6, 9]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 AND "players"."id" = 38 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 38 AND "player_game_states"."room_code" = 'GL1HHQ' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mPlayerGameState Update (0.8ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 140, "updated_at" = '2025-06-27 19:01:59.046347' WHERE "player_game_states"."id" = 11 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
Completed 200 OK in 35ms (Views: 0.2ms | ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 0.3ms)


Started POST "/game/collect_apples/GL1HHQ?player_id=38" for 127.0.0.1 at 2025-06-27 15:01:59 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[2, 8], [4, 8], [5, 8]], "player_id"=>"38", "room_code"=>"GL1HHQ", "game"=>{"positions"=>[[2, 8], [4, 8], [5, 8]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 AND "players"."id" = 38 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.2ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 38 AND "player_game_states"."room_code" = 'GL1HHQ' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mPlayerGameState Update (1.2ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 150, "updated_at" = '2025-06-27 19:02:00.011248' WHERE "player_game_states"."id" = 11 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
Completed 200 OK in 40ms (Views: 0.2ms | ActiveRecord: 1.8ms (4 queries, 0 cached) | GC: 0.6ms)


Started POST "/game/collect_apples/GL1HHQ?player_id=38" for 127.0.0.1 at 2025-06-27 15:02:00 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[5, 6], [6, 6]], "player_id"=>"38", "room_code"=>"GL1HHQ", "game"=>{"positions"=>[[5, 6], [6, 6]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 AND "players"."id" = 38 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 38 AND "player_game_states"."room_code" = 'GL1HHQ' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 160, "updated_at" = '2025-06-27 19:02:00.768506' WHERE "player_game_states"."id" = 11 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/GL1HHQ?player_id=38" for 127.0.0.1 at 2025-06-27 15:02:03 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[7, 4], [7, 5], [8, 4], [8, 5]], "player_id"=>"38", "room_code"=>"GL1HHQ", "game"=>{"positions"=>[[7, 4], [7, 5], [8, 4], [8, 5]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 AND "players"."id" = 38 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 38 AND "player_game_states"."room_code" = 'GL1HHQ' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 170, "updated_at" = '2025-06-27 19:02:03.381271' WHERE "player_game_states"."id" = 11 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
Completed 200 OK in 42ms (Views: 0.4ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 1.2ms)


Started POST "/game/collect_apples/GL1HHQ?player_id=38" for 127.0.0.1 at 2025-06-27 15:02:04 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[8, 3], [9, 3]], "player_id"=>"38", "room_code"=>"GL1HHQ", "game"=>{"positions"=>[[8, 3], [9, 3]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 AND "players"."id" = 38 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 38 AND "player_game_states"."room_code" = 'GL1HHQ' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mPlayerGameState Update (0.9ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 180, "updated_at" = '2025-06-27 19:02:04.362128' WHERE "player_game_states"."id" = 11 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 1.3ms (4 queries, 0 cached) | GC: 0.4ms)


Started POST "/game/collect_apples/GL1HHQ?player_id=38" for 127.0.0.1 at 2025-06-27 15:02:05 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[8, 0], [8, 1], [9, 0], [9, 1]], "player_id"=>"38", "room_code"=>"GL1HHQ", "game"=>{"positions"=>[[8, 0], [8, 1], [9, 0], [9, 1]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 AND "players"."id" = 38 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 38 AND "player_game_states"."room_code" = 'GL1HHQ' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 190, "updated_at" = '2025-06-27 19:02:05.926335' WHERE "player_game_states"."id" = 11 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
Completed 200 OK in 43ms (Views: 0.2ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.7ms)


Started POST "/game/collect_apples/GL1HHQ?player_id=38" for 127.0.0.1 at 2025-06-27 15:02:08 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[3, 9], [4, 9], [7, 9]], "player_id"=>"38", "room_code"=>"GL1HHQ", "game"=>{"positions"=>[[3, 9], [4, 9], [7, 9]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 AND "players"."id" = 38 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 38 AND "player_game_states"."room_code" = 'GL1HHQ' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":true}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 200, "updated_at" = '2025-06-27 19:02:08.070461' WHERE "player_game_states"."id" = 11 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
Completed 200 OK in 41ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/GL1HHQ?player_id=38" for 127.0.0.1 at 2025-06-27 15:02:09 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[1, 9], [2, 9], [8, 9]], "player_id"=>"38", "room_code"=>"GL1HHQ", "game"=>{"positions"=>[[1, 9], [2, 9], [8, 9]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 AND "players"."id" = 38 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 38 AND "player_game_states"."room_code" = 'GL1HHQ' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":true}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":true}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 210, "updated_at" = '2025-06-27 19:02:09.683876' WHERE "player_game_states"."id" = 11 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
Completed 200 OK in 42ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 1.2ms)


Started POST "/game/collect_apples/GL1HHQ?player_id=38" for 127.0.0.1 at 2025-06-27 15:02:10 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[8, 8], [9, 8], [9, 9]], "player_id"=>"38", "room_code"=>"GL1HHQ", "game"=>{"positions"=>[[8, 8], [9, 8], [9, 9]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 AND "players"."id" = 38 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 38 AND "player_game_states"."room_code" = 'GL1HHQ' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":true}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":true}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":1,"collected":true}]]', "score" = 220, "updated_at" = '2025-06-27 19:02:10.913663' WHERE "player_game_states"."id" = 11 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:44:in `collect_apples'
Completed 200 OK in 40ms (Views: 0.6ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.4ms)


Started POST "/game/board/GL1HHQ/refresh?player_id=38" for 127.0.0.1 at 2025-06-27 15:02:13 -0400
Processing by GameController#refresh_board as */*
  Parameters: {"player_id"=>"38", "room_code"=>"GL1HHQ", "game"=>{}}
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='refresh_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:127:in `refresh_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 AND "players"."id" = 38 LIMIT 1 /*action='refresh_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:128:in `refresh_board'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='refresh_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mGameBoard Create (0.5ms)[0m  [1m[32mINSERT INTO "game_boards" ("room_code", "board_state", "created_at") VALUES ('GL1HHQ_player_38', '[[{"fruit":"🍎","value":8},{"fruit":"🍎","value":8},{"fruit":"🍎","value":4},{"fruit":"🍎","value":3},{"fruit":"🍎","value":4},{"fruit":"🍎","value":9},{"fruit":"🍎","value":6},{"fruit":"🍎","value":4},{"fruit":"🍎","value":8},{"fruit":"🍎","value":7}],[{"fruit":"🍎","value":6},{"fruit":"🍎","value":2},{"fruit":"🍎","value":5},{"fruit":"🍎","value":7},{"fruit":"🍎","value":7},{"fruit":"🍎","value":2},{"fruit":"🍎","value":4},{"fruit":"🍎","value":9},{"fruit":"🍎","value":5},{"fruit":"🍎","value":8}],[{"fruit":"🍎","value":8},{"fruit":"🍎","value":2},{"fruit":"🍎","value":8},{"fruit":"🍎","value":5},{"fruit":"🍎","value":2},{"fruit":"🍎","value":7},{"fruit":"🍎","value":8},{"fruit":"🍎","value":7},{"fruit":"🍎","value":3},{"fruit":"🍎","value":6}],[{"fruit":"🍎","value":2},{"fruit":"🍎","value":1},{"fruit":"🍎","value":2},{"fruit":"🍎","value":1},{"fruit":"🍎","value":7},{"fruit":"🍎","value":1},{"fruit":"🍎","value":6},{"fruit":"🍎","value":8},{"fruit":"🍎","value":7},{"fruit":"🍎","value":3}],[{"fruit":"🍎","value":6},{"fruit":"🍎","value":1},{"fruit":"🍎","value":1},{"fruit":"🍎","value":5},{"fruit":"🍎","value":4},{"fruit":"🍎","value":1},{"fruit":"🍎","value":4},{"fruit":"🍎","value":7},{"fruit":"🍎","value":9},{"fruit":"🍎","value":1}],[{"fruit":"🍎","value":2},{"fruit":"🍎","value":7},{"fruit":"🍎","value":4},{"fruit":"🍎","value":8},{"fruit":"🍎","value":8},{"fruit":"🍎","value":8},{"fruit":"🍎","value":5},{"fruit":"🍎","value":6},{"fruit":"🍎","value":1},{"fruit":"🍎","value":7}],[{"fruit":"🍎","value":4},{"fruit":"🍎","value":3},{"fruit":"🍎","value":9},{"fruit":"🍎","value":2},{"fruit":"🍎","value":9},{"fruit":"🍎","value":3},{"fruit":"🍎","value":7},{"fruit":"🍎","value":3},{"fruit":"🍎","value":8},{"fruit":"🍎","value":7}],[{"fruit":"🍎","value":9},{"fruit":"🍎","value":3},{"fruit":"🍎","value":5},{"fruit":"🍎","value":5},{"fruit":"🍎","value":9},{"fruit":"🍎","value":1},{"fruit":"🍎","value":7},{"fruit":"🍎","value":2},{"fruit":"🍎","value":5},{"fruit":"🍎","value":1}],[{"fruit":"🍎","value":4},{"fruit":"🍎","value":1},{"fruit":"🍎","value":6},{"fruit":"🍎","value":4},{"fruit":"🍎","value":9},{"fruit":"🍎","value":1},{"fruit":"🍎","value":2},{"fruit":"🍎","value":7},{"fruit":"🍎","value":3},{"fruit":"🍎","value":3}],[{"fruit":"🍎","value":9},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":4},{"fruit":"🍎","value":6},{"fruit":"🍎","value":3},{"fruit":"🍎","value":3},{"fruit":"🍎","value":6},{"fruit":"🍎","value":5}]]', '2025-06-27 19:02:13.432646') RETURNING "id" /*action='refresh_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='refresh_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
Completed 200 OK in 42ms (Views: 0.7ms | ActiveRecord: 1.0ms (3 queries, 0 cached) | GC: 0.7ms)


Started POST "/game/player_finished/GL1HHQ?player_id=38" for 127.0.0.1 at 2025-06-27 15:02:20 -0400
Processing by GameController#player_finished as */*
  Parameters: {"player_id"=>"38", "room_code"=>"GL1HHQ", "game"=>{}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:189:in `player_finished'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 AND "players"."id" = 38 LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:190:in `player_finished'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 38 AND "player_game_states"."room_code" = 'GL1HHQ' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:197:in `player_finished'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "updated_at" = '2025-06-27 19:02:20.289081', "finished" = 1, "final_score" = 220 WHERE "player_game_states"."id" = 11 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:197:in `player_finished'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:197:in `player_finished'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:200:in `all?'
  [1m[36mPlayerGameState Load (0.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 37 AND "player_game_states"."room_code" = 'GL1HHQ' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 30ms (Views: 0.1ms | ActiveRecord: 0.7ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:02:24 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 42ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:02:27 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 35ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:02:30 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 37ms (Views: 0.1ms | ActiveRecord: 0.1ms (4 queries, 2 cached) | GC: 1.1ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:02:33 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 40ms (Views: 0.1ms | ActiveRecord: 0.3ms (4 queries, 2 cached) | GC: 1.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:02:36 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 39ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.4ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:02:39 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 40ms (Views: 0.1ms | ActiveRecord: 0.3ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:02:42 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 38ms (Views: 0.1ms | ActiveRecord: 0.3ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:02:45 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 32ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:02:48 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 34ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:02:51 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 36ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:02:54 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 38ms (Views: 0.1ms | ActiveRecord: 0.3ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:02:57 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 37ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:03:00 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 35ms (Views: 0.1ms | ActiveRecord: 0.4ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:03:03 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 40ms (Views: 0.2ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 1.5ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:03:06 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 38ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.6ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:03:09 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 29ms (Views: 0.1ms | ActiveRecord: 0.3ms (4 queries, 2 cached) | GC: 0.3ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:03:12 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 34ms (Views: 0.1ms | ActiveRecord: 0.3ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:03:15 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 33ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:03:18 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 30ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.2ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:03:21 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 30ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:03:24 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 24ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:03:27 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 23ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:03:30 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 22ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:03:33 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 24ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:03:36 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 29ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 1.4ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:03:39 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 23ms (Views: 0.1ms | ActiveRecord: 0.1ms (4 queries, 2 cached) | GC: 0.5ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:03:42 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 41ms (Views: 0.1ms | ActiveRecord: 0.3ms (4 queries, 2 cached) | GC: 0.4ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:03:45 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 22ms (Views: 0.1ms | ActiveRecord: 0.3ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:03:48 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 24ms (Views: 0.1ms | ActiveRecord: 0.1ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:03:51 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 34ms (Views: 0.1ms | ActiveRecord: 0.3ms (4 queries, 2 cached) | GC: 0.2ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:03:54 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 32ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:03:57 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 25ms (Views: 0.1ms | ActiveRecord: 0.3ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:04:00 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 23ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:04:03 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 25ms (Views: 0.1ms | ActiveRecord: 0.3ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:04:06 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 21ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:04:09 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 33ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 2.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:04:12 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 33ms (Views: 0.2ms | ActiveRecord: 1.0ms (4 queries, 2 cached) | GC: 0.4ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:04:15 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 34ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:04:18 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 31ms (Views: 0.1ms | ActiveRecord: 0.3ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:04:21 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 21ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


  [1m[36mCACHE ActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:04:24 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate

You have 1 pending migration:

db/migrate/20250627190421_add_needs_new_board_to_player_game_states.rb


):
  
activerecord (8.0.2) lib/active_record/migration.rb:743:in `check_pending_migrations'
activerecord (8.0.2) lib/active_record/migration.rb:660:in `block (2 levels) in call'
activesupport (8.0.2) lib/active_support/file_update_checker.rb:85:in `execute'
activesupport (8.0.2) lib/active_support/file_update_checker.rb:95:in `execute_if_updated'
activerecord (8.0.2) lib/active_record/migration.rb:667:in `block in call'
activerecord (8.0.2) lib/active_record/migration.rb:657:in `synchronize'
activerecord (8.0.2) lib/active_record/migration.rb:657:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (8.0.2) lib/active_support/callbacks.rb:100:in `run_callbacks'
actionpack (8.0.2) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.2) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.2) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.16) lib/rack/method_override.rb:28:in `call'
rack (3.1.16) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.16) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
railties (8.0.2) lib/rails/engine.rb:535:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Migrating to AddNeedsNewBoardToPlayerGameStates (20250627190421)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='FruitBox'*/[0m
  [1m[35m (7.4ms)[0m  [1m[35mALTER TABLE "player_game_states" ADD "needs_new_board" boolean /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250627190421') RETURNING "version" /*application='FruitBox'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:04:27 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 40ms (Views: 0.4ms | ActiveRecord: 1.3ms (4 queries, 2 cached) | GC: 0.6ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:04:30 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 21ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:04:33 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 26ms (Views: 0.1ms | ActiveRecord: 0.9ms (4 queries, 2 cached) | GC: 0.4ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:04:36 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 28ms (Views: 0.2ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:04:39 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 25ms (Views: 0.2ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.1ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:04:42 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 28ms (Views: 0.1ms | ActiveRecord: 0.4ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:04:45 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 33ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:04:48 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.4ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 39ms (Views: 0.1ms | ActiveRecord: 0.5ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:04:51 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 36ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:04:54 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 48ms (Views: 0.1ms | ActiveRecord: 0.4ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:04:57 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 36ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 3.4ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:05:00 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 31ms (Views: 0.1ms | ActiveRecord: 0.3ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:05:03 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 31ms (Views: 0.2ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:05:06 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 29ms (Views: 0.1ms | ActiveRecord: 0.4ms (4 queries, 2 cached) | GC: 0.3ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:05:09 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 35ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.3ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:05:12 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 25ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.2ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:05:15 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 19ms (Views: 0.1ms | ActiveRecord: 0.1ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:05:18 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 62ms (Views: 0.1ms | ActiveRecord: 1.5ms (4 queries, 2 cached) | GC: 0.7ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:05:21 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 23ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:05:24 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 27ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:05:27 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 25ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:05:30 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 43ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.4ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:05:33 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 33ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:05:36 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 32ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:05:39 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 25ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:05:42 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 37ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 2.7ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:05:45 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 35ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Writing application-0154a881.js.map
Writing application-32a23ca3.js
Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:05:54 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 56ms (Views: 0.1ms | ActiveRecord: 1.7ms (4 queries, 2 cached) | GC: 0.0ms)


Started POST "/game/player_finished/GL1HHQ?player_id=38" for 127.0.0.1 at 2025-06-27 15:05:56 -0400
Processing by GameController#player_finished as */*
  Parameters: {"player_id"=>"38", "room_code"=>"GL1HHQ", "game"=>{}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:189:in `player_finished'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 AND "players"."id" = 38 LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:190:in `player_finished'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 38 AND "player_game_states"."room_code" = 'GL1HHQ' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:200:in `all?'
  [1m[36mPlayerGameState Load (0.4ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 37 AND "player_game_states"."room_code" = 'GL1HHQ' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 55ms (Views: 0.1ms | ActiveRecord: 1.1ms (5 queries, 0 cached) | GC: 12.7ms)


Started GET "/game/status/GL1HHQ" for 127.0.0.1 at 2025-06-27 15:05:57 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"GL1HHQ"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test rom
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 32ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:05:58 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 23 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 23 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 6.8ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | GC: 0.7ms)
Completed 200 OK in 52ms (Views: 10.0ms | ActiveRecord: 0.8ms (7 queries, 2 cached) | GC: 2.3ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:05:58 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.4ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 23 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 23 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 3.5ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | GC: 0.5ms)
Completed 200 OK in 38ms (Views: 3.9ms | ActiveRecord: 0.6ms (7 queries, 2 cached) | GC: 1.2ms)


Started POST "/game/player_finished/GL1HHQ?player_id=37" for 127.0.0.1 at 2025-06-27 15:06:02 -0400
Processing by GameController#player_finished as */*
  Parameters: {"player_id"=>"37", "room_code"=>"GL1HHQ", "game"=>{}}
  [1m[36mGameRoom Load (0.4ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'GL1HHQ' LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:189:in `player_finished'
  [1m[36mPlayer Load (0.2ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 AND "players"."id" = 37 LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:190:in `player_finished'
  [1m[36mPlayerGameState Load (0.5ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 37 AND "player_game_states"."room_code" = 'GL1HHQ' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:197:in `player_finished'
  [1m[36mPlayerGameState Update (2.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "updated_at" = '2025-06-27 19:06:03.026449', "finished" = 1, "final_score" = 0 WHERE "player_game_states"."id" = 10 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:197:in `player_finished'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:197:in `player_finished'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:200:in `all?'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 37 AND "player_game_states"."room_code" = 'GL1HHQ' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mPlayerGameState Load (3.5ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 38 AND "player_game_states"."room_code" = 'GL1HHQ' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:207:in `player_finished'
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test rom' AND "game_rooms"."id" != 23 LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:207:in `player_finished'
  [1m[36mGameRoom Update (0.2ms)[0m  [1m[33mUPDATE "game_rooms" SET "status" = 'finished', "updated_at" = '2025-06-27 19:06:03.046292' WHERE "game_rooms"."id" = 23 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:207:in `player_finished'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:207:in `player_finished'
Completed 200 OK in 112ms (Views: 0.3ms | ActiveRecord: 8.7ms (9 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:06:05 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 23 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 23 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 3.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 0.0ms)
Completed 200 OK in 40ms (Views: 3.5ms | ActiveRecord: 0.3ms (7 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:06:05 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 23 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 23 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 14.7ms | GC: 10.9ms)
  Rendered layout layouts/application.html.erb (Duration: 15.0ms | GC: 10.9ms)
Completed 200 OK in 41ms (Views: 15.2ms | ActiveRecord: 0.2ms (7 queries, 2 cached) | GC: 10.9ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 15:06:05 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/create_room" for 127.0.0.1 at 2025-06-27 15:06:12 -0400
Processing by GameController#create_room as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "game_room"=>{"name"=>"test room", "max_players"=>"2"}, "commit"=>"Create Room"}
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.1ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 23 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.1ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 23 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' LIMIT 1 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Create (0.1ms)[0m  [1m[32mINSERT INTO "game_rooms" ("name", "room_code", "max_players", "status", "created_at", "updated_at") VALUES ('test room', '57JTJD', 2, NULL, '2025-06-27 19:06:13.049247', '2025-06-27 19:06:13.049247') RETURNING "id" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
Redirected to http://127.0.0.1:3000/game/join/57JTJD
Completed 302 Found in 43ms (ActiveRecord: 1.6ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/join/57JTJD" for 127.0.0.1 at 2025-06-27 15:06:13 -0400
Processing by GameController#join_room as TURBO_STREAM
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:12:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.0ms)
Completed 200 OK in 27ms (Views: 3.2ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)


Started POST "/game/join/57JTJD" for 127.0.0.1 at 2025-06-27 15:06:15 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris"}, "commit"=>"Join Game", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 0
Room max players: 2
Player params: {"name"=>"chris"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:12:in `full?'
  [1m[36mPlayer Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 24 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 24 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 24 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (0.9ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (24, 'chris', 0, '2025-06-27 19:06:15.395320', '2025-06-27 19:06:15.395320') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 39
Redirected to http://127.0.0.1:3000/game/waiting/57JTJD/39
Completed 302 Found in 53ms (ActiveRecord: 1.3ms (7 queries, 3 cached) | GC: 12.2ms)


Started GET "/game/waiting/57JTJD/39" for 127.0.0.1 at 2025-06-27 15:06:15 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"57JTJD", "player_id"=>"39"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 2.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 0.4ms)
Completed 200 OK in 27ms (Views: 3.3ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 0.8ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:06:20 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.1ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 23 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.1ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 23 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 24 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.1ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 24 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23[0m
  ↳ app/views/game/multiplayer.html.erb:21
  [1m[36mCACHE Player Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 7.8ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | GC: 0.5ms)
Completed 200 OK in 46ms (Views: 8.2ms | ActiveRecord: 0.9ms (11 queries, 3 cached) | GC: 0.5ms)


Started GET "/game/join/57JTJD?room_code=57JTJD&commit=Join+Room" for 127.0.0.1 at 2025-06-27 15:06:24 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"57JTJD", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:12:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 5.9ms | GC: 2.6ms)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | GC: 3.1ms)
Completed 200 OK in 39ms (Views: 6.7ms | ActiveRecord: 0.3ms (4 queries, 1 cached) | GC: 3.4ms)


Started POST "/game/join/57JTJD" for 127.0.0.1 at 2025-06-27 15:06:27 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris2"}, "commit"=>"Join Game", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 1
Room max players: 2
Player params: {"name"=>"chris2"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:12:in `full?'
  [1m[36mPlayer Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 24 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 24 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 24 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (2.5ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (24, 'chris2', 0, '2025-06-27 19:06:27.269833', '2025-06-27 19:06:27.269833') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 40
Redirected to http://127.0.0.1:3000/game/waiting/57JTJD/40
Completed 302 Found in 52ms (ActiveRecord: 3.1ms (7 queries, 3 cached) | GC: 15.6ms)


Started GET "/game/waiting/57JTJD/40" for 127.0.0.1 at 2025-06-27 15:06:27 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"57JTJD", "player_id"=>"40"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (1.3ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 7.6ms | GC: 3.5ms)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | GC: 4.0ms)
Completed 200 OK in 36ms (Views: 7.6ms | ActiveRecord: 1.7ms (5 queries, 1 cached) | GC: 6.6ms)


Started GET "/game/waiting/57JTJD/39" for 127.0.0.1 at 2025-06-27 15:06:30 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"57JTJD", "player_id"=>"39"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 2.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | GC: 1.3ms)
Completed 200 OK in 37ms (Views: 4.7ms | ActiveRecord: 0.4ms (5 queries, 1 cached) | GC: 1.3ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 15:06:30 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:06:30 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 56ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 2.5ms)


Started GET "/game/room/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:06:31 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 ORDER BY "players"."id" ASC LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:82
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:105
  Rendered game/room.html.erb within layouts/application (Duration: 4.1ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | GC: 0.7ms)
Completed 200 OK in 30ms (Views: 4.3ms | ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 0.7ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 15:06:31 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/start/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:06:32 -0400
Processing by GameController#start_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:74:in `start_game'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' AND "game_rooms"."id" != 24 LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Update (0.1ms)[0m  [1m[33mUPDATE "game_rooms" SET "status" = 'playing', "updated_at" = '2025-06-27 19:06:32.423130' WHERE "game_rooms"."id" = 24 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
Redirected to http://127.0.0.1:3000/game/room/57JTJD?player_id=39
Completed 302 Found in 34ms (ActiveRecord: 1.2ms (4 queries, 0 cached) | GC: 2.1ms)


Started GET "/game/room/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:06:32 -0400
Processing by GameController#room as TURBO_STREAM
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:105
  Rendered game/room.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 27ms (Views: 2.6ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:06:32 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mGameBoard Create (0.5ms)[0m  [1m[32mINSERT INTO "game_boards" ("room_code", "board_state", "created_at") VALUES ('57JTJD', '[[{"fruit":"🍎","value":5},{"fruit":"🍎","value":4},{"fruit":"🍎","value":4},{"fruit":"🍎","value":4},{"fruit":"🍎","value":4},{"fruit":"🍎","value":9},{"fruit":"🍎","value":7},{"fruit":"🍎","value":9},{"fruit":"🍎","value":4},{"fruit":"🍎","value":4}],[{"fruit":"🍎","value":7},{"fruit":"🍎","value":6},{"fruit":"🍎","value":3},{"fruit":"🍎","value":9},{"fruit":"🍎","value":1},{"fruit":"🍎","value":2},{"fruit":"🍎","value":4},{"fruit":"🍎","value":7},{"fruit":"🍎","value":3},{"fruit":"🍎","value":9}],[{"fruit":"🍎","value":3},{"fruit":"🍎","value":4},{"fruit":"🍎","value":4},{"fruit":"🍎","value":7},{"fruit":"🍎","value":8},{"fruit":"🍎","value":4},{"fruit":"🍎","value":7},{"fruit":"🍎","value":4},{"fruit":"🍎","value":5},{"fruit":"🍎","value":2}],[{"fruit":"🍎","value":8},{"fruit":"🍎","value":5},{"fruit":"🍎","value":4},{"fruit":"🍎","value":4},{"fruit":"🍎","value":8},{"fruit":"🍎","value":9},{"fruit":"🍎","value":1},{"fruit":"🍎","value":2},{"fruit":"🍎","value":4},{"fruit":"🍎","value":5}],[{"fruit":"🍎","value":2},{"fruit":"🍎","value":5},{"fruit":"🍎","value":9},{"fruit":"🍎","value":4},{"fruit":"🍎","value":8},{"fruit":"🍎","value":4},{"fruit":"🍎","value":5},{"fruit":"🍎","value":8},{"fruit":"🍎","value":4},{"fruit":"🍎","value":8}],[{"fruit":"🍎","value":2},{"fruit":"🍎","value":1},{"fruit":"🍎","value":8},{"fruit":"🍎","value":9},{"fruit":"🍎","value":4},{"fruit":"🍎","value":1},{"fruit":"🍎","value":8},{"fruit":"🍎","value":5},{"fruit":"🍎","value":4},{"fruit":"🍎","value":1}],[{"fruit":"🍎","value":8},{"fruit":"🍎","value":2},{"fruit":"🍎","value":4},{"fruit":"🍎","value":9},{"fruit":"🍎","value":6},{"fruit":"🍎","value":7},{"fruit":"🍎","value":3},{"fruit":"🍎","value":7},{"fruit":"🍎","value":9},{"fruit":"🍎","value":1}],[{"fruit":"🍎","value":9},{"fruit":"🍎","value":8},{"fruit":"🍎","value":8},{"fruit":"🍎","value":4},{"fruit":"🍎","value":1},{"fruit":"🍎","value":3},{"fruit":"🍎","value":2},{"fruit":"🍎","value":6},{"fruit":"🍎","value":3},{"fruit":"🍎","value":6}],[{"fruit":"🍎","value":2},{"fruit":"🍎","value":5},{"fruit":"🍎","value":8},{"fruit":"🍎","value":4},{"fruit":"🍎","value":8},{"fruit":"🍎","value":6},{"fruit":"🍎","value":2},{"fruit":"🍎","value":2},{"fruit":"🍎","value":5},{"fruit":"🍎","value":1}],[{"fruit":"🍎","value":6},{"fruit":"🍎","value":1},{"fruit":"🍎","value":4},{"fruit":"🍎","value":7},{"fruit":"🍎","value":4},{"fruit":"🍎","value":7},{"fruit":"🍎","value":9},{"fruit":"🍎","value":5},{"fruit":"🍎","value":6},{"fruit":"🍎","value":9}]]', '2025-06-27 19:06:32.521606') RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayer Load (1.3ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayerGameState Create (0.2ms)[0m  [1m[32mINSERT INTO "player_game_states" ("player_id", "room_code", "board_state", "score", "time_remaining", "created_at", "updated_at", "finished", "final_score", "needs_new_board") VALUES (39, '57JTJD', '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}]]', 0, 90, '2025-06-27 19:06:32.530036', '2025-06-27 19:06:32.530036', NULL, NULL, 0) RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
Completed 200 OK in 49ms (Views: 0.5ms | ActiveRecord: 3.0ms (7 queries, 0 cached) | GC: 2.7ms)


Started GET "/game/waiting/57JTJD/40" for 127.0.0.1 at 2025-06-27 15:06:34 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"57JTJD", "player_id"=>"40"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | GC: 0.0ms)
Completed 200 OK in 35ms (Views: 3.0ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:06:34 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 43ms (Views: 0.1ms | ActiveRecord: 0.5ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/room/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:06:34 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"40", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.5ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:105
  Rendered game/room.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 30ms (Views: 1.9ms | ActiveRecord: 0.6ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:06:34 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"40", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.2ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.2ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayer Load (1.3ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."id" = 40 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayerGameState Create (0.3ms)[0m  [1m[32mINSERT INTO "player_game_states" ("player_id", "room_code", "board_state", "score", "time_remaining", "created_at", "updated_at", "finished", "final_score", "needs_new_board") VALUES (40, '57JTJD', '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}]]', 0, 90, '2025-06-27 19:06:34.776124', '2025-06-27 19:06:34.776124', NULL, NULL, 0) RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
Completed 200 OK in 52ms (Views: 0.2ms | ActiveRecord: 2.3ms (6 queries, 0 cached) | GC: 3.2ms)


Started POST "/game/collect_apples/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:06:42 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 1], [1, 1]], "player_id"=>"39", "room_code"=>"57JTJD", "game"=>{"positions"=>[[0, 1], [1, 1]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (1.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}]]', "score" = 10, "updated_at" = '2025-06-27 19:06:42.451428' WHERE "player_game_states"."id" = 12 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 41ms (Views: 0.2ms | ActiveRecord: 2.3ms (4 queries, 0 cached) | GC: 0.6ms)


Started POST "/game/collect_apples/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:06:42 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[1, 0], [2, 0]], "player_id"=>"39", "room_code"=>"57JTJD", "game"=>{"positions"=>[[1, 0], [2, 0]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}]]', "score" = 20, "updated_at" = '2025-06-27 19:06:43.011307' WHERE "player_game_states"."id" = 12 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 36ms (Views: 0.2ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 1.2ms)


Started POST "/game/collect_apples/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:06:44 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[3, 0], [4, 0]], "player_id"=>"39", "room_code"=>"57JTJD", "game"=>{"positions"=>[[3, 0], [4, 0]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.8ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}]]', "score" = 30, "updated_at" = '2025-06-27 19:06:44.107586' WHERE "player_game_states"."id" = 12 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 37ms (Views: 0.2ms | ActiveRecord: 1.2ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:06:44 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[5, 0], [6, 0]], "player_id"=>"39", "room_code"=>"57JTJD", "game"=>{"positions"=>[[5, 0], [6, 0]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.7ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}]]', "score" = 40, "updated_at" = '2025-06-27 19:06:44.767400' WHERE "player_game_states"."id" = 12 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 3.0ms)


Started POST "/game/collect_apples/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:06:45 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[6, 1], [7, 1]], "player_id"=>"39", "room_code"=>"57JTJD", "game"=>{"positions"=>[[6, 1], [7, 1]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (1.1ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}]]', "score" = 50, "updated_at" = '2025-06-27 19:06:45.879250' WHERE "player_game_states"."id" = 12 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 41ms (Views: 0.3ms | ActiveRecord: 1.6ms (4 queries, 0 cached) | GC: 0.6ms)


Started POST "/game/collect_apples/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:06:47 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[3, 1], [4, 1]], "player_id"=>"39", "room_code"=>"57JTJD", "game"=>{"positions"=>[[3, 1], [4, 1]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.7ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (1.1ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}]]', "score" = 60, "updated_at" = '2025-06-27 19:06:47.362434' WHERE "player_game_states"."id" = 12 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 39ms (Views: 0.2ms | ActiveRecord: 2.1ms (4 queries, 0 cached) | GC: 0.9ms)


Started POST "/game/collect_apples/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:06:49 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[5, 1], [7, 0]], "player_id"=>"39", "room_code"=>"57JTJD", "game"=>{"positions"=>[[5, 1], [7, 0]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}]]', "score" = 70, "updated_at" = '2025-06-27 19:06:49.808434' WHERE "player_game_states"."id" = 12 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 39ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:06:52 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[2, 1], [8, 1], [9, 1]], "player_id"=>"39", "room_code"=>"57JTJD", "game"=>{"positions"=>[[2, 1], [8, 1], [9, 1]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.3ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.3ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.7ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}]]', "score" = 80, "updated_at" = '2025-06-27 19:06:52.815498' WHERE "player_game_states"."id" = 12 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 50ms (Views: 0.1ms | ActiveRecord: 1.5ms (4 queries, 0 cached) | GC: 0.5ms)


Started POST "/game/collect_apples/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:06:54 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[1, 3], [1, 4]], "player_id"=>"39", "room_code"=>"57JTJD", "game"=>{"positions"=>[[1, 3], [1, 4]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}]]', "score" = 90, "updated_at" = '2025-06-27 19:06:54.174924' WHERE "player_game_states"."id" = 12 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 28ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.4ms)


Started POST "/game/collect_apples/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:06:55 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[3, 5], [3, 6]], "player_id"=>"39", "room_code"=>"57JTJD", "game"=>{"positions"=>[[3, 5], [3, 6]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}]]', "score" = 100, "updated_at" = '2025-06-27 19:06:55.110804' WHERE "player_game_states"."id" = 12 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 40ms (Views: 0.2ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.4ms)


Started POST "/game/collect_apples/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:06:56 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[1, 7], [1, 8]], "player_id"=>"39", "room_code"=>"57JTJD", "game"=>{"positions"=>[[1, 7], [1, 8]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}]]', "score" = 110, "updated_at" = '2025-06-27 19:06:56.108372' WHERE "player_game_states"."id" = 12 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:06:57 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[1, 5], [2, 5], [4, 5]], "player_id"=>"39", "room_code"=>"57JTJD", "game"=>{"positions"=>[[1, 5], [2, 5], [4, 5]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}]]', "score" = 120, "updated_at" = '2025-06-27 19:06:57.613447' WHERE "player_game_states"."id" = 12 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 35ms (Views: 0.2ms | ActiveRecord: 0.7ms (4 queries, 0 cached) | GC: 0.9ms)


Started POST "/game/collect_apples/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:06:58 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[5, 4], [6, 4]], "player_id"=>"39", "room_code"=>"57JTJD", "game"=>{"positions"=>[[5, 4], [6, 4]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}]]', "score" = 130, "updated_at" = '2025-06-27 19:06:58.945049' WHERE "player_game_states"."id" = 12 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 34ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.5ms)


Started POST "/game/collect_apples/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:07:00 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[3, 4], [3, 7]], "player_id"=>"39", "room_code"=>"57JTJD", "game"=>{"positions"=>[[3, 4], [3, 7]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}]]', "score" = 140, "updated_at" = '2025-06-27 19:07:00.164484' WHERE "player_game_states"."id" = 12 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 30ms (Views: 0.2ms | ActiveRecord: 0.7ms (4 queries, 0 cached) | GC: 0.3ms)


Started POST "/game/collect_apples/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:07:01 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[5, 3], [5, 5]], "player_id"=>"39", "room_code"=>"57JTJD", "game"=>{"positions"=>[[5, 3], [5, 5]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.2ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (1.1ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}]]', "score" = 150, "updated_at" = '2025-06-27 19:07:01.398714' WHERE "player_game_states"."id" = 12 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 44ms (Views: 0.2ms | ActiveRecord: 1.7ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:07:03 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[6, 5], [7, 5]], "player_id"=>"39", "room_code"=>"57JTJD", "game"=>{"positions"=>[[6, 5], [7, 5]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}]]', "score" = 160, "updated_at" = '2025-06-27 19:07:03.056028' WHERE "player_game_states"."id" = 12 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 40ms (Views: 0.4ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.5ms)


Started POST "/game/collect_apples/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:07:05 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[6, 6], [6, 7]], "player_id"=>"39", "room_code"=>"57JTJD", "game"=>{"positions"=>[[6, 6], [6, 7]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}]]', "score" = 170, "updated_at" = '2025-06-27 19:07:05.072441' WHERE "player_game_states"."id" = 12 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 40ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.5ms)


Started POST "/game/collect_apples/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:07:06 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[5, 6], [7, 6]], "player_id"=>"39", "room_code"=>"57JTJD", "game"=>{"positions"=>[[5, 6], [7, 6]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}]]', "score" = 180, "updated_at" = '2025-06-27 19:07:06.351816' WHERE "player_game_states"."id" = 12 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.4ms)


Started POST "/game/collect_apples/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:07:07 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[8, 0], [8, 2]], "player_id"=>"39", "room_code"=>"57JTJD", "game"=>{"positions"=>[[8, 0], [8, 2]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}]]', "score" = 190, "updated_at" = '2025-06-27 19:07:07.766854' WHERE "player_game_states"."id" = 12 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 41ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:07:08 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[9, 0], [9, 2]], "player_id"=>"39", "room_code"=>"57JTJD", "game"=>{"positions"=>[[9, 0], [9, 2]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}]]', "score" = 200, "updated_at" = '2025-06-27 19:07:08.553060' WHERE "player_game_states"."id" = 12 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 37ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.5ms)


Started POST "/game/collect_apples/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:07:10 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[5, 7], [5, 8], [5, 9]], "player_id"=>"39", "room_code"=>"57JTJD", "game"=>{"positions"=>[[5, 7], [5, 8], [5, 9]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}]]', "score" = 210, "updated_at" = '2025-06-27 19:07:11.012148' WHERE "player_game_states"."id" = 12 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 39ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.5ms)


Started POST "/game/collect_apples/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:07:12 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[6, 8], [6, 9]], "player_id"=>"39", "room_code"=>"57JTJD", "game"=>{"positions"=>[[6, 8], [6, 9]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}]]', "score" = 220, "updated_at" = '2025-06-27 19:07:12.176614' WHERE "player_game_states"."id" = 12 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 42ms (Views: 0.6ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.4ms)


Started POST "/game/collect_apples/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:07:13 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[8, 9], [9, 9]], "player_id"=>"39", "room_code"=>"57JTJD", "game"=>{"positions"=>[[8, 9], [9, 9]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":true}]]', "score" = 230, "updated_at" = '2025-06-27 19:07:14.029411' WHERE "player_game_states"."id" = 12 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:07:16 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[7, 7], [8, 6], [8, 7]], "player_id"=>"39", "room_code"=>"57JTJD", "game"=>{"positions"=>[[7, 7], [8, 6], [8, 7]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":true}]]', "score" = 240, "updated_at" = '2025-06-27 19:07:16.871378' WHERE "player_game_states"."id" = 12 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 27ms (Views: 0.2ms | ActiveRecord: 0.6ms (4 queries, 0 cached) | GC: 0.3ms)


Started POST "/game/collect_apples/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:07:18 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[7, 4], [7, 8], [7, 9]], "player_id"=>"39", "room_code"=>"57JTJD", "game"=>{"positions"=>[[7, 4], [7, 8], [7, 9]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":true}]]', "score" = 250, "updated_at" = '2025-06-27 19:07:18.493220' WHERE "player_game_states"."id" = 12 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 43ms (Views: 0.2ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.6ms)


Started POST "/game/request_new_board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:07:18 -0400
Processing by GameController#request_new_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD", "game"=>{}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:221:in `request_new_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:222:in `request_new_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:260:in `request_new_board'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "updated_at" = '2025-06-27 19:07:18.547593', "needs_new_board" = 1 WHERE "player_game_states"."id" = 12 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:260:in `request_new_board'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:260:in `request_new_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" != 39 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:263:in `all?'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 36ms (Views: 0.1ms | ActiveRecord: 1.0ms (6 queries, 0 cached) | GC: 0.4ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:07:20 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:07:22 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:07:24 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.2ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.2ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 30ms (Views: 0.3ms | ActiveRecord: 0.6ms (4 queries, 0 cached) | GC: 1.5ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:07:26 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 39ms (Views: 0.5ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.6ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:07:28 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 39ms (Views: 0.2ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.4ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:07:30 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 37ms (Views: 0.2ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.3ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:07:32 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 40ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:07:34 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 36ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:07:36 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:07:38 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 42ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:07:40 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:07:42 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 39ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:07:44 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 40ms (Views: 0.2ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:07:46 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 37ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:07:48 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 43ms (Views: 1.1ms | ActiveRecord: 0.5ms (4 queries, 0 cached) | GC: 0.4ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:07:50 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 37ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:07:52 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 35ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:07:54 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 40ms (Views: 0.2ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 1.3ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:07:56 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 41ms (Views: 0.2ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.7ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:07:58 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.6ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 37ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.4ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:08:00 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.2ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:08:02 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 33ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.5ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:08:04 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:08:06 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:08:08 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 39ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 1.6ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:08:10 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 29ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.6ms)


Started POST "/game/player_finished/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:08:12 -0400
Processing by GameController#player_finished as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD", "game"=>{}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:189:in `player_finished'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:190:in `player_finished'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:197:in `player_finished'
  [1m[36mPlayerGameState Update (0.7ms)[0m  [1m[33mUPDATE "player_game_states" SET "updated_at" = '2025-06-27 19:08:12.491885', "finished" = 1, "final_score" = 250 WHERE "player_game_states"."id" = 12 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:197:in `player_finished'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:197:in `player_finished'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:200:in `all?'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mPlayerGameState Load (0.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 29ms (Views: 0.1ms | ActiveRecord: 1.7ms (7 queries, 0 cached) | GC: 0.5ms)


Writing application-285bd7fc.js.map
Writing application-d5024006.js
Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:10:39 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 69ms (Views: 0.2ms | ActiveRecord: 1.7ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:10:40 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 39ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.7ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:10:42 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 34ms (Views: 0.1ms | ActiveRecord: 0.3ms (4 queries, 2 cached) | GC: 0.9ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:10:42 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 29ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.3ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:10:44 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 41ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.6ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:10:45 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 26ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.3ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:10:46 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 41ms (Views: 0.2ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:10:48 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 36ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:10:48 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
Started POST "/game/board/57JTJD/refresh?player_id=39" for 127.0.0.1 at 2025-06-27 15:10:48 -0400
Processing by GameController#refresh_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD", "game"=>{}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 50ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='refresh_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:127:in `refresh_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='refresh_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:128:in `refresh_board'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='refresh_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mGameBoard Create (0.6ms)[0m  [1m[32mINSERT INTO "game_boards" ("room_code", "board_state", "created_at") VALUES ('57JTJD_player_39', '[[{"fruit":"🍎","value":4},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":3},{"fruit":"🍎","value":1},{"fruit":"🍎","value":3},{"fruit":"🍎","value":3},{"fruit":"🍎","value":3},{"fruit":"🍎","value":1},{"fruit":"🍎","value":8}],[{"fruit":"🍎","value":7},{"fruit":"🍎","value":6},{"fruit":"🍎","value":2},{"fruit":"🍎","value":9},{"fruit":"🍎","value":4},{"fruit":"🍎","value":1},{"fruit":"🍎","value":8},{"fruit":"🍎","value":8},{"fruit":"🍎","value":1},{"fruit":"🍎","value":9}],[{"fruit":"🍎","value":9},{"fruit":"🍎","value":8},{"fruit":"🍎","value":9},{"fruit":"🍎","value":9},{"fruit":"🍎","value":4},{"fruit":"🍎","value":2},{"fruit":"🍎","value":2},{"fruit":"🍎","value":1},{"fruit":"🍎","value":5},{"fruit":"🍎","value":2}],[{"fruit":"🍎","value":4},{"fruit":"🍎","value":8},{"fruit":"🍎","value":4},{"fruit":"🍎","value":4},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":1},{"fruit":"🍎","value":9},{"fruit":"🍎","value":5},{"fruit":"🍎","value":2}],[{"fruit":"🍎","value":5},{"fruit":"🍎","value":1},{"fruit":"🍎","value":6},{"fruit":"🍎","value":9},{"fruit":"🍎","value":5},{"fruit":"🍎","value":5},{"fruit":"🍎","value":1},{"fruit":"🍎","value":2},{"fruit":"🍎","value":8},{"fruit":"🍎","value":6}],[{"fruit":"🍎","value":1},{"fruit":"🍎","value":7},{"fruit":"🍎","value":3},{"fruit":"🍎","value":2},{"fruit":"🍎","value":4},{"fruit":"🍎","value":4},{"fruit":"🍎","value":2},{"fruit":"🍎","value":5},{"fruit":"🍎","value":3},{"fruit":"🍎","value":4}],[{"fruit":"🍎","value":6},{"fruit":"🍎","value":5},{"fruit":"🍎","value":6},{"fruit":"🍎","value":9},{"fruit":"🍎","value":3},{"fruit":"🍎","value":8},{"fruit":"🍎","value":9},{"fruit":"🍎","value":7},{"fruit":"🍎","value":8},{"fruit":"🍎","value":9}],[{"fruit":"🍎","value":6},{"fruit":"🍎","value":5},{"fruit":"🍎","value":3},{"fruit":"🍎","value":6},{"fruit":"🍎","value":2},{"fruit":"🍎","value":6},{"fruit":"🍎","value":5},{"fruit":"🍎","value":4},{"fruit":"🍎","value":3},{"fruit":"🍎","value":7}],[{"fruit":"🍎","value":5},{"fruit":"🍎","value":6},{"fruit":"🍎","value":4},{"fruit":"🍎","value":7},{"fruit":"🍎","value":9},{"fruit":"🍎","value":4},{"fruit":"🍎","value":3},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":7}],[{"fruit":"🍎","value":6},{"fruit":"🍎","value":5},{"fruit":"🍎","value":9},{"fruit":"🍎","value":9},{"fruit":"🍎","value":7},{"fruit":"🍎","value":1},{"fruit":"🍎","value":3},{"fruit":"🍎","value":8},{"fruit":"🍎","value":5},{"fruit":"🍎","value":5}]]', '2025-06-27 19:10:48.641725') RETURNING "id" /*action='refresh_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='refresh_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
Completed 200 OK in 41ms (Views: 0.2ms | ActiveRecord: 1.2ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:10:50 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 28ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/request_new_board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:10:50 -0400
Processing by GameController#request_new_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD", "game"=>{}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:221:in `request_new_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:222:in `request_new_board'
  [1m[36mPlayerGameState Load (0.2ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mGameBoard Load (0.0ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' AND (created_at > '2025-06-27 19:06:32.521606') ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:235:in `request_new_board'
Completed 200 OK in 34ms (Views: 0.1ms | ActiveRecord: 0.5ms (5 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:10:51 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 35ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:10:52 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 36ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.4ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:10:54 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 40ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.4ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:10:54 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.5ms)


Started POST "/game/board/57JTJD/refresh?player_id=39" for 127.0.0.1 at 2025-06-27 15:10:55 -0400
Processing by GameController#refresh_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD", "game"=>{}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='refresh_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:127:in `refresh_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='refresh_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:128:in `refresh_board'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='refresh_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mGameBoard Create (0.5ms)[0m  [1m[32mINSERT INTO "game_boards" ("room_code", "board_state", "created_at") VALUES ('57JTJD_player_39', '[[{"fruit":"🍎","value":6},{"fruit":"🍎","value":5},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":8},{"fruit":"🍎","value":9},{"fruit":"🍎","value":2},{"fruit":"🍎","value":2},{"fruit":"🍎","value":9},{"fruit":"🍎","value":4}],[{"fruit":"🍎","value":1},{"fruit":"🍎","value":1},{"fruit":"🍎","value":3},{"fruit":"🍎","value":9},{"fruit":"🍎","value":7},{"fruit":"🍎","value":5},{"fruit":"🍎","value":8},{"fruit":"🍎","value":4},{"fruit":"🍎","value":7},{"fruit":"🍎","value":3}],[{"fruit":"🍎","value":4},{"fruit":"🍎","value":6},{"fruit":"🍎","value":2},{"fruit":"🍎","value":9},{"fruit":"🍎","value":9},{"fruit":"🍎","value":9},{"fruit":"🍎","value":6},{"fruit":"🍎","value":1},{"fruit":"🍎","value":5},{"fruit":"🍎","value":6}],[{"fruit":"🍎","value":4},{"fruit":"🍎","value":7},{"fruit":"🍎","value":7},{"fruit":"🍎","value":5},{"fruit":"🍎","value":2},{"fruit":"🍎","value":8},{"fruit":"🍎","value":8},{"fruit":"🍎","value":1},{"fruit":"🍎","value":2},{"fruit":"🍎","value":5}],[{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":4},{"fruit":"🍎","value":1},{"fruit":"🍎","value":8},{"fruit":"🍎","value":6},{"fruit":"🍎","value":5},{"fruit":"🍎","value":1},{"fruit":"🍎","value":1},{"fruit":"🍎","value":5}],[{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":1},{"fruit":"🍎","value":1},{"fruit":"🍎","value":7},{"fruit":"🍎","value":5},{"fruit":"🍎","value":3},{"fruit":"🍎","value":9},{"fruit":"🍎","value":9},{"fruit":"🍎","value":7}],[{"fruit":"🍎","value":3},{"fruit":"🍎","value":4},{"fruit":"🍎","value":3},{"fruit":"🍎","value":1},{"fruit":"🍎","value":4},{"fruit":"🍎","value":2},{"fruit":"🍎","value":6},{"fruit":"🍎","value":5},{"fruit":"🍎","value":6},{"fruit":"🍎","value":1}],[{"fruit":"🍎","value":3},{"fruit":"🍎","value":3},{"fruit":"🍎","value":2},{"fruit":"🍎","value":2},{"fruit":"🍎","value":5},{"fruit":"🍎","value":5},{"fruit":"🍎","value":6},{"fruit":"🍎","value":3},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6}],[{"fruit":"🍎","value":7},{"fruit":"🍎","value":6},{"fruit":"🍎","value":4},{"fruit":"🍎","value":1},{"fruit":"🍎","value":9},{"fruit":"🍎","value":5},{"fruit":"🍎","value":3},{"fruit":"🍎","value":5},{"fruit":"🍎","value":7},{"fruit":"🍎","value":8}],[{"fruit":"🍎","value":8},{"fruit":"🍎","value":5},{"fruit":"🍎","value":8},{"fruit":"🍎","value":7},{"fruit":"🍎","value":4},{"fruit":"🍎","value":9},{"fruit":"🍎","value":1},{"fruit":"🍎","value":7},{"fruit":"🍎","value":1},{"fruit":"🍎","value":5}]]', '2025-06-27 19:10:55.306588') RETURNING "id" /*action='refresh_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='refresh_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
Completed 200 OK in 34ms (Views: 0.1ms | ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:10:56 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 31ms (Views: 0.3ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/request_new_board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:10:56 -0400
Processing by GameController#request_new_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD", "game"=>{}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:221:in `request_new_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:222:in `request_new_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mGameBoard Load (0.0ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mGameBoard Load (0.0ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' AND (created_at > '2025-06-27 19:06:32.521606') ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:235:in `request_new_board'
Completed 200 OK in 35ms (Views: 0.1ms | ActiveRecord: 0.5ms (5 queries, 0 cached) | GC: 7.6ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:10:57 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 37ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:10:58 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 38ms (Views: 0.3ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:11:00 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 27ms (Views: 0.3ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:11:00 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 39ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.3ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:11:02 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 26ms (Views: 0.2ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.1ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:11:03 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 34ms (Views: 0.1ms | ActiveRecord: 0.3ms (4 queries, 2 cached) | GC: 0.5ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:11:04 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 35ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:11:06 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 38ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:11:06 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:11:08 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.3ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 51ms (Views: 0.2ms | ActiveRecord: 0.7ms (4 queries, 0 cached) | GC: 6.5ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:11:09 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 38ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.9ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:11:10 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 37ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.4ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:11:12 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 39ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:11:12 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 39ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.3ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:11:14 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 35ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.2ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:11:15 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 40ms (Views: 0.4ms | ActiveRecord: 0.3ms (4 queries, 2 cached) | GC: 0.4ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:11:16 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 34ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:11:18 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 34ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:11:18 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 39ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:11:20 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.2ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 46ms (Views: 0.2ms | ActiveRecord: 0.7ms (4 queries, 0 cached) | GC: 3.7ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:11:21 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.8ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 42ms (Views: 0.1ms | ActiveRecord: 0.9ms (4 queries, 2 cached) | GC: 0.7ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:11:22 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 34ms (Views: 0.2ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.5ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:11:25 -0400
Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:11:25 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  [1m[36mGameRoom Load (1.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
  ↳ app/controllers/game_controller.rb:103:in `get_board'
Game status check for room: test room
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
Room status: playing
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
  ↳ app/models/game_board.rb:6:in `current_board'
Players count: 2
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  ↳ app/controllers/game_controller.rb:93:in `game_status'
Completed 200 OK in 57ms (Views: 0.3ms | ActiveRecord: 1.3ms (4 queries, 0 cached) | GC: 0.3ms)


  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 57ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.3ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:11:27 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 31ms (Views: 0.2ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:11:27 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[1, 7], [1, 8]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[1, 7], [1, 8]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.7ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}]]', "score" = 10, "updated_at" = '2025-06-27 19:11:27.532622' WHERE "player_game_states"."id" = 13 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 31ms (Views: 0.2ms | ActiveRecord: 1.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:11:28 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[1, 3], [1, 4]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[1, 3], [1, 4]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.8ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}]]', "score" = 20, "updated_at" = '2025-06-27 19:11:28.348704' WHERE "player_game_states"."id" = 13 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 37ms (Views: 0.2ms | ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 1.9ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:11:28 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 25ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:11:29 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 1], [1, 1]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[0, 1], [1, 1]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.2ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}]]', "score" = 30, "updated_at" = '2025-06-27 19:11:29.240786' WHERE "player_game_states"."id" = 13 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 39ms (Views: 0.3ms | ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 0.6ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:11:29 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.2ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 45ms (Views: 0.3ms | ActiveRecord: 0.5ms (4 queries, 0 cached) | GC: 0.4ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:11:29 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[1, 0], [2, 0]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[1, 0], [2, 0]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.9ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}]]', "score" = 40, "updated_at" = '2025-06-27 19:11:29.796049' WHERE "player_game_states"."id" = 13 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 35ms (Views: 0.2ms | ActiveRecord: 1.3ms (4 queries, 0 cached) | GC: 0.6ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:11:31 -0400
Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:11:31 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  ↳ app/controllers/game_controller.rb:85:in `game_status'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
Game status check for room: test room
  ↳ app/controllers/game_controller.rb:104:in `get_board'
Room status: playing
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  ↳ app/controllers/game_controller.rb:89:in `game_status'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
Players count: 2
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
Completed 200 OK in 50ms (Views: 0.2ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.0ms)


  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 53ms (Views: 0.4ms | ActiveRecord: 0.3ms (4 queries, 2 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:11:31 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[3, 0], [4, 0]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[3, 0], [4, 0]]}}
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}]]', "score" = 50, "updated_at" = '2025-06-27 19:11:31.846976' WHERE "player_game_states"."id" = 13 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 33ms (Views: 0.4ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 1.6ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:11:33 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[5, 0], [6, 0]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[5, 0], [6, 0]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.8ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}]]', "score" = 60, "updated_at" = '2025-06-27 19:11:33.080341' WHERE "player_game_states"."id" = 13 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 28ms (Views: 0.2ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 1.0ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:11:33 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.2ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 30ms (Views: 0.3ms | ActiveRecord: 0.5ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:11:34 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 22ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:11:34 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[6, 1], [7, 1]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[6, 1], [7, 1]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}]]', "score" = 70, "updated_at" = '2025-06-27 19:11:34.778950' WHERE "player_game_states"."id" = 13 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 36ms (Views: 0.3ms | ActiveRecord: 1.6ms (4 queries, 0 cached) | GC: 0.6ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:11:35 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 41ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:11:36 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[3, 1], [4, 1]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[3, 1], [4, 1]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}]]', "score" = 80, "updated_at" = '2025-06-27 19:11:36.253872' WHERE "player_game_states"."id" = 13 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 34ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 1.6ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:11:37 -0400
Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:11:37 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
  ↳ app/controllers/game_controller.rb:103:in `get_board'
Game status check for room: test room
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
Room status: playing
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  [1m[36mGameBoard Load (0.2ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
  ↳ app/models/game_board.rb:6:in `current_board'
Players count: 2
  [1m[36mPlayerGameState Load (0.2ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  ↳ app/controllers/game_controller.rb:93:in `game_status'
Completed 200 OK in 60ms (Views: 0.2ms | ActiveRecord: 0.6ms (4 queries, 0 cached) | GC: 0.4ms)


  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 62ms (Views: 0.0ms | ActiveRecord: 0.3ms (4 queries, 2 cached) | GC: 0.4ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:11:38 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[2, 1], [5, 1], [8, 1]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[2, 1], [5, 1], [8, 1]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}]]', "score" = 90, "updated_at" = '2025-06-27 19:11:38.056745' WHERE "player_game_states"."id" = 13 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 25ms (Views: 0.2ms | ActiveRecord: 0.7ms (4 queries, 0 cached) | GC: 0.2ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:11:39 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.2ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 31ms (Views: 0.2ms | ActiveRecord: 0.7ms (4 queries, 0 cached) | GC: 0.3ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:11:39 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[8, 0], [8, 2]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[8, 0], [8, 2]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}]]', "score" = 100, "updated_at" = '2025-06-27 19:11:39.669989' WHERE "player_game_states"."id" = 13 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 27ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:11:40 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 26ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:11:41 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 28ms (Views: 0.2ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:11:42 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[7, 3], [7, 4], [7, 5], [7, 6]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[7, 3], [7, 4], [7, 5], [7, 6]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.2ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}]]', "score" = 110, "updated_at" = '2025-06-27 19:11:42.807054' WHERE "player_game_states"."id" = 13 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 37ms (Views: 0.2ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.5ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:11:43 -0400
Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:11:43 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  ↳ app/controllers/game_controller.rb:85:in `game_status'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
Game status check for room: test room
  ↳ app/controllers/game_controller.rb:104:in `get_board'
Room status: playing
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  ↳ app/controllers/game_controller.rb:89:in `game_status'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
Players count: 2
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
Completed 200 OK in 62ms (Views: 0.2ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.2ms)


  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 64ms (Views: 0.4ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.2ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:11:43 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[5, 4], [6, 4]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[5, 4], [6, 4]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}]]', "score" = 120, "updated_at" = '2025-06-27 19:11:43.677388' WHERE "player_game_states"."id" = 13 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 34ms (Views: 0.5ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.5ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:11:44 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[5, 3], [5, 5]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[5, 3], [5, 5]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}]]', "score" = 130, "updated_at" = '2025-06-27 19:11:44.790656' WHERE "player_game_states"."id" = 13 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:11:45 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 33ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 1.2ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:11:46 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[8, 5], [8, 6], [8, 7]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[8, 5], [8, 6], [8, 7]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}]]', "score" = 140, "updated_at" = '2025-06-27 19:11:46.144112' WHERE "player_game_states"."id" = 13 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 41ms (Views: 0.2ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.7ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:11:46 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.4ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 27ms (Views: 0.1ms | ActiveRecord: 0.5ms (4 queries, 2 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:11:47 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[8, 9], [9, 9]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[8, 9], [9, 9]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":true}]]', "score" = 150, "updated_at" = '2025-06-27 19:11:47.156751' WHERE "player_game_states"."id" = 13 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 34ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.6ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:11:47 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 28ms (Views: 0.2ms | ActiveRecord: 0.6ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:11:48 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[6, 5], [6, 6]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[6, 5], [6, 6]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":true}]]', "score" = 160, "updated_at" = '2025-06-27 19:11:48.135296' WHERE "player_game_states"."id" = 13 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 29ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:11:49 -0400
Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:11:49 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
  ↳ app/controllers/game_controller.rb:103:in `get_board'
Game status check for room: test room
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
Room status: playing
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
  ↳ app/models/game_board.rb:6:in `current_board'
Players count: 2
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  ↳ app/controllers/game_controller.rb:93:in `game_status'
Completed 200 OK in 62ms (Views: 0.2ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 1.8ms)


  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 62ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.8ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:11:49 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[6, 8], [6, 9]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[6, 8], [6, 9]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.3ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":true}]]', "score" = 170, "updated_at" = '2025-06-27 19:11:49.524244' WHERE "player_game_states"."id" = 13 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 30ms (Views: 0.1ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.3ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:11:50 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[5, 7], [5, 8], [5, 9]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[5, 7], [5, 8], [5, 9]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":true}]]', "score" = 180, "updated_at" = '2025-06-27 19:11:50.478695' WHERE "player_game_states"."id" = 13 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 27ms (Views: 0.3ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.3ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:11:51 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[3, 7], [4, 7]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[3, 7], [4, 7]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":true}]]', "score" = 190, "updated_at" = '2025-06-27 19:11:51.355724' WHERE "player_game_states"."id" = 13 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 33ms (Views: 0.2ms | ActiveRecord: 0.7ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:11:51 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 27ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:11:51 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[3, 5], [3, 6]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[3, 5], [3, 6]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (1.1ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":true}]]', "score" = 200, "updated_at" = '2025-06-27 19:11:51.963342' WHERE "player_game_states"."id" = 13 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 34ms (Views: 0.2ms | ActiveRecord: 1.5ms (4 queries, 0 cached) | GC: 1.5ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:11:52 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 27ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 1.0ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:11:53 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[1, 5], [2, 5], [4, 5]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[1, 5], [2, 5], [4, 5]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.6ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":true}]]', "score" = 210, "updated_at" = '2025-06-27 19:11:53.246337' WHERE "player_game_states"."id" = 13 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 33ms (Views: 0.4ms | ActiveRecord: 1.3ms (4 queries, 0 cached) | GC: 0.5ms)


Started POST "/game/request_new_board/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:11:53 -0400
Processing by GameController#request_new_board as */*
  Parameters: {"player_id"=>"40", "room_code"=>"57JTJD", "game"=>{}}
  [1m[36mGameRoom Load (0.8ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:221:in `request_new_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:222:in `request_new_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:258:in `request_new_board'
  [1m[36mPlayerGameState Update (0.8ms)[0m  [1m[33mUPDATE "player_game_states" SET "updated_at" = '2025-06-27 19:11:53.304650', "needs_new_board" = 1 WHERE "player_game_states"."id" = 13 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:258:in `request_new_board'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:258:in `request_new_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" != 40 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:261:in `all?'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mGameBoard Create (0.6ms)[0m  [1m[32mINSERT INTO "game_boards" ("room_code", "board_state", "created_at") VALUES ('57JTJD', '[[{"fruit":"🍎","value":7},{"fruit":"🍎","value":9},{"fruit":"🍎","value":1},{"fruit":"🍎","value":6},{"fruit":"🍎","value":7},{"fruit":"🍎","value":2},{"fruit":"🍎","value":3},{"fruit":"🍎","value":6},{"fruit":"🍎","value":8},{"fruit":"🍎","value":9}],[{"fruit":"🍎","value":1},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":4},{"fruit":"🍎","value":5},{"fruit":"🍎","value":2},{"fruit":"🍎","value":8},{"fruit":"🍎","value":4},{"fruit":"🍎","value":1}],[{"fruit":"🍎","value":2},{"fruit":"🍎","value":8},{"fruit":"🍎","value":5},{"fruit":"🍎","value":8},{"fruit":"🍎","value":1},{"fruit":"🍎","value":3},{"fruit":"🍎","value":1},{"fruit":"🍎","value":4},{"fruit":"🍎","value":5},{"fruit":"🍎","value":3}],[{"fruit":"🍎","value":7},{"fruit":"🍎","value":5},{"fruit":"🍎","value":1},{"fruit":"🍎","value":1},{"fruit":"🍎","value":2},{"fruit":"🍎","value":3},{"fruit":"🍎","value":9},{"fruit":"🍎","value":7},{"fruit":"🍎","value":5},{"fruit":"🍎","value":2}],[{"fruit":"🍎","value":5},{"fruit":"🍎","value":9},{"fruit":"🍎","value":3},{"fruit":"🍎","value":8},{"fruit":"🍎","value":2},{"fruit":"🍎","value":1},{"fruit":"🍎","value":4},{"fruit":"🍎","value":8},{"fruit":"🍎","value":3},{"fruit":"🍎","value":5}],[{"fruit":"🍎","value":8},{"fruit":"🍎","value":5},{"fruit":"🍎","value":5},{"fruit":"🍎","value":2},{"fruit":"🍎","value":2},{"fruit":"🍎","value":1},{"fruit":"🍎","value":5},{"fruit":"🍎","value":5},{"fruit":"🍎","value":2},{"fruit":"🍎","value":2}],[{"fruit":"🍎","value":1},{"fruit":"🍎","value":9},{"fruit":"🍎","value":9},{"fruit":"🍎","value":8},{"fruit":"🍎","value":4},{"fruit":"🍎","value":1},{"fruit":"🍎","value":6},{"fruit":"🍎","value":5},{"fruit":"🍎","value":5},{"fruit":"🍎","value":5}],[{"fruit":"🍎","value":8},{"fruit":"🍎","value":3},{"fruit":"🍎","value":7},{"fruit":"🍎","value":3},{"fruit":"🍎","value":3},{"fruit":"🍎","value":7},{"fruit":"🍎","value":8},{"fruit":"🍎","value":3},{"fruit":"🍎","value":8},{"fruit":"🍎","value":3}],[{"fruit":"🍎","value":3},{"fruit":"🍎","value":6},{"fruit":"🍎","value":7},{"fruit":"🍎","value":1},{"fruit":"🍎","value":2},{"fruit":"🍎","value":7},{"fruit":"🍎","value":3},{"fruit":"🍎","value":9},{"fruit":"🍎","value":4},{"fruit":"🍎","value":2}],[{"fruit":"🍎","value":1},{"fruit":"🍎","value":6},{"fruit":"🍎","value":3},{"fruit":"🍎","value":9},{"fruit":"🍎","value":5},{"fruit":"🍎","value":9},{"fruit":"🍎","value":6},{"fruit":"🍎","value":1},{"fruit":"🍎","value":6},{"fruit":"🍎","value":7}]]', '2025-06-27 19:11:53.308884') RETURNING "id" /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:271:in `request_new_board'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayer Load (0.7ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."id" = 39 LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayerGameState Create (0.2ms)[0m  [1m[32mINSERT INTO "player_game_states" ("player_id", "room_code", "board_state", "score", "time_remaining", "created_at", "updated_at", "finished", "final_score", "needs_new_board") VALUES (39, '57JTJD', '[[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', 0, 90, '2025-06-27 19:11:53.326097', '2025-06-27 19:11:53.326097', NULL, NULL, 0) RETURNING "id" /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayer Load (0.6ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."id" = 40 LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayerGameState Create (0.1ms)[0m  [1m[32mINSERT INTO "player_game_states" ("player_id", "room_code", "board_state", "score", "time_remaining", "created_at", "updated_at", "finished", "final_score", "needs_new_board") VALUES (40, '57JTJD', '[[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', 0, 90, '2025-06-27 19:11:53.330376', '2025-06-27 19:11:53.330376', NULL, NULL, 0) RETURNING "id" /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
Completed 200 OK in 68ms (Views: 0.1ms | ActiveRecord: 5.8ms (12 queries, 0 cached) | GC: 0.9ms)


Started GET "/game/board/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:11:53 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 38ms (Views: 0.1ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:11:55 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 35ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 2 cached) | GC: 2.8ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:11:58 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 29ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.7ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:12:01 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 31ms (Views: 0.1ms | ActiveRecord: 1.2ms (4 queries, 2 cached) | GC: 0.5ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:12:04 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 28ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:12:07 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 52ms (Views: 0.1ms | ActiveRecord: 0.4ms (4 queries, 2 cached) | GC: 0.0ms)


Started POST "/game/board/57JTJD/refresh?player_id=40" for 127.0.0.1 at 2025-06-27 15:12:09 -0400
Processing by GameController#refresh_board as */*
  Parameters: {"player_id"=>"40", "room_code"=>"57JTJD", "game"=>{}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='refresh_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:127:in `refresh_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='refresh_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:128:in `refresh_board'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='refresh_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mGameBoard Create (1.6ms)[0m  [1m[32mINSERT INTO "game_boards" ("room_code", "board_state", "created_at") VALUES ('57JTJD_player_40', '[[{"fruit":"🍎","value":6},{"fruit":"🍎","value":9},{"fruit":"🍎","value":9},{"fruit":"🍎","value":7},{"fruit":"🍎","value":2},{"fruit":"🍎","value":5},{"fruit":"🍎","value":7},{"fruit":"🍎","value":1},{"fruit":"🍎","value":1},{"fruit":"🍎","value":6}],[{"fruit":"🍎","value":9},{"fruit":"🍎","value":9},{"fruit":"🍎","value":6},{"fruit":"🍎","value":1},{"fruit":"🍎","value":1},{"fruit":"🍎","value":5},{"fruit":"🍎","value":7},{"fruit":"🍎","value":8},{"fruit":"🍎","value":1},{"fruit":"🍎","value":6}],[{"fruit":"🍎","value":4},{"fruit":"🍎","value":1},{"fruit":"🍎","value":5},{"fruit":"🍎","value":2},{"fruit":"🍎","value":6},{"fruit":"🍎","value":1},{"fruit":"🍎","value":8},{"fruit":"🍎","value":8},{"fruit":"🍎","value":5},{"fruit":"🍎","value":7}],[{"fruit":"🍎","value":1},{"fruit":"🍎","value":9},{"fruit":"🍎","value":1},{"fruit":"🍎","value":8},{"fruit":"🍎","value":1},{"fruit":"🍎","value":2},{"fruit":"🍎","value":2},{"fruit":"🍎","value":8},{"fruit":"🍎","value":5},{"fruit":"🍎","value":5}],[{"fruit":"🍎","value":6},{"fruit":"🍎","value":3},{"fruit":"🍎","value":4},{"fruit":"🍎","value":7},{"fruit":"🍎","value":5},{"fruit":"🍎","value":9},{"fruit":"🍎","value":4},{"fruit":"🍎","value":6},{"fruit":"🍎","value":3},{"fruit":"🍎","value":9}],[{"fruit":"🍎","value":7},{"fruit":"🍎","value":2},{"fruit":"🍎","value":2},{"fruit":"🍎","value":8},{"fruit":"🍎","value":5},{"fruit":"🍎","value":4},{"fruit":"🍎","value":4},{"fruit":"🍎","value":9},{"fruit":"🍎","value":4},{"fruit":"🍎","value":1}],[{"fruit":"🍎","value":7},{"fruit":"🍎","value":1},{"fruit":"🍎","value":3},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":8},{"fruit":"🍎","value":2},{"fruit":"🍎","value":1},{"fruit":"🍎","value":3},{"fruit":"🍎","value":5}],[{"fruit":"🍎","value":1},{"fruit":"🍎","value":4},{"fruit":"🍎","value":7},{"fruit":"🍎","value":6},{"fruit":"🍎","value":7},{"fruit":"🍎","value":1},{"fruit":"🍎","value":5},{"fruit":"🍎","value":7},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6}],[{"fruit":"🍎","value":2},{"fruit":"🍎","value":7},{"fruit":"🍎","value":2},{"fruit":"🍎","value":7},{"fruit":"🍎","value":4},{"fruit":"🍎","value":3},{"fruit":"🍎","value":4},{"fruit":"🍎","value":3},{"fruit":"🍎","value":3},{"fruit":"🍎","value":6}],[{"fruit":"🍎","value":6},{"fruit":"🍎","value":9},{"fruit":"🍎","value":8},{"fruit":"🍎","value":8},{"fruit":"🍎","value":1},{"fruit":"🍎","value":2},{"fruit":"🍎","value":8},{"fruit":"🍎","value":6},{"fruit":"🍎","value":1},{"fruit":"🍎","value":3}]]', '2025-06-27 19:12:09.525446') RETURNING "id" /*action='refresh_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='refresh_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
Completed 200 OK in 50ms (Views: 0.3ms | ActiveRecord: 2.7ms (3 queries, 0 cached) | GC: 5.7ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:12:10 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 34ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:12:12 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[1, 1], [2, 1]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[1, 1], [2, 1]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.2ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (8.7ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 14, "updated_at" = '2025-06-27 19:12:12.208790' WHERE "player_game_states"."id" = 15 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 58ms (Views: 0.6ms | ActiveRecord: 10.2ms (4 queries, 0 cached) | GC: 1.8ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:12:13 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 28ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:12:13 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 1], [0, 2]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[0, 1], [0, 2]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 24, "updated_at" = '2025-06-27 19:12:13.710976' WHERE "player_game_states"."id" = 15 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 26ms (Views: 0.2ms | ActiveRecord: 0.7ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:12:14 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[1, 3], [1, 4]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[1, 3], [1, 4]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.3ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 34, "updated_at" = '2025-06-27 19:12:14.734685' WHERE "player_game_states"."id" = 15 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 32ms (Views: 0.2ms | ActiveRecord: 1.2ms (4 queries, 0 cached) | GC: 0.7ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:12:15 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 0], [1, 0], [2, 0]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[0, 0], [1, 0], [2, 0]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 44, "updated_at" = '2025-06-27 19:12:15.463983' WHERE "player_game_states"."id" = 15 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 27ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.2ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:12:16 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 48ms (Views: 0.2ms | ActiveRecord: 0.5ms (4 queries, 2 cached) | GC: 0.1ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:12:16 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[6, 0], [6, 1]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[6, 0], [6, 1]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.2ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 54, "updated_at" = '2025-06-27 19:12:16.737225' WHERE "player_game_states"."id" = 15 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 29ms (Views: 0.3ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:12:17 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[5, 1], [5, 2]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[5, 1], [5, 2]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (3.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 64, "updated_at" = '2025-06-27 19:12:17.842846' WHERE "player_game_states"."id" = 15 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 28ms (Views: 0.1ms | ActiveRecord: 4.0ms (4 queries, 0 cached) | GC: 2.8ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:12:19 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[5, 0], [5, 3]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[5, 0], [5, 3]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 74, "updated_at" = '2025-06-27 19:12:19.363566' WHERE "player_game_states"."id" = 15 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 29ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.7ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:12:19 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 26ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.4ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:12:20 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[4, 3], [4, 4]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[4, 3], [4, 4]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 84, "updated_at" = '2025-06-27 19:12:20.887600' WHERE "player_game_states"."id" = 15 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 29ms (Views: 0.2ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.5ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:12:22 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 25ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:12:22 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 4], [2, 4], [3, 4]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[0, 4], [2, 4], [3, 4]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.2ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 94, "updated_at" = '2025-06-27 19:12:22.578970' WHERE "player_game_states"."id" = 15 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 37ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 2.7ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:12:24 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[3, 1], [3, 2], [3, 3], [3, 5]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[3, 1], [3, 2], [3, 3], [3, 5]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.7ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 104, "updated_at" = '2025-06-27 19:12:24.301853' WHERE "player_game_states"."id" = 15 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 32ms (Views: 0.2ms | ActiveRecord: 1.2ms (4 queries, 0 cached) | GC: 0.5ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:12:29 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[2, 3], [5, 4]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[2, 3], [5, 4]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 114, "updated_at" = '2025-06-27 19:12:29.057364' WHERE "player_game_states"."id" = 15 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 28ms (Views: 0.2ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.3ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:12:33 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[5, 6], [5, 7]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[5, 6], [5, 7]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.7ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 124, "updated_at" = '2025-06-27 19:12:33.422604' WHERE "player_game_states"."id" = 15 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 30ms (Views: 0.2ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:12:34 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[4, 6], [6, 6]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[4, 6], [6, 6]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.7ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 134, "updated_at" = '2025-06-27 19:12:34.937148' WHERE "player_game_states"."id" = 15 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 34ms (Views: 0.2ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 1.4ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:12:36 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[4, 5], [5, 5], [6, 5], [7, 5]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[4, 5], [5, 5], [6, 5], [7, 5]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.3ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 144, "updated_at" = '2025-06-27 19:12:36.074918' WHERE "player_game_states"."id" = 15 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 29ms (Views: 0.3ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.4ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:12:38 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 5], [1, 5], [2, 5]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[0, 5], [1, 5], [2, 5]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 154, "updated_at" = '2025-06-27 19:12:38.099836' WHERE "player_game_states"."id" = 15 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 29ms (Views: 0.1ms | ActiveRecord: 0.7ms (4 queries, 0 cached) | GC: 0.3ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:12:38 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 31ms (Views: 0.1ms | ActiveRecord: 0.1ms (4 queries, 2 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:12:39 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[2, 6], [3, 6]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[2, 6], [3, 6]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 164, "updated_at" = '2025-06-27 19:12:39.403469' WHERE "player_game_states"."id" = 15 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 31ms (Views: 1.2ms | ActiveRecord: 0.7ms (4 queries, 0 cached) | GC: 1.0ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:12:40 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[1, 6], [1, 7]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[1, 6], [1, 7]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (1.1ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 174, "updated_at" = '2025-06-27 19:12:40.133112' WHERE "player_game_states"."id" = 15 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 33ms (Views: 0.2ms | ActiveRecord: 1.4ms (4 queries, 0 cached) | GC: 0.6ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:12:41 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 7], [2, 7]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[0, 7], [2, 7]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 184, "updated_at" = '2025-06-27 19:12:41.363096' WHERE "player_game_states"."id" = 15 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 36ms (Views: 0.2ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.5ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:12:42 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[1, 2], [1, 8]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[1, 2], [1, 8]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 194, "updated_at" = '2025-06-27 19:12:42.364325' WHERE "player_game_states"."id" = 15 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 31ms (Views: 0.7ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.4ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:12:43 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[2, 2], [2, 8]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[2, 2], [2, 8]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 204, "updated_at" = '2025-06-27 19:12:43.339550' WHERE "player_game_states"."id" = 15 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 30ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.9ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:12:44 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 6], [3, 7]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[0, 6], [3, 7]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 214, "updated_at" = '2025-06-27 19:12:45.022901' WHERE "player_game_states"."id" = 15 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 27ms (Views: 0.4ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.4ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:12:46 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 9], [1, 9]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[0, 9], [1, 9]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 224, "updated_at" = '2025-06-27 19:12:46.340628' WHERE "player_game_states"."id" = 15 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 28ms (Views: 0.2ms | ActiveRecord: 0.7ms (4 queries, 0 cached) | GC: 0.3ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:12:47 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[2, 9], [3, 8], [3, 9]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[2, 9], [3, 8], [3, 9]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.3ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 234, "updated_at" = '2025-06-27 19:12:47.641426' WHERE "player_game_states"."id" = 15 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 23ms (Views: 0.4ms | ActiveRecord: 0.6ms (4 queries, 0 cached) | GC: 0.2ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:12:49 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[4, 8], [5, 8], [6, 8]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[4, 8], [5, 8], [6, 8]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 244, "updated_at" = '2025-06-27 19:12:49.679848' WHERE "player_game_states"."id" = 15 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 36ms (Views: 0.2ms | ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 1.6ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:12:50 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[5, 9], [6, 9], [7, 9]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[5, 9], [6, 9], [7, 9]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 254, "updated_at" = '2025-06-27 19:12:50.996058' WHERE "player_game_states"."id" = 15 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 31ms (Views: 0.3ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.7ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:12:52 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[8, 8], [9, 8]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[8, 8], [9, 8]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.3ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 264, "updated_at" = '2025-06-27 19:12:52.653932' WHERE "player_game_states"."id" = 15 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 40ms (Views: 0.2ms | ActiveRecord: 1.3ms (4 queries, 0 cached) | GC: 0.5ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:12:53 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[8, 7], [9, 7]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[8, 7], [9, 7]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 274, "updated_at" = '2025-06-27 19:12:53.187019' WHERE "player_game_states"."id" = 15 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 36ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.4ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:12:53 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[8, 5], [8, 6]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[8, 5], [8, 6]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 284, "updated_at" = '2025-06-27 19:12:53.882119' WHERE "player_game_states"."id" = 15 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 28ms (Views: 0.4ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 1.0ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:12:54 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[7, 4], [8, 4], [9, 4]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[7, 4], [8, 4], [9, 4]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 294, "updated_at" = '2025-06-27 19:12:54.969029' WHERE "player_game_states"."id" = 15 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 29ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.7ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:12:55 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[8, 3], [9, 3]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[8, 3], [9, 3]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 304, "updated_at" = '2025-06-27 19:12:55.902162' WHERE "player_game_states"."id" = 15 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 28ms (Views: 0.2ms | ActiveRecord: 0.7ms (4 queries, 0 cached) | GC: 0.4ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:12:56 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[7, 2], [7, 3]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[7, 2], [7, 3]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 314, "updated_at" = '2025-06-27 19:12:56.687179' WHERE "player_game_states"."id" = 15 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 28ms (Views: 0.1ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.4ms)


Started POST "/game/collect_apples/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:12:57 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[8, 2], [9, 2]], "player_id"=>"40", "room_code"=>"57JTJD", "game"=>{"positions"=>[[8, 2], [9, 2]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:156:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:157:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 324, "updated_at" = '2025-06-27 19:12:57.531027' WHERE "player_game_states"."id" = 15 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 34ms (Views: 0.2ms | ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 1.4ms)


Started POST "/game/player_finished/57JTJD?player_id=40" for 127.0.0.1 at 2025-06-27 15:12:57 -0400
Processing by GameController#player_finished as */*
  Parameters: {"player_id"=>"40", "room_code"=>"57JTJD", "game"=>{}}
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:189:in `player_finished'
  [1m[36mPlayer Load (0.4ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 40 LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:190:in `player_finished'
  [1m[36mPlayerGameState Load (0.4ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:197:in `player_finished'
  [1m[36mPlayerGameState Update (2.3ms)[0m  [1m[33mUPDATE "player_game_states" SET "updated_at" = '2025-06-27 19:12:57.591169', "finished" = 1, "final_score" = 324 WHERE "player_game_states"."id" = 15 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:197:in `player_finished'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:197:in `player_finished'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:200:in `all?'
  [1m[36mPlayerGameState Load (0.5ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 50ms (Views: 0.2ms | ActiveRecord: 4.1ms (6 queries, 0 cached) | GC: 0.6ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:13:01 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 31ms (Views: 0.1ms | ActiveRecord: 1.1ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:13:04 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 20ms (Views: 0.1ms | ActiveRecord: 0.1ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:13:07 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.4ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 53ms (Views: 0.1ms | ActiveRecord: 0.5ms (4 queries, 2 cached) | GC: 0.9ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:13:10 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 31ms (Views: 0.1ms | ActiveRecord: 1.1ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:13:13 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 32ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:13:16 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 44ms (Views: 0.1ms | ActiveRecord: 0.3ms (4 queries, 2 cached) | GC: 0.6ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:13:19 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 39ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.4ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:13:22 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 41ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:13:25 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 35ms (Views: 0.3ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:13:28 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (2.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 165ms (Views: 0.2ms | ActiveRecord: 2.1ms (4 queries, 2 cached) | GC: 0.3ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:13:30 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 26ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:13:30 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 28ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:13:32 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 28ms (Views: 0.2ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started POST "/game/player_finished/57JTJD?player_id=39" for 127.0.0.1 at 2025-06-27 15:13:33 -0400
Processing by GameController#player_finished as */*
  Parameters: {"player_id"=>"39", "room_code"=>"57JTJD", "game"=>{}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:179:in `player_finished'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 AND "players"."id" = 39 LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:180:in `player_finished'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:187:in `player_finished'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "updated_at" = '2025-06-27 19:13:33.336219', "finished" = 1, "final_score" = 0 WHERE "player_game_states"."id" = 14 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:187:in `player_finished'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:187:in `player_finished'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:190:in `all?'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 AND "player_game_states"."room_code" = '57JTJD' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:197:in `player_finished'
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' AND "game_rooms"."id" != 24 LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:197:in `player_finished'
  [1m[36mGameRoom Update (0.0ms)[0m  [1m[33mUPDATE "game_rooms" SET "status" = 'finished', "updated_at" = '2025-06-27 19:13:33.342205' WHERE "game_rooms"."id" = 24 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:197:in `player_finished'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:197:in `player_finished'
Completed 200 OK in 55ms (Views: 0.1ms | ActiveRecord: 2.2ms (9 queries, 0 cached) | GC: 4.3ms)


Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:13:34 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: finished
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"finished", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 31ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:13:35 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 23 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.1ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 23 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 23 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 24 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 24 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaning up 1 rooms: test rom
  [1m[36mGameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."id" = 23 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayer Load (0.7ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 23 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mGameMove Load (0.1ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."player_id" = 37 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 37 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayerGameState Destroy (0.1ms)[0m  [1m[31mDELETE FROM "player_game_states" WHERE "player_game_states"."id" = 10 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayer Destroy (0.2ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 37 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mGameMove Load (0.1ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."player_id" = 38 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 38 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayerGameState Destroy (0.1ms)[0m  [1m[31mDELETE FROM "player_game_states" WHERE "player_game_states"."id" = 11 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mPlayer Destroy (0.2ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 38 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mGameMove Load (0.1ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."game_room_id" = 23 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'GL1HHQ' /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mGameBoard Destroy (0.1ms)[0m  [1m[31mDELETE FROM "game_boards" WHERE "game_boards"."id" = 19 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mGameRoom Destroy (0.1ms)[0m  [1m[31mDELETE FROM "game_rooms" WHERE "game_rooms"."id" = 23 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:67:in `cleanup_old_rooms'
Cleaned up 1 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 9.2ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 11.9ms | GC: 0.3ms)
Completed 200 OK in 86ms (Views: 14.7ms | ActiveRecord: 3.3ms (24 queries, 0 cached) | GC: 5.7ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:13:35 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.1ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 24 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 24 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 4.4ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | GC: 0.2ms)
Completed 200 OK in 34ms (Views: 5.6ms | ActiveRecord: 0.4ms (7 queries, 2 cached) | GC: 0.6ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 15:13:35 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/status/57JTJD" for 127.0.0.1 at 2025-06-27 15:13:35 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"57JTJD"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = '57JTJD' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: finished
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"finished", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 24ms (Views: 0.1ms | ActiveRecord: 0.1ms (4 queries, 2 cached) | GC: 0.0ms)


Started POST "/game/cleanup_rooms" for 127.0.0.1 at 2025-06-27 15:13:37 -0400
Processing by GameController#cleanup_rooms as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 24 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.1ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 24 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 153ms (ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.2ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:13:37 -0400
Processing by GameController#multiplayer as TURBO_STREAM
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 24 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 24 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 5.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.7ms | GC: 0.0ms)
Completed 200 OK in 59ms (Views: 6.1ms | ActiveRecord: 0.4ms (7 queries, 2 cached) | GC: 0.3ms)


Started POST "/game/cleanup_rooms?delete_all=true" for 127.0.0.1 at 2025-06-27 15:13:38 -0400
Processing by GameController#cleanup_rooms as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "delete_all"=>"true"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 24 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.1ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 24 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.1ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 24 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayer Load (2.8ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 24 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameMove Load (0.2ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."player_id" = 39 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayerGameState Load (1.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 39 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayerGameState Destroy (0.1ms)[0m  [1m[31mDELETE FROM "player_game_states" WHERE "player_game_states"."id" = 12 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayerGameState Destroy (0.1ms)[0m  [1m[31mDELETE FROM "player_game_states" WHERE "player_game_states"."id" = 14 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayer Destroy (0.1ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 39 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameMove Load (0.1ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."player_id" = 40 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 40 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayerGameState Destroy (0.0ms)[0m  [1m[31mDELETE FROM "player_game_states" WHERE "player_game_states"."id" = 13 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayerGameState Destroy (0.0ms)[0m  [1m[31mDELETE FROM "player_game_states" WHERE "player_game_states"."id" = 15 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayer Destroy (0.1ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 40 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameMove Load (0.1ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."game_room_id" = 24 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameBoard Load (0.2ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = '57JTJD' /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameBoard Destroy (0.2ms)[0m  [1m[31mDELETE FROM "game_boards" WHERE "game_boards"."id" = 21 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameBoard Destroy (0.0ms)[0m  [1m[31mDELETE FROM "game_boards" WHERE "game_boards"."id" = 24 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameRoom Destroy (0.0ms)[0m  [1m[31mDELETE FROM "game_rooms" WHERE "game_rooms"."id" = 24 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 84ms (ActiveRecord: 7.3ms (21 queries, 1 cached) | GC: 29.8ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:13:38 -0400
Processing by GameController#multiplayer as TURBO_STREAM
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 2.0ms | ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:13:42 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.9ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 3.4ms | GC: 0.4ms)
Completed 200 OK in 36ms (Views: 3.6ms | ActiveRecord: 0.3ms (2 queries, 0 cached) | GC: 0.4ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:13:42 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.8ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.8ms)
Completed 200 OK in 28ms (Views: 3.3ms | ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.8ms)


Started POST "/game/create_room" for 127.0.0.1 at 2025-06-27 15:13:46 -0400
Processing by GameController#create_room as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "game_room"=>{"name"=>"test room", "max_players"=>"2"}, "commit"=>"Create Room"}
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
Cleaned up 0 rooms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' LIMIT 1 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Create (0.1ms)[0m  [1m[32mINSERT INTO "game_rooms" ("name", "room_code", "max_players", "status", "created_at", "updated_at") VALUES ('test room', 'NTBCRB', 2, NULL, '2025-06-27 19:13:46.379808', '2025-06-27 19:13:46.379808') RETURNING "id" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
Redirected to http://127.0.0.1:3000/game/join/NTBCRB
Completed 302 Found in 39ms (ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/join/NTBCRB" for 127.0.0.1 at 2025-06-27 15:13:46 -0400
Processing by GameController#join_room as TURBO_STREAM
  Parameters: {"room_code"=>"NTBCRB"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'NTBCRB' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 25 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 25 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 25[0m
  ↳ app/models/game_room.rb:12:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 3.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 28ms (Views: 3.6ms | ActiveRecord: 0.3ms (4 queries, 1 cached) | GC: 0.0ms)


Started POST "/game/join/NTBCRB" for 127.0.0.1 at 2025-06-27 15:13:48 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris"}, "commit"=>"Join Game", "room_code"=>"NTBCRB"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'NTBCRB' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 25 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 0
Room max players: 2
Player params: {"name"=>"chris"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 25[0m
  ↳ app/models/game_room.rb:12:in `full?'
  [1m[36mPlayer Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 25 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 25 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 25 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (0.6ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (25, 'chris', 0, '2025-06-27 19:13:48.677878', '2025-06-27 19:13:48.677878') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 41
Redirected to http://127.0.0.1:3000/game/waiting/NTBCRB/41
Completed 302 Found in 45ms (ActiveRecord: 0.9ms (7 queries, 3 cached) | GC: 3.7ms)


Started GET "/game/waiting/NTBCRB/41" for 127.0.0.1 at 2025-06-27 15:13:48 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"NTBCRB", "player_id"=>"41"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'NTBCRB' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 25 AND "players"."id" = 41 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 25 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 25 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 25[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 26ms (Views: 2.3ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 1.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:13:51 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 25 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 25 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.2ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 25 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 25[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 4.4ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | GC: 0.3ms)
Completed 200 OK in 43ms (Views: 5.1ms | ActiveRecord: 0.6ms (7 queries, 2 cached) | GC: 0.3ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 15:13:51 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/join/NTBCRB?room_code=NTBCRB&commit=Join+Room" for 127.0.0.1 at 2025-06-27 15:13:54 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"NTBCRB", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'NTBCRB' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 25 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 25 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 25[0m
  ↳ app/models/game_room.rb:12:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.0ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.2ms)
Completed 200 OK in 26ms (Views: 2.3ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.2ms)


Started POST "/game/join/NTBCRB" for 127.0.0.1 at 2025-06-27 15:13:56 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris2"}, "commit"=>"Join Game", "room_code"=>"NTBCRB"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'NTBCRB' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 25 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 1
Room max players: 2
Player params: {"name"=>"chris2"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 25[0m
  ↳ app/models/game_room.rb:12:in `full?'
  [1m[36mPlayer Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 25 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 25 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 25 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (0.7ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (25, 'chris2', 0, '2025-06-27 19:13:56.790940', '2025-06-27 19:13:56.790940') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 42
Redirected to http://127.0.0.1:3000/game/waiting/NTBCRB/42
Completed 302 Found in 42ms (ActiveRecord: 1.2ms (7 queries, 3 cached) | GC: 0.4ms)


Started GET "/game/waiting/NTBCRB/42" for 127.0.0.1 at 2025-06-27 15:13:56 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"NTBCRB", "player_id"=>"42"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'NTBCRB' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 25 AND "players"."id" = 42 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 25 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 25 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 25[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 2.2ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.8ms)
Completed 200 OK in 27ms (Views: 2.7ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 1.0ms)


Started GET "/game/waiting/NTBCRB/41" for 127.0.0.1 at 2025-06-27 15:13:59 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"NTBCRB", "player_id"=>"41"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'NTBCRB' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.4ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 25 AND "players"."id" = 41 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 25 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 25 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 25[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 39ms (Views: 3.7ms | ActiveRecord: 0.7ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/status/NTBCRB" for 127.0.0.1 at 2025-06-27 15:13:59 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"NTBCRB"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'NTBCRB' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 25 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 25[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 25[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 36ms (Views: 0.3ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/room/NTBCRB?player_id=41" for 127.0.0.1 at 2025-06-27 15:14:00 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"41", "room_code"=>"NTBCRB"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'NTBCRB' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 25 AND "players"."id" = 41 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 25 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 25[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 25 ORDER BY "players"."id" ASC LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:78
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 25 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 3.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | GC: 0.0ms)
Completed 200 OK in 28ms (Views: 4.3ms | ActiveRecord: 0.4ms (6 queries, 1 cached) | GC: 0.0ms)


Started POST "/game/start/NTBCRB?player_id=41" for 127.0.0.1 at 2025-06-27 15:14:01 -0400
Processing by GameController#start_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player_id"=>"41", "room_code"=>"NTBCRB"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'NTBCRB' LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:74:in `start_game'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 25 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' AND "game_rooms"."id" != 25 LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Update (0.1ms)[0m  [1m[33mUPDATE "game_rooms" SET "status" = 'playing', "updated_at" = '2025-06-27 19:14:01.205264' WHERE "game_rooms"."id" = 25 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
Redirected to http://127.0.0.1:3000/game/room/NTBCRB?player_id=41
Completed 302 Found in 39ms (ActiveRecord: 1.3ms (4 queries, 0 cached) | GC: 0.8ms)


Started GET "/game/room/NTBCRB?player_id=41" for 127.0.0.1 at 2025-06-27 15:14:01 -0400
Processing by GameController#room as TURBO_STREAM
  Parameters: {"player_id"=>"41", "room_code"=>"NTBCRB"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'NTBCRB' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 25 AND "players"."id" = 41 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 25 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 25 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 1.4ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.5ms)
Completed 200 OK in 27ms (Views: 2.0ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.5ms)


Started GET "/game/board/NTBCRB?player_id=41" for 127.0.0.1 at 2025-06-27 15:14:01 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"41", "room_code"=>"NTBCRB"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'NTBCRB' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 25 AND "players"."id" = 41 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'NTBCRB' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mGameBoard Create (0.5ms)[0m  [1m[32mINSERT INTO "game_boards" ("room_code", "board_state", "created_at") VALUES ('NTBCRB', '[[{"fruit":"🍎","value":9},{"fruit":"🍎","value":8},{"fruit":"🍎","value":6},{"fruit":"🍎","value":4},{"fruit":"🍎","value":5},{"fruit":"🍎","value":8},{"fruit":"🍎","value":3},{"fruit":"🍎","value":1},{"fruit":"🍎","value":5},{"fruit":"🍎","value":3}],[{"fruit":"🍎","value":4},{"fruit":"🍎","value":6},{"fruit":"🍎","value":8},{"fruit":"🍎","value":5},{"fruit":"🍎","value":2},{"fruit":"🍎","value":8},{"fruit":"🍎","value":2},{"fruit":"🍎","value":1},{"fruit":"🍎","value":4},{"fruit":"🍎","value":3}],[{"fruit":"🍎","value":5},{"fruit":"🍎","value":7},{"fruit":"🍎","value":3},{"fruit":"🍎","value":9},{"fruit":"🍎","value":8},{"fruit":"🍎","value":1},{"fruit":"🍎","value":2},{"fruit":"🍎","value":3},{"fruit":"🍎","value":9},{"fruit":"🍎","value":9}],[{"fruit":"🍎","value":1},{"fruit":"🍎","value":7},{"fruit":"🍎","value":4},{"fruit":"🍎","value":2},{"fruit":"🍎","value":7},{"fruit":"🍎","value":1},{"fruit":"🍎","value":3},{"fruit":"🍎","value":1},{"fruit":"🍎","value":5},{"fruit":"🍎","value":2}],[{"fruit":"🍎","value":6},{"fruit":"🍎","value":1},{"fruit":"🍎","value":5},{"fruit":"🍎","value":9},{"fruit":"🍎","value":9},{"fruit":"🍎","value":6},{"fruit":"🍎","value":8},{"fruit":"🍎","value":4},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6}],[{"fruit":"🍎","value":2},{"fruit":"🍎","value":7},{"fruit":"🍎","value":1},{"fruit":"🍎","value":4},{"fruit":"🍎","value":5},{"fruit":"🍎","value":7},{"fruit":"🍎","value":7},{"fruit":"🍎","value":9},{"fruit":"🍎","value":4},{"fruit":"🍎","value":9}],[{"fruit":"🍎","value":6},{"fruit":"🍎","value":1},{"fruit":"🍎","value":5},{"fruit":"🍎","value":2},{"fruit":"🍎","value":9},{"fruit":"🍎","value":9},{"fruit":"🍎","value":6},{"fruit":"🍎","value":5},{"fruit":"🍎","value":9},{"fruit":"🍎","value":6}],[{"fruit":"🍎","value":4},{"fruit":"🍎","value":6},{"fruit":"🍎","value":1},{"fruit":"🍎","value":2},{"fruit":"🍎","value":5},{"fruit":"🍎","value":2},{"fruit":"🍎","value":9},{"fruit":"🍎","value":7},{"fruit":"🍎","value":9},{"fruit":"🍎","value":2}],[{"fruit":"🍎","value":6},{"fruit":"🍎","value":7},{"fruit":"🍎","value":8},{"fruit":"🍎","value":1},{"fruit":"🍎","value":2},{"fruit":"🍎","value":4},{"fruit":"🍎","value":8},{"fruit":"🍎","value":6},{"fruit":"🍎","value":1},{"fruit":"🍎","value":2}],[{"fruit":"🍎","value":3},{"fruit":"🍎","value":5},{"fruit":"🍎","value":8},{"fruit":"🍎","value":9},{"fruit":"🍎","value":9},{"fruit":"🍎","value":9},{"fruit":"🍎","value":2},{"fruit":"🍎","value":3},{"fruit":"🍎","value":2},{"fruit":"🍎","value":8}]]', '2025-06-27 19:14:01.295462') RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 41 AND "player_game_states"."room_code" = 'NTBCRB' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayer Load (0.7ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."id" = 41 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayerGameState Create (0.1ms)[0m  [1m[32mINSERT INTO "player_game_states" ("player_id", "room_code", "board_state", "score", "time_remaining", "created_at", "updated_at", "finished", "final_score", "needs_new_board") VALUES (41, 'NTBCRB', '[[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false}]]', 0, 90, '2025-06-27 19:14:01.300391', '2025-06-27 19:14:01.300391', NULL, NULL, 0) RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
Completed 200 OK in 34ms (Views: 0.5ms | ActiveRecord: 1.8ms (7 queries, 0 cached) | GC: 0.5ms)


Started GET "/game/waiting/NTBCRB/42" for 127.0.0.1 at 2025-06-27 15:14:03 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"NTBCRB", "player_id"=>"42"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'NTBCRB' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 25 AND "players"."id" = 42 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 25 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 25 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 25[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 2.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.8ms | GC: 0.0ms)
Completed 200 OK in 33ms (Views: 4.0ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 1.2ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 15:14:03 -0400
Started GET "/game/status/NTBCRB" for 127.0.0.1 at 2025-06-27 15:14:03 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"NTBCRB"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'NTBCRB' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 25 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 25[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 25[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 31ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.8ms)


Started GET "/game/room/NTBCRB?player_id=42" for 127.0.0.1 at 2025-06-27 15:14:03 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"42", "room_code"=>"NTBCRB"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'NTBCRB' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 25 AND "players"."id" = 42 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 25 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 25 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 1.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 26ms (Views: 1.6ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 15:14:03 -0400
Started GET "/game/board/NTBCRB?player_id=42" for 127.0.0.1 at 2025-06-27 15:14:03 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"42", "room_code"=>"NTBCRB"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'NTBCRB' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 25 AND "players"."id" = 42 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'NTBCRB' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 42 AND "player_game_states"."room_code" = 'NTBCRB' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayer Load (0.4ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."id" = 42 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayerGameState Create (0.0ms)[0m  [1m[32mINSERT INTO "player_game_states" ("player_id", "room_code", "board_state", "score", "time_remaining", "created_at", "updated_at", "finished", "final_score", "needs_new_board") VALUES (42, 'NTBCRB', '[[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false}]]', 0, 90, '2025-06-27 19:14:03.939224', '2025-06-27 19:14:03.939224', NULL, NULL, 0) RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
Completed 200 OK in 46ms (Views: 0.2ms | ActiveRecord: 0.8ms (6 queries, 0 cached) | GC: 2.9ms)


Started POST "/game/collect_apples/NTBCRB?player_id=42" for 127.0.0.1 at 2025-06-27 15:14:11 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 2], [0, 3]], "player_id"=>"42", "room_code"=>"NTBCRB", "game"=>{"positions"=>[[0, 2], [0, 3]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'NTBCRB' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 25 AND "players"."id" = 42 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 42 AND "player_game_states"."room_code" = 'NTBCRB' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false}]]', "score" = 10, "updated_at" = '2025-06-27 19:14:12.026674' WHERE "player_game_states"."id" = 17 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 43ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 3.8ms)


Started POST "/game/collect_apples/NTBCRB?player_id=42" for 127.0.0.1 at 2025-06-27 15:14:12 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[1, 0], [1, 1]], "player_id"=>"42", "room_code"=>"NTBCRB", "game"=>{"positions"=>[[1, 0], [1, 1]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'NTBCRB' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 25 AND "players"."id" = 42 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 42 AND "player_game_states"."room_code" = 'NTBCRB' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.9ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false}]]', "score" = 20, "updated_at" = '2025-06-27 19:14:12.851244' WHERE "player_game_states"."id" = 17 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 37ms (Views: 0.2ms | ActiveRecord: 1.3ms (4 queries, 0 cached) | GC: 0.2ms)


Started POST "/game/collect_apples/NTBCRB?player_id=42" for 127.0.0.1 at 2025-06-27 15:14:14 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[2, 1], [2, 2]], "player_id"=>"42", "room_code"=>"NTBCRB", "game"=>{"positions"=>[[2, 1], [2, 2]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'NTBCRB' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 25 AND "players"."id" = 42 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 42 AND "player_game_states"."room_code" = 'NTBCRB' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false}]]', "score" = 30, "updated_at" = '2025-06-27 19:14:14.816567' WHERE "player_game_states"."id" = 17 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 30ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 1.3ms)


Started POST "/game/collect_apples/NTBCRB?player_id=42" for 127.0.0.1 at 2025-06-27 15:14:17 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[3, 2], [4, 2], [5, 2]], "player_id"=>"42", "room_code"=>"NTBCRB", "game"=>{"positions"=>[[3, 2], [4, 2], [5, 2]]}}
  [1m[36mGameRoom Load (0.4ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'NTBCRB' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 25 AND "players"."id" = 42 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.2ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 42 AND "player_game_states"."room_code" = 'NTBCRB' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false}]]', "score" = 40, "updated_at" = '2025-06-27 19:14:17.326688' WHERE "player_game_states"."id" = 17 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 43ms (Views: 0.2ms | ActiveRecord: 1.4ms (4 queries, 0 cached) | GC: 1.8ms)


Started POST "/game/collect_apples/NTBCRB?player_id=42" for 127.0.0.1 at 2025-06-27 15:14:19 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[3, 0], [3, 1], [3, 3]], "player_id"=>"42", "room_code"=>"NTBCRB", "game"=>{"positions"=>[[3, 0], [3, 1], [3, 3]]}}
  [1m[36mGameRoom Load (0.4ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'NTBCRB' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 25 AND "players"."id" = 42 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 42 AND "player_game_states"."room_code" = 'NTBCRB' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (1.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false}]]', "score" = 50, "updated_at" = '2025-06-27 19:14:19.214515' WHERE "player_game_states"."id" = 17 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 44ms (Views: 0.2ms | ActiveRecord: 2.1ms (4 queries, 0 cached) | GC: 0.5ms)


Started POST "/game/collect_apples/NTBCRB?player_id=42" for 127.0.0.1 at 2025-06-27 15:14:20 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[1, 4], [2, 4]], "player_id"=>"42", "room_code"=>"NTBCRB", "game"=>{"positions"=>[[1, 4], [2, 4]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'NTBCRB' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 25 AND "players"."id" = 42 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 42 AND "player_game_states"."room_code" = 'NTBCRB' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false}]]', "score" = 60, "updated_at" = '2025-06-27 19:14:20.600755' WHERE "player_game_states"."id" = 17 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 36ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.6ms)


Started POST "/game/collect_apples/NTBCRB?player_id=42" for 127.0.0.1 at 2025-06-27 15:14:22 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 4], [1, 3]], "player_id"=>"42", "room_code"=>"NTBCRB", "game"=>{"positions"=>[[0, 4], [1, 3]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'NTBCRB' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 25 AND "players"."id" = 42 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 42 AND "player_game_states"."room_code" = 'NTBCRB' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false}]]', "score" = 70, "updated_at" = '2025-06-27 19:14:22.494816' WHERE "player_game_states"."id" = 17 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 32ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/NTBCRB?player_id=42" for 127.0.0.1 at 2025-06-27 15:14:26 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 6], [1, 6], [2, 6], [3, 6]], "player_id"=>"42", "room_code"=>"NTBCRB", "game"=>{"positions"=>[[0, 6], [1, 6], [2, 6], [3, 6]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'NTBCRB' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 25 AND "players"."id" = 42 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 42 AND "player_game_states"."room_code" = 'NTBCRB' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false}]]', "score" = 80, "updated_at" = '2025-06-27 19:14:26.236333' WHERE "player_game_states"."id" = 17 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 36ms (Views: 0.4ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 1.2ms)


Started POST "/game/collect_apples/NTBCRB?player_id=42" for 127.0.0.1 at 2025-06-27 15:14:28 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[1, 5], [2, 5], [3, 5]], "player_id"=>"42", "room_code"=>"NTBCRB", "game"=>{"positions"=>[[1, 5], [2, 5], [3, 5]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'NTBCRB' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 25 AND "players"."id" = 42 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 42 AND "player_game_states"."room_code" = 'NTBCRB' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false}]]', "score" = 90, "updated_at" = '2025-06-27 19:14:28.109970' WHERE "player_game_states"."id" = 17 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 31ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 1.3ms)


Started POST "/game/collect_apples/NTBCRB?player_id=42" for 127.0.0.1 at 2025-06-27 15:14:29 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 5], [0, 7], [1, 7]], "player_id"=>"42", "room_code"=>"NTBCRB", "game"=>{"positions"=>[[0, 5], [0, 7], [1, 7]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'NTBCRB' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 25 AND "players"."id" = 42 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 42 AND "player_game_states"."room_code" = 'NTBCRB' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false}]]', "score" = 100, "updated_at" = '2025-06-27 19:14:29.984110' WHERE "player_game_states"."id" = 17 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 32ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.5ms)


Started POST "/game/player_finished/NTBCRB?player_id=42" for 127.0.0.1 at 2025-06-27 15:14:31 -0400
Processing by GameController#player_finished as */*
  Parameters: {"player_id"=>"42", "room_code"=>"NTBCRB", "game"=>{}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'NTBCRB' LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:179:in `player_finished'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 25 AND "players"."id" = 42 LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:180:in `player_finished'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 42 AND "player_game_states"."room_code" = 'NTBCRB' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:187:in `player_finished'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "updated_at" = '2025-06-27 19:14:31.091103', "finished" = 1, "final_score" = 100 WHERE "player_game_states"."id" = 17 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:187:in `player_finished'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:187:in `player_finished'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 25 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:190:in `all?'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 41 AND "player_game_states"."room_code" = 'NTBCRB' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 36ms (Views: 0.1ms | ActiveRecord: 1.3ms (6 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/status/NTBCRB" for 127.0.0.1 at 2025-06-27 15:14:34 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"NTBCRB"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'NTBCRB' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 25 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 25[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 25[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 35ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/NTBCRB" for 127.0.0.1 at 2025-06-27 15:14:37 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"NTBCRB"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'NTBCRB' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 25 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 25[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 25[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 36ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Writing application-3cd3c8f0.js.map
Writing application-cd134439.js
Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:15:53 -0400
Started GET "/game/status/NTBCRB" for 127.0.0.1 at 2025-06-27 15:15:53 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
  
ActionController::RoutingError (No route matches [GET] "/game/status/NTBCRB"):
  
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (2.5ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 25 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 25 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 25 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 25[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 13.8ms | GC: 6.1ms)
  Rendered layout layouts/application.html.erb (Duration: 15.4ms | GC: 6.8ms)
Completed 200 OK in 121ms (Views: 16.1ms | ActiveRecord: 4.7ms (7 queries, 2 cached) | GC: 16.1ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:15:53 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 25 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 25 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.2ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 25 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 25[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 10.8ms | GC: 6.9ms)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | GC: 6.9ms)
Completed 200 OK in 41ms (Views: 10.9ms | ActiveRecord: 0.8ms (7 queries, 2 cached) | GC: 12.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 15:15:53 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/cleanup_rooms?delete_all=true" for 127.0.0.1 at 2025-06-27 15:15:55 -0400
Processing by GameController#cleanup_rooms as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "delete_all"=>"true"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 25 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 25 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 25 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayer Load (0.5ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 25 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameMove Load (0.2ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."player_id" = 41 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 41 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayerGameState Destroy (0.1ms)[0m  [1m[31mDELETE FROM "player_game_states" WHERE "player_game_states"."id" = 16 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayer Destroy (0.1ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 41 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameMove Load (0.1ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."player_id" = 42 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 42 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayerGameState Destroy (0.0ms)[0m  [1m[31mDELETE FROM "player_game_states" WHERE "player_game_states"."id" = 17 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayer Destroy (0.0ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 42 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameMove Load (0.0ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."game_room_id" = 25 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameBoard Load (0.0ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'NTBCRB' /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameBoard Destroy (0.0ms)[0m  [1m[31mDELETE FROM "game_boards" WHERE "game_boards"."id" = 26 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameRoom Destroy (0.0ms)[0m  [1m[31mDELETE FROM "game_rooms" WHERE "game_rooms"."id" = 25 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 62ms (ActiveRecord: 2.1ms (18 queries, 1 cached) | GC: 8.2ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:15:56 -0400
Processing by GameController#multiplayer as TURBO_STREAM
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.8ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.3ms)
Completed 200 OK in 26ms (Views: 2.2ms | ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.5ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:15:58 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.4ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.4ms)
Completed 200 OK in 36ms (Views: 2.8ms | ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.4ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:15:58 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 29ms (Views: 2.1ms | ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.3ms)


Started POST "/game/create_room" for 127.0.0.1 at 2025-06-27 15:16:01 -0400
Processing by GameController#create_room as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "game_room"=>{"name"=>"test room", "max_players"=>"2"}, "commit"=>"Create Room"}
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
Cleaned up 0 rooms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Exists? (2.7ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' LIMIT 1 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Create (0.1ms)[0m  [1m[32mINSERT INTO "game_rooms" ("name", "room_code", "max_players", "status", "created_at", "updated_at") VALUES ('test room', 'PGWKDS', 2, NULL, '2025-06-27 19:16:01.312237', '2025-06-27 19:16:01.312237') RETURNING "id" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
Redirected to http://127.0.0.1:3000/game/join/PGWKDS
Completed 302 Found in 39ms (ActiveRecord: 3.0ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/join/PGWKDS" for 127.0.0.1 at 2025-06-27 15:16:01 -0400
Processing by GameController#join_room as TURBO_STREAM
  Parameters: {"room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 26 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 26[0m
  ↳ app/models/game_room.rb:12:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.0ms)
Completed 200 OK in 26ms (Views: 2.8ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)


Started POST "/game/join/PGWKDS" for 127.0.0.1 at 2025-06-27 15:16:03 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris"}, "commit"=>"Join Game", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.5ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 26 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 0
Room max players: 2
Player params: {"name"=>"chris"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 26[0m
  ↳ app/models/game_room.rb:12:in `full?'
  [1m[36mPlayer Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 26 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 26 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 26 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (0.6ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (26, 'chris', 0, '2025-06-27 19:16:03.905385', '2025-06-27 19:16:03.905385') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 43
Redirected to http://127.0.0.1:3000/game/waiting/PGWKDS/43
Completed 302 Found in 64ms (ActiveRecord: 1.6ms (7 queries, 3 cached) | GC: 5.2ms)


Started GET "/game/waiting/PGWKDS/43" for 127.0.0.1 at 2025-06-27 15:16:03 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"PGWKDS", "player_id"=>"43"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 43 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 26 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 26[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 2.3ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.5ms)
Completed 200 OK in 26ms (Views: 2.9ms | ActiveRecord: 0.2ms (5 queries, 1 cached) | GC: 0.5ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:16:07 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 26 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 26 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 26 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 26[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 5.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.3ms | GC: 0.0ms)
Completed 200 OK in 33ms (Views: 5.3ms | ActiveRecord: 0.5ms (7 queries, 2 cached) | GC: 0.3ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 15:16:07 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/join/PGWKDS?room_code=PGWKDS&commit=Join+Room" for 127.0.0.1 at 2025-06-27 15:16:10 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"PGWKDS", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 26 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 26[0m
  ↳ app/models/game_room.rb:12:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.2ms)
Completed 200 OK in 29ms (Views: 2.3ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.2ms)


Started POST "/game/join/PGWKDS" for 127.0.0.1 at 2025-06-27 15:16:13 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris2"}, "commit"=>"Join Game", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 26 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 1
Room max players: 2
Player params: {"name"=>"chris2"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 26[0m
  ↳ app/models/game_room.rb:12:in `full?'
  [1m[36mPlayer Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 26 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 26 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 26 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (1.5ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (26, 'chris2', 0, '2025-06-27 19:16:13.629079', '2025-06-27 19:16:13.629079') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 44
Redirected to http://127.0.0.1:3000/game/waiting/PGWKDS/44
Completed 302 Found in 42ms (ActiveRecord: 2.0ms (7 queries, 3 cached) | GC: 0.3ms)


Started GET "/game/waiting/PGWKDS/44" for 127.0.0.1 at 2025-06-27 15:16:13 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"PGWKDS", "player_id"=>"44"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 26 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 26[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 26ms (Views: 1.8ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/waiting/PGWKDS/43" for 127.0.0.1 at 2025-06-27 15:16:16 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"PGWKDS", "player_id"=>"43"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 43 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 26 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 26[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 2.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.0ms)
Completed 200 OK in 34ms (Views: 3.2ms | ActiveRecord: 0.2ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/status/PGWKDS" for 127.0.0.1 at 2025-06-27 15:16:16 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 26 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 26[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 26[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 38ms (Views: 0.1ms | ActiveRecord: 0.5ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/room/PGWKDS?player_id=43" for 127.0.0.1 at 2025-06-27 15:16:17 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"43", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 43 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 26 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 26[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 ORDER BY "players"."id" ASC LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:78
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 3.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 34ms (Views: 3.7ms | ActiveRecord: 0.4ms (6 queries, 1 cached) | GC: 0.0ms)


Started POST "/game/start/PGWKDS?player_id=43" for 127.0.0.1 at 2025-06-27 15:16:18 -0400
Processing by GameController#start_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player_id"=>"43", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:74:in `start_game'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 26 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' AND "game_rooms"."id" != 26 LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Update (0.0ms)[0m  [1m[33mUPDATE "game_rooms" SET "status" = 'playing', "updated_at" = '2025-06-27 19:16:18.410624' WHERE "game_rooms"."id" = 26 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
Redirected to http://127.0.0.1:3000/game/room/PGWKDS?player_id=43
Completed 302 Found in 45ms (ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 7.5ms)


Started GET "/game/room/PGWKDS?player_id=43" for 127.0.0.1 at 2025-06-27 15:16:18 -0400
Processing by GameController#room as TURBO_STREAM
  Parameters: {"player_id"=>"43", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 43 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 26 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.4ms)
Completed 200 OK in 25ms (Views: 2.0ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.4ms)


Started GET "/game/board/PGWKDS?player_id=43" for 127.0.0.1 at 2025-06-27 15:16:18 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"43", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 43 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.0ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mGameBoard Create (0.5ms)[0m  [1m[32mINSERT INTO "game_boards" ("room_code", "board_state", "created_at") VALUES ('PGWKDS', '[[{"fruit":"🍎","value":4},{"fruit":"🍎","value":1},{"fruit":"🍎","value":4},{"fruit":"🍎","value":3},{"fruit":"🍎","value":3},{"fruit":"🍎","value":5},{"fruit":"🍎","value":4},{"fruit":"🍎","value":8},{"fruit":"🍎","value":2},{"fruit":"🍎","value":9}],[{"fruit":"🍎","value":1},{"fruit":"🍎","value":2},{"fruit":"🍎","value":2},{"fruit":"🍎","value":5},{"fruit":"🍎","value":4},{"fruit":"🍎","value":4},{"fruit":"🍎","value":7},{"fruit":"🍎","value":2},{"fruit":"🍎","value":6},{"fruit":"🍎","value":3}],[{"fruit":"🍎","value":9},{"fruit":"🍎","value":8},{"fruit":"🍎","value":2},{"fruit":"🍎","value":5},{"fruit":"🍎","value":6},{"fruit":"🍎","value":9},{"fruit":"🍎","value":9},{"fruit":"🍎","value":2},{"fruit":"🍎","value":7},{"fruit":"🍎","value":9}],[{"fruit":"🍎","value":2},{"fruit":"🍎","value":2},{"fruit":"🍎","value":4},{"fruit":"🍎","value":5},{"fruit":"🍎","value":1},{"fruit":"🍎","value":3},{"fruit":"🍎","value":5},{"fruit":"🍎","value":3},{"fruit":"🍎","value":4},{"fruit":"🍎","value":2}],[{"fruit":"🍎","value":2},{"fruit":"🍎","value":5},{"fruit":"🍎","value":4},{"fruit":"🍎","value":8},{"fruit":"🍎","value":9},{"fruit":"🍎","value":9},{"fruit":"🍎","value":1},{"fruit":"🍎","value":7},{"fruit":"🍎","value":6},{"fruit":"🍎","value":4}],[{"fruit":"🍎","value":3},{"fruit":"🍎","value":6},{"fruit":"🍎","value":5},{"fruit":"🍎","value":4},{"fruit":"🍎","value":9},{"fruit":"🍎","value":6},{"fruit":"🍎","value":4},{"fruit":"🍎","value":3},{"fruit":"🍎","value":5},{"fruit":"🍎","value":9}],[{"fruit":"🍎","value":9},{"fruit":"🍎","value":3},{"fruit":"🍎","value":9},{"fruit":"🍎","value":3},{"fruit":"🍎","value":9},{"fruit":"🍎","value":6},{"fruit":"🍎","value":5},{"fruit":"🍎","value":8},{"fruit":"🍎","value":1},{"fruit":"🍎","value":1}],[{"fruit":"🍎","value":3},{"fruit":"🍎","value":6},{"fruit":"🍎","value":8},{"fruit":"🍎","value":7},{"fruit":"🍎","value":1},{"fruit":"🍎","value":1},{"fruit":"🍎","value":2},{"fruit":"🍎","value":6},{"fruit":"🍎","value":9},{"fruit":"🍎","value":6}],[{"fruit":"🍎","value":9},{"fruit":"🍎","value":3},{"fruit":"🍎","value":9},{"fruit":"🍎","value":2},{"fruit":"🍎","value":8},{"fruit":"🍎","value":7},{"fruit":"🍎","value":6},{"fruit":"🍎","value":3},{"fruit":"🍎","value":5},{"fruit":"🍎","value":1}],[{"fruit":"🍎","value":2},{"fruit":"🍎","value":5},{"fruit":"🍎","value":7},{"fruit":"🍎","value":5},{"fruit":"🍎","value":2},{"fruit":"🍎","value":1},{"fruit":"🍎","value":5},{"fruit":"🍎","value":5},{"fruit":"🍎","value":8},{"fruit":"🍎","value":1}]]', '2025-06-27 19:16:18.501545') RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 43 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayer Load (1.7ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."id" = 43 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayerGameState Create (0.1ms)[0m  [1m[32mINSERT INTO "player_game_states" ("player_id", "room_code", "board_state", "score", "time_remaining", "created_at", "updated_at", "finished", "final_score", "needs_new_board") VALUES (43, 'PGWKDS', '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', 0, 90, '2025-06-27 19:16:18.507511', '2025-06-27 19:16:18.507511', NULL, NULL, 0) RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
Completed 200 OK in 37ms (Views: 0.2ms | ActiveRecord: 2.7ms (7 queries, 0 cached) | GC: 0.7ms)


Started GET "/game/waiting/PGWKDS/44" for 127.0.0.1 at 2025-06-27 15:16:19 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"PGWKDS", "player_id"=>"44"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 26 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 26[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 37ms (Views: 2.6ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 0.7ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 15:16:19 -0400
Started GET "/game/status/PGWKDS" for 127.0.0.1 at 2025-06-27 15:16:19 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 26 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 26[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 26[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 43ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 3.8ms)


Started GET "/game/room/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:16:19 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 26 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 1.4ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.6ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 15:16:20 -0400
Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:16:20 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayer Load (1.2ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayerGameState Create (0.1ms)[0m  [1m[32mINSERT INTO "player_game_states" ("player_id", "room_code", "board_state", "score", "time_remaining", "created_at", "updated_at", "finished", "final_score", "needs_new_board") VALUES (44, 'PGWKDS', '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', 0, 90, '2025-06-27 19:16:20.132841', '2025-06-27 19:16:20.132841', NULL, NULL, 0) RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
Completed 200 OK in 50ms (Views: 0.2ms | ActiveRecord: 1.8ms (6 queries, 0 cached) | GC: 3.8ms)


Started POST "/game/collect_apples/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:16:26 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[1, 0], [1, 1], [1, 2], [1, 3]], "player_id"=>"44", "room_code"=>"PGWKDS", "game"=>{"positions"=>[[1, 0], [1, 1], [1, 2], [1, 3]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 4, "updated_at" = '2025-06-27 19:16:26.152799' WHERE "player_game_states"."id" = 19 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 37ms (Views: 0.3ms | ActiveRecord: 1.2ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:16:27 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 2], [0, 3], [0, 4]], "player_id"=>"44", "room_code"=>"PGWKDS", "game"=>{"positions"=>[[0, 2], [0, 3], [0, 4]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.2ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 7, "updated_at" = '2025-06-27 19:16:27.528145' WHERE "player_game_states"."id" = 19 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 35ms (Views: 0.2ms | ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 1.3ms)


Started POST "/game/collect_apples/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:16:29 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 1], [0, 5], [0, 6]], "player_id"=>"44", "room_code"=>"PGWKDS", "game"=>{"positions"=>[[0, 1], [0, 5], [0, 6]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 10, "updated_at" = '2025-06-27 19:16:29.679691' WHERE "player_game_states"."id" = 19 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 37ms (Views: 0.2ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.4ms)


Started POST "/game/collect_apples/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:16:31 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[2, 1], [2, 2]], "player_id"=>"44", "room_code"=>"PGWKDS", "game"=>{"positions"=>[[2, 1], [2, 2]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 12, "updated_at" = '2025-06-27 19:16:31.323388' WHERE "player_game_states"."id" = 19 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 33ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.7ms)


Started POST "/game/collect_apples/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:16:32 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[2, 3], [3, 3]], "player_id"=>"44", "room_code"=>"PGWKDS", "game"=>{"positions"=>[[2, 3], [3, 3]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 14, "updated_at" = '2025-06-27 19:16:32.517457' WHERE "player_game_states"."id" = 19 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 35ms (Views: 0.6ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 2.6ms)


Started POST "/game/collect_apples/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:16:34 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[3, 1], [3, 2], [3, 4], [3, 5]], "player_id"=>"44", "room_code"=>"PGWKDS", "game"=>{"positions"=>[[3, 1], [3, 2], [3, 4], [3, 5]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 18, "updated_at" = '2025-06-27 19:16:34.381219' WHERE "player_game_states"."id" = 19 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 40ms (Views: 0.3ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.5ms)


Started POST "/game/collect_apples/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:16:35 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[1, 4], [2, 4]], "player_id"=>"44", "room_code"=>"PGWKDS", "game"=>{"positions"=>[[1, 4], [2, 4]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.9ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 20, "updated_at" = '2025-06-27 19:16:35.226672' WHERE "player_game_states"."id" = 19 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 37ms (Views: 0.2ms | ActiveRecord: 1.4ms (4 queries, 0 cached) | GC: 1.1ms)


Started POST "/game/collect_apples/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:16:37 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[3, 0], [3, 6], [3, 7]], "player_id"=>"44", "room_code"=>"PGWKDS", "game"=>{"positions"=>[[3, 0], [3, 6], [3, 7]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 23, "updated_at" = '2025-06-27 19:16:37.510326' WHERE "player_game_states"."id" = 19 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 34ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:16:40 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[2, 6], [4, 6]], "player_id"=>"44", "room_code"=>"PGWKDS", "game"=>{"positions"=>[[2, 6], [4, 6]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.3ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 25, "updated_at" = '2025-06-27 19:16:40.225598' WHERE "player_game_states"."id" = 19 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 24ms (Views: 0.1ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.9ms)


Started POST "/game/collect_apples/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:16:41 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[5, 5], [5, 6]], "player_id"=>"44", "room_code"=>"PGWKDS", "game"=>{"positions"=>[[5, 5], [5, 6]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 27, "updated_at" = '2025-06-27 19:16:41.428830' WHERE "player_game_states"."id" = 19 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 41ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 1.2ms)


Started POST "/game/collect_apples/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:16:42 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[4, 7], [5, 7]], "player_id"=>"44", "room_code"=>"PGWKDS", "game"=>{"positions"=>[[4, 7], [5, 7]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.9ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 29, "updated_at" = '2025-06-27 19:16:42.087057' WHERE "player_game_states"."id" = 19 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 1.3ms (4 queries, 0 cached) | GC: 1.0ms)


Started POST "/game/collect_apples/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:16:43 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[2, 7], [6, 7]], "player_id"=>"44", "room_code"=>"PGWKDS", "game"=>{"positions"=>[[2, 7], [6, 7]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.9ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 31, "updated_at" = '2025-06-27 19:16:43.303503' WHERE "player_game_states"."id" = 19 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 47ms (Views: 0.2ms | ActiveRecord: 1.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:16:44 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[4, 8], [4, 9]], "player_id"=>"44", "room_code"=>"PGWKDS", "game"=>{"positions"=>[[4, 8], [4, 9]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 33, "updated_at" = '2025-06-27 19:16:44.054920' WHERE "player_game_states"."id" = 19 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 2.4ms)


Started POST "/game/collect_apples/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:16:45 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 7], [1, 7]], "player_id"=>"44", "room_code"=>"PGWKDS", "game"=>{"positions"=>[[0, 7], [1, 7]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 35, "updated_at" = '2025-06-27 19:16:45.419485' WHERE "player_game_states"."id" = 19 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 39ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.4ms)


Started POST "/game/collect_apples/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:16:46 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[3, 8], [5, 8], [6, 8]], "player_id"=>"44", "room_code"=>"PGWKDS", "game"=>{"positions"=>[[3, 8], [5, 8], [6, 8]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 38, "updated_at" = '2025-06-27 19:16:46.892633' WHERE "player_game_states"."id" = 19 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 34ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.5ms)


Started POST "/game/collect_apples/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:16:47 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[5, 9], [6, 9]], "player_id"=>"44", "room_code"=>"PGWKDS", "game"=>{"positions"=>[[5, 9], [6, 9]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.2ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":true}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 40, "updated_at" = '2025-06-27 19:16:47.766554' WHERE "player_game_states"."id" = 19 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 37ms (Views: 0.3ms | ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:16:48 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[6, 4], [7, 4]], "player_id"=>"44", "room_code"=>"PGWKDS", "game"=>{"positions"=>[[6, 4], [7, 4]]}}
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":true}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 42, "updated_at" = '2025-06-27 19:16:48.835908' WHERE "player_game_states"."id" = 19 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 35ms (Views: 0.3ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.8ms)


Started POST "/game/collect_apples/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:16:49 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[6, 3], [7, 3]], "player_id"=>"44", "room_code"=>"PGWKDS", "game"=>{"positions"=>[[6, 3], [7, 3]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":true}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 44, "updated_at" = '2025-06-27 19:16:49.854475' WHERE "player_game_states"."id" = 19 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 32ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.4ms)


Started POST "/game/collect_apples/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:16:51 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[8, 3], [8, 4]], "player_id"=>"44", "room_code"=>"PGWKDS", "game"=>{"positions"=>[[8, 3], [8, 4]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.8ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":true}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 46, "updated_at" = '2025-06-27 19:16:51.293784' WHERE "player_game_states"."id" = 19 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 28ms (Views: 0.2ms | ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 0.3ms)


Started POST "/game/collect_apples/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:16:52 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[8, 5], [9, 4], [9, 5]], "player_id"=>"44", "room_code"=>"PGWKDS", "game"=>{"positions"=>[[8, 5], [9, 4], [9, 5]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":true}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 49, "updated_at" = '2025-06-27 19:16:52.430231' WHERE "player_game_states"."id" = 19 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 37ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:16:54 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[9, 3], [9, 6]], "player_id"=>"44", "room_code"=>"PGWKDS", "game"=>{"positions"=>[[9, 3], [9, 6]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (1.3ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":true}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false}]]', "score" = 51, "updated_at" = '2025-06-27 19:16:54.215518' WHERE "player_game_states"."id" = 19 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 41ms (Views: 0.2ms | ActiveRecord: 1.7ms (4 queries, 0 cached) | GC: 0.6ms)


Started POST "/game/collect_apples/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:16:56 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[3, 9], [7, 9], [8, 9], [9, 9]], "player_id"=>"44", "room_code"=>"PGWKDS", "game"=>{"positions"=>[[3, 9], [7, 9], [8, 9], [9, 9]]}}
  [1m[36mGameRoom Load (0.4ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":true}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":true}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":true}]]', "score" = 55, "updated_at" = '2025-06-27 19:16:56.307650' WHERE "player_game_states"."id" = 19 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 27ms (Views: 0.2ms | ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 0.3ms)


Started POST "/game/request_new_board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:16:56 -0400
Processing by GameController#request_new_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS", "game"=>{}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:211:in `request_new_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:212:in `request_new_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:248:in `request_new_board'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "updated_at" = '2025-06-27 19:16:56.357868', "needs_new_board" = 1 WHERE "player_game_states"."id" = 19 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:248:in `request_new_board'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:248:in `request_new_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" != 44 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:251:in `all?'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 43 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mGameBoard Create (0.4ms)[0m  [1m[32mINSERT INTO "game_boards" ("room_code", "board_state", "created_at") VALUES ('PGWKDS', '[[{"fruit":"🍎","value":2},{"fruit":"🍎","value":8},{"fruit":"🍎","value":9},{"fruit":"🍎","value":7},{"fruit":"🍎","value":5},{"fruit":"🍎","value":4},{"fruit":"🍎","value":3},{"fruit":"🍎","value":1},{"fruit":"🍎","value":9},{"fruit":"🍎","value":6}],[{"fruit":"🍎","value":6},{"fruit":"🍎","value":4},{"fruit":"🍎","value":6},{"fruit":"🍎","value":4},{"fruit":"🍎","value":8},{"fruit":"🍎","value":4},{"fruit":"🍎","value":1},{"fruit":"🍎","value":2},{"fruit":"🍎","value":8},{"fruit":"🍎","value":1}],[{"fruit":"🍎","value":6},{"fruit":"🍎","value":3},{"fruit":"🍎","value":7},{"fruit":"🍎","value":9},{"fruit":"🍎","value":6},{"fruit":"🍎","value":5},{"fruit":"🍎","value":8},{"fruit":"🍎","value":6},{"fruit":"🍎","value":1},{"fruit":"🍎","value":7}],[{"fruit":"🍎","value":2},{"fruit":"🍎","value":3},{"fruit":"🍎","value":6},{"fruit":"🍎","value":9},{"fruit":"🍎","value":4},{"fruit":"🍎","value":1},{"fruit":"🍎","value":7},{"fruit":"🍎","value":1},{"fruit":"🍎","value":4},{"fruit":"🍎","value":9}],[{"fruit":"🍎","value":9},{"fruit":"🍎","value":7},{"fruit":"🍎","value":5},{"fruit":"🍎","value":7},{"fruit":"🍎","value":9},{"fruit":"🍎","value":1},{"fruit":"🍎","value":7},{"fruit":"🍎","value":6},{"fruit":"🍎","value":8},{"fruit":"🍎","value":7}],[{"fruit":"🍎","value":4},{"fruit":"🍎","value":8},{"fruit":"🍎","value":5},{"fruit":"🍎","value":4},{"fruit":"🍎","value":1},{"fruit":"🍎","value":7},{"fruit":"🍎","value":2},{"fruit":"🍎","value":4},{"fruit":"🍎","value":8},{"fruit":"🍎","value":9}],[{"fruit":"🍎","value":1},{"fruit":"🍎","value":8},{"fruit":"🍎","value":3},{"fruit":"🍎","value":9},{"fruit":"🍎","value":3},{"fruit":"🍎","value":6},{"fruit":"🍎","value":8},{"fruit":"🍎","value":5},{"fruit":"🍎","value":7},{"fruit":"🍎","value":3}],[{"fruit":"🍎","value":3},{"fruit":"🍎","value":7},{"fruit":"🍎","value":3},{"fruit":"🍎","value":7},{"fruit":"🍎","value":3},{"fruit":"🍎","value":5},{"fruit":"🍎","value":7},{"fruit":"🍎","value":8},{"fruit":"🍎","value":8},{"fruit":"🍎","value":2}],[{"fruit":"🍎","value":6},{"fruit":"🍎","value":2},{"fruit":"🍎","value":8},{"fruit":"🍎","value":4},{"fruit":"🍎","value":9},{"fruit":"🍎","value":2},{"fruit":"🍎","value":4},{"fruit":"🍎","value":1},{"fruit":"🍎","value":4},{"fruit":"🍎","value":1}],[{"fruit":"🍎","value":8},{"fruit":"🍎","value":3},{"fruit":"🍎","value":6},{"fruit":"🍎","value":4},{"fruit":"🍎","value":5},{"fruit":"🍎","value":1},{"fruit":"🍎","value":9},{"fruit":"🍎","value":5},{"fruit":"🍎","value":1},{"fruit":"🍎","value":6}]]', '2025-06-27 19:16:56.363112') RETURNING "id" /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
Completed 200 OK in 42ms (Views: 0.2ms | ActiveRecord: 1.5ms (7 queries, 0 cached) | GC: 0.4ms)


Started GET "/game/room/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:16:58 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 26 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 34ms (Views: 1.6ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:16:58 -0400
Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 15:16:58 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 61ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 7.0ms)


Started POST "/game/request_new_board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:17:10 -0400
Processing by GameController#request_new_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS", "game"=>{}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:211:in `request_new_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:212:in `request_new_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mGameBoard Load (0.2ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' AND (created_at > '2025-06-27 19:16:56.363112') ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:225:in `request_new_board'
Completed 200 OK in 40ms (Views: 0.1ms | ActiveRecord: 0.7ms (5 queries, 0 cached) | GC: 2.1ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:17:12 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 41ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.8ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:17:14 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 40ms (Views: 0.2ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.4ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:17:16 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.3ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:17:18 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.2ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.2ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 44ms (Views: 0.2ms | ActiveRecord: 0.7ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:17:20 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 36ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:17:22 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 27ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:17:24 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 40ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 1.4ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:17:26 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.2ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 30ms (Views: 0.2ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.9ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:17:28 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 32ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.3ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:17:30 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.2ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:17:32 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 39ms (Views: 0.2ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:17:34 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.2ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 27ms (Views: 0.2ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:17:36 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 37ms (Views: 0.2ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:17:38 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 28ms (Views: 0.2ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 1.6ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:17:40 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 39ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.6ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:17:42 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 38ms (Views: 0.3ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.4ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:17:44 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 48ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.2ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:17:46 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 0.5ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:17:48 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 40ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:17:50 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:17:52 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 42ms (Views: 0.2ms | ActiveRecord: 2.0ms (4 queries, 0 cached) | GC: 1.7ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:17:54 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 29ms (Views: 0.2ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.6ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:17:56 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 31ms (Views: 0.2ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.4ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:17:58 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 37ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.4ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:18:00 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 38ms (Views: 0.5ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.3ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:18:02 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:18:04 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:18:06 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 34ms (Views: 0.2ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 1.1ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:18:08 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 25ms (Views: 0.2ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 1.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:18:10 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 41ms (Views: 0.2ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.4ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:18:13 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 36ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.3ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:18:14 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.2ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 33ms (Views: 0.5ms | ActiveRecord: 0.5ms (4 queries, 0 cached) | GC: 0.3ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:18:16 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 33ms (Views: 0.2ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:18:18 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 34ms (Views: 0.2ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:18:20 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 41ms (Views: 0.3ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 1.2ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:18:22 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.4ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.8ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.9ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 135ms (Views: 0.6ms | ActiveRecord: 2.2ms (4 queries, 0 cached) | GC: 0.8ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:18:24 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 23ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.4ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:18:26 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 25ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.3ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:18:28 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.2ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 29ms (Views: 0.2ms | ActiveRecord: 0.5ms (4 queries, 0 cached) | GC: 0.5ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:18:30 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:18:32 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.2ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 35ms (Views: 0.2ms | ActiveRecord: 0.5ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:18:34 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 24ms (Views: 0.4ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 1.1ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:18:36 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 24ms (Views: 0.2ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:18:38 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 37ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:18:40 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 30ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:18:42 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 26ms (Views: 0.4ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.6ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:18:44 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 21ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:18:46 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 24ms (Views: 0.1ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:18:48 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 24ms (Views: 0.2ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:18:50 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 24ms (Views: 0.2ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:18:52 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 36ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:18:54 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 25ms (Views: 0.1ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:18:56 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 30ms (Views: 0.2ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.4ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:18:58 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.4ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.4ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (1.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 118ms (Views: 0.7ms | ActiveRecord: 2.1ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:19:00 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.0ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 21ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:19:02 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 24ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:19:04 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 32ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:19:06 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 37ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:19:08 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:19:10 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 24ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.3ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:19:12 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 25ms (Views: 0.2ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:19:14 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.3ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 31ms (Views: 0.2ms | ActiveRecord: 0.5ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:19:16 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 27ms (Views: 0.2ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:19:18 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.4ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 31ms (Views: 0.2ms | ActiveRecord: 0.6ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:19:20 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.2ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 29ms (Views: 0.2ms | ActiveRecord: 0.5ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:19:22 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 28ms (Views: 0.2ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:19:24 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 26ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.3ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:19:26 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 19ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:19:28 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.2ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.2ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (2.6ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 52ms (Views: 1.0ms | ActiveRecord: 3.0ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:19:30 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.4ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.3ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.7ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 119ms (Views: 0.6ms | ActiveRecord: 1.7ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:19:32 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 37ms (Views: 0.2ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:19:34 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 36ms (Views: 0.3ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:19:36 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 37ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:19:38 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 26ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.3ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:19:40 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 39ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:19:42 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 34ms (Views: 0.3ms | ActiveRecord: 0.5ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:19:44 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 35ms (Views: 0.2ms | ActiveRecord: 0.5ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:19:46 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 39ms (Views: 0.2ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:19:48 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 39ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:19:50 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:19:52 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 35ms (Views: 0.3ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.4ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:19:54 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 39ms (Views: 0.2ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:19:56 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.2ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.3ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 67ms (Views: 0.5ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:19:58 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 35ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:20:00 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 39ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:20:02 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 37ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:20:04 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 37ms (Views: 0.2ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:20:06 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 40ms (Views: 0.2ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.4ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:20:08 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 37ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:20:10 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 36ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:20:12 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 35ms (Views: 0.2ms | ActiveRecord: 0.4ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:20:14 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 40ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:20:16 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 43ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:20:18 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 24ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:20:20 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 35ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.3ms)


Started GET "/game/room/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:20:22 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 26 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.0ms)
Completed 200 OK in 28ms (Views: 1.9ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 15:20:22 -0400
Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:20:22 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 49ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 3.9ms)


Started POST "/game/request_new_board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:20:24 -0400
Processing by GameController#request_new_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS", "game"=>{}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:211:in `request_new_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:212:in `request_new_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mGameBoard Load (0.2ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' AND (created_at > '2025-06-27 19:16:56.363112') ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:225:in `request_new_board'
Completed 200 OK in 44ms (Views: 0.1ms | ActiveRecord: 0.5ms (5 queries, 0 cached) | GC: 2.4ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:20:26 -0400
Processing by GameController#multiplayer as HTML
Started GET "/game/board/PGWKDS?player_id=44" for 127.0.0.1 at 2025-06-27 15:20:26 -0400
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (1.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 26 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.1ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 26 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.1ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 26 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 26[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 4.6ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | GC: 0.4ms)
Completed 200 OK in 46ms (Views: 5.4ms | ActiveRecord: 2.1ms (7 queries, 2 cached) | GC: 1.8ms)


Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"44", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 AND "players"."id" = 44 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 AND "player_game_states"."room_code" = 'PGWKDS' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 25ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/cleanup_rooms?delete_all=true" for 127.0.0.1 at 2025-06-27 15:20:28 -0400
Processing by GameController#cleanup_rooms as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "delete_all"=>"true"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 26 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.1ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 26 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.1ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 26 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayer Load (0.5ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 26 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameMove Load (0.0ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."player_id" = 43 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayerGameState Load (0.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 43 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayerGameState Destroy (0.2ms)[0m  [1m[31mDELETE FROM "player_game_states" WHERE "player_game_states"."id" = 18 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayer Destroy (0.1ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 43 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameMove Load (0.1ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."player_id" = 44 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 44 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayerGameState Destroy (0.0ms)[0m  [1m[31mDELETE FROM "player_game_states" WHERE "player_game_states"."id" = 19 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayer Destroy (0.0ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 44 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameMove Load (0.0ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."game_room_id" = 26 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameBoard Load (0.0ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PGWKDS' /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameBoard Destroy (0.0ms)[0m  [1m[31mDELETE FROM "game_boards" WHERE "game_boards"."id" = 27 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameBoard Destroy (0.0ms)[0m  [1m[31mDELETE FROM "game_boards" WHERE "game_boards"."id" = 28 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameRoom Destroy (0.1ms)[0m  [1m[31mDELETE FROM "game_rooms" WHERE "game_rooms"."id" = 26 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 51ms (ActiveRecord: 1.8ms (19 queries, 1 cached) | GC: 1.3ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:20:28 -0400
Processing by GameController#multiplayer as TURBO_STREAM
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 1.6ms | ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)


Writing application-75aa21e1.js.map
Writing application-c66db6dd.css
Writing application-2ce14370.js
Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:20:40 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (1.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 10.8ms | GC: 0.8ms)
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | GC: 0.8ms)
Completed 200 OK in 80ms (Views: 13.4ms | ActiveRecord: 1.9ms (2 queries, 0 cached) | GC: 11.9ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 15:20:40 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/create_room" for 127.0.0.1 at 2025-06-27 15:20:42 -0400
Processing by GameController#create_room as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "game_room"=>{"name"=>"test room", "max_players"=>"2"}, "commit"=>"Create Room"}
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
Cleaned up 0 rooms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' LIMIT 1 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Create (0.1ms)[0m  [1m[32mINSERT INTO "game_rooms" ("name", "room_code", "max_players", "status", "created_at", "updated_at") VALUES ('test room', 'SHXT8P', 2, NULL, '2025-06-27 19:20:42.596566', '2025-06-27 19:20:42.596566') RETURNING "id" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
Redirected to http://127.0.0.1:3000/game/join/SHXT8P
Completed 302 Found in 38ms (ActiveRecord: 1.0ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/join/SHXT8P" for 127.0.0.1 at 2025-06-27 15:20:42 -0400
Processing by GameController#join_room as TURBO_STREAM
  Parameters: {"room_code"=>"SHXT8P"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SHXT8P' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 27 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 27[0m
  ↳ app/models/game_room.rb:12:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 43ms (Views: 2.9ms | ActiveRecord: 0.5ms (4 queries, 1 cached) | GC: 10.7ms)


Started POST "/game/join/SHXT8P" for 127.0.0.1 at 2025-06-27 15:20:46 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris"}, "commit"=>"Join Game", "room_code"=>"SHXT8P"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SHXT8P' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 27 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 0
Room max players: 2
Player params: {"name"=>"chris"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 27[0m
  ↳ app/models/game_room.rb:12:in `full?'
  [1m[36mPlayer Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 27 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 27 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 27 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (0.6ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (27, 'chris', 0, '2025-06-27 19:20:46.546224', '2025-06-27 19:20:46.546224') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 45
Redirected to http://127.0.0.1:3000/game/waiting/SHXT8P/45
Completed 302 Found in 44ms (ActiveRecord: 1.1ms (7 queries, 3 cached) | GC: 0.6ms)


Started GET "/game/waiting/SHXT8P/45" for 127.0.0.1 at 2025-06-27 15:20:46 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"SHXT8P", "player_id"=>"45"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SHXT8P' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 AND "players"."id" = 45 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 27 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 27[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 2.0ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.2ms)
Completed 200 OK in 25ms (Views: 2.5ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 0.4ms)


Started GET "/game/room/PGWKDS?player_id=43" for 127.0.0.1 at 2025-06-27 15:20:50 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"43", "room_code"=>"PGWKDS"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PGWKDS' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
Completed 404 Not Found in 25ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.3ms)


  
ActiveRecord::RecordNotFound (Couldn't find GameRoom with [WHERE "game_rooms"."room_code" = ?]):
  
app/controllers/game_controller.rb:66:in `room'
Started GET "/" for 127.0.0.1 at 2025-06-27 15:20:54 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.9ms)
Completed 200 OK in 28ms (Views: 2.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.6ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:20:56 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.8ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 27 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.1ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 27 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.9ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 27 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 27[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 8.0ms | GC: 4.0ms)
  Rendered layout layouts/application.html.erb (Duration: 10.4ms | GC: 5.5ms)
Completed 200 OK in 64ms (Views: 10.7ms | ActiveRecord: 2.2ms (7 queries, 2 cached) | GC: 17.3ms)


Started GET "/game/join/ROOM_CODE?room_code=SHXT8P&commit=Join+Room" for 127.0.0.1 at 2025-06-27 15:21:01 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"ROOM_CODE", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'ROOM_CODE' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 38ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:21:01 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 27 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 27 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 27 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 27[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.2ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.4ms)
Completed 200 OK in 26ms (Views: 2.5ms | ActiveRecord: 0.2ms (7 queries, 2 cached) | GC: 0.4ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:21:03 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 27 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 27 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 27 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 27[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 3.2ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.1ms)
Completed 200 OK in 37ms (Views: 3.7ms | ActiveRecord: 0.3ms (7 queries, 2 cached) | GC: 0.3ms)


Started GET "/game/join/SHXT8P?room_code=SHXT8P&commit=Join+Room" for 127.0.0.1 at 2025-06-27 15:21:04 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"SHXT8P", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SHXT8P' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 27 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 27[0m
  ↳ app/models/game_room.rb:12:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.0ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.2ms)
Completed 200 OK in 24ms (Views: 2.4ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.2ms)


Started POST "/game/join/SHXT8P" for 127.0.0.1 at 2025-06-27 15:21:05 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris2"}, "commit"=>"Join Game", "room_code"=>"SHXT8P"}
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SHXT8P' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 27 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 1
Room max players: 2
Player params: {"name"=>"chris2"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 27[0m
  ↳ app/models/game_room.rb:12:in `full?'
  [1m[36mPlayer Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 27 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 27 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 27 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (0.5ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (27, 'chris2', 0, '2025-06-27 19:21:06.038742', '2025-06-27 19:21:06.038742') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 46
Redirected to http://127.0.0.1:3000/game/waiting/SHXT8P/46
Completed 302 Found in 41ms (ActiveRecord: 1.0ms (7 queries, 3 cached) | GC: 0.0ms)


Started GET "/game/waiting/SHXT8P/46" for 127.0.0.1 at 2025-06-27 15:21:06 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"SHXT8P", "player_id"=>"46"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SHXT8P' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 AND "players"."id" = 46 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 27 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 27[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 1.9ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/waiting/SHXT8P/45" for 127.0.0.1 at 2025-06-27 15:21:10 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"SHXT8P", "player_id"=>"45"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SHXT8P' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 AND "players"."id" = 45 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 27 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.2ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 27[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 6.7ms | GC: 2.6ms)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | GC: 2.6ms)
Completed 200 OK in 41ms (Views: 8.4ms | ActiveRecord: 0.4ms (5 queries, 1 cached) | GC: 2.6ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 15:21:10 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/status/SHXT8P" for 127.0.0.1 at 2025-06-27 15:21:10 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"SHXT8P"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SHXT8P' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 27 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 27[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 27[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 36ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/room/SHXT8P?player_id=45" for 127.0.0.1 at 2025-06-27 15:21:11 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"45", "room_code"=>"SHXT8P"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SHXT8P' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 AND "players"."id" = 45 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 27 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 27[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 ORDER BY "players"."id" ASC LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:78
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 7.0ms | GC: 2.7ms)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | GC: 2.7ms)
Completed 200 OK in 45ms (Views: 7.3ms | ActiveRecord: 0.5ms (6 queries, 1 cached) | GC: 2.7ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 15:21:11 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/start/SHXT8P?player_id=45" for 127.0.0.1 at 2025-06-27 15:21:12 -0400
Processing by GameController#start_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player_id"=>"45", "room_code"=>"SHXT8P"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SHXT8P' LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:74:in `start_game'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 27 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' AND "game_rooms"."id" != 27 LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Update (0.0ms)[0m  [1m[33mUPDATE "game_rooms" SET "status" = 'playing', "updated_at" = '2025-06-27 19:21:12.332532' WHERE "game_rooms"."id" = 27 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
Redirected to http://127.0.0.1:3000/game/room/SHXT8P?player_id=45
Completed 302 Found in 45ms (ActiveRecord: 1.3ms (4 queries, 0 cached) | GC: 2.2ms)


Started GET "/game/room/SHXT8P?player_id=45" for 127.0.0.1 at 2025-06-27 15:21:12 -0400
Processing by GameController#room as TURBO_STREAM
  Parameters: {"player_id"=>"45", "room_code"=>"SHXT8P"}
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SHXT8P' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 AND "players"."id" = 45 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 27 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.2ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 2.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.8ms | GC: 0.0ms)
Completed 200 OK in 28ms (Views: 3.0ms | ActiveRecord: 0.5ms (4 queries, 0 cached) | GC: 0.8ms)


Started GET "/game/board/SHXT8P?player_id=45" for 127.0.0.1 at 2025-06-27 15:21:12 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"45", "room_code"=>"SHXT8P"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SHXT8P' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 AND "players"."id" = 45 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.3ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'SHXT8P' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mGameBoard Create (0.8ms)[0m  [1m[32mINSERT INTO "game_boards" ("room_code", "board_state", "created_at") VALUES ('SHXT8P', '[[{"fruit":"🍎","value":5},{"fruit":"🍎","value":1},{"fruit":"🍎","value":3},{"fruit":"🍎","value":7},{"fruit":"🍎","value":5},{"fruit":"🍎","value":9},{"fruit":"🍎","value":1},{"fruit":"🍎","value":4},{"fruit":"🍎","value":1},{"fruit":"🍎","value":3}],[{"fruit":"🍎","value":8},{"fruit":"🍎","value":7},{"fruit":"🍎","value":9},{"fruit":"🍎","value":3},{"fruit":"🍎","value":9},{"fruit":"🍎","value":2},{"fruit":"🍎","value":8},{"fruit":"🍎","value":7},{"fruit":"🍎","value":4},{"fruit":"🍎","value":7}],[{"fruit":"🍎","value":6},{"fruit":"🍎","value":1},{"fruit":"🍎","value":8},{"fruit":"🍎","value":3},{"fruit":"🍎","value":8},{"fruit":"🍎","value":6},{"fruit":"🍎","value":7},{"fruit":"🍎","value":8},{"fruit":"🍎","value":2},{"fruit":"🍎","value":9}],[{"fruit":"🍎","value":3},{"fruit":"🍎","value":2},{"fruit":"🍎","value":8},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":2},{"fruit":"🍎","value":6},{"fruit":"🍎","value":3},{"fruit":"🍎","value":2},{"fruit":"🍎","value":5}],[{"fruit":"🍎","value":1},{"fruit":"🍎","value":8},{"fruit":"🍎","value":9},{"fruit":"🍎","value":1},{"fruit":"🍎","value":1},{"fruit":"🍎","value":5},{"fruit":"🍎","value":2},{"fruit":"🍎","value":9},{"fruit":"🍎","value":5},{"fruit":"🍎","value":6}],[{"fruit":"🍎","value":8},{"fruit":"🍎","value":8},{"fruit":"🍎","value":6},{"fruit":"🍎","value":7},{"fruit":"🍎","value":6},{"fruit":"🍎","value":3},{"fruit":"🍎","value":2},{"fruit":"🍎","value":6},{"fruit":"🍎","value":5},{"fruit":"🍎","value":1}],[{"fruit":"🍎","value":2},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":7},{"fruit":"🍎","value":1},{"fruit":"🍎","value":3},{"fruit":"🍎","value":4},{"fruit":"🍎","value":7},{"fruit":"🍎","value":4}],[{"fruit":"🍎","value":6},{"fruit":"🍎","value":8},{"fruit":"🍎","value":9},{"fruit":"🍎","value":7},{"fruit":"🍎","value":7},{"fruit":"🍎","value":2},{"fruit":"🍎","value":3},{"fruit":"🍎","value":2},{"fruit":"🍎","value":4},{"fruit":"🍎","value":2}],[{"fruit":"🍎","value":8},{"fruit":"🍎","value":3},{"fruit":"🍎","value":5},{"fruit":"🍎","value":6},{"fruit":"🍎","value":9},{"fruit":"🍎","value":8},{"fruit":"🍎","value":3},{"fruit":"🍎","value":2},{"fruit":"🍎","value":7},{"fruit":"🍎","value":7}],[{"fruit":"🍎","value":1},{"fruit":"🍎","value":3},{"fruit":"🍎","value":9},{"fruit":"🍎","value":2},{"fruit":"🍎","value":9},{"fruit":"🍎","value":5},{"fruit":"🍎","value":6},{"fruit":"🍎","value":1},{"fruit":"🍎","value":7},{"fruit":"🍎","value":7}]]', '2025-06-27 19:21:12.431233') RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 45 AND "player_game_states"."room_code" = 'SHXT8P' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayer Load (2.4ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."id" = 45 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayerGameState Create (0.2ms)[0m  [1m[32mINSERT INTO "player_game_states" ("player_id", "room_code", "board_state", "score", "time_remaining", "created_at", "updated_at", "finished", "final_score", "needs_new_board") VALUES (45, 'SHXT8P', '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', 0, 90, '2025-06-27 19:21:12.446266', '2025-06-27 19:21:12.446266', NULL, NULL, 0) RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
Completed 200 OK in 55ms (Views: 0.6ms | ActiveRecord: 5.7ms (7 queries, 0 cached) | GC: 1.6ms)


Started GET "/game/waiting/SHXT8P/46" for 127.0.0.1 at 2025-06-27 15:21:14 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"SHXT8P", "player_id"=>"46"}
  [1m[36mGameRoom Load (0.4ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SHXT8P' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 AND "players"."id" = 46 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 27 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 27[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 30ms (Views: 2.2ms | ActiveRecord: 0.5ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/status/SHXT8P" for 127.0.0.1 at 2025-06-27 15:21:14 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"SHXT8P"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SHXT8P' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 27 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 27[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 27[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 0.3ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/room/SHXT8P?player_id=46" for 127.0.0.1 at 2025-06-27 15:21:14 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"46", "room_code"=>"SHXT8P"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SHXT8P' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 AND "players"."id" = 46 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 27 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.0ms)
Completed 200 OK in 31ms (Views: 3.3ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 1.0ms)


Started GET "/game/board/SHXT8P?player_id=46" for 127.0.0.1 at 2025-06-27 15:21:14 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"46", "room_code"=>"SHXT8P"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SHXT8P' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 AND "players"."id" = 46 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'SHXT8P' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 46 AND "player_game_states"."room_code" = 'SHXT8P' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayer Load (2.2ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."id" = 46 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayerGameState Create (0.1ms)[0m  [1m[32mINSERT INTO "player_game_states" ("player_id", "room_code", "board_state", "score", "time_remaining", "created_at", "updated_at", "finished", "final_score", "needs_new_board") VALUES (46, 'SHXT8P', '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', 0, 90, '2025-06-27 19:21:14.838902', '2025-06-27 19:21:14.838902', NULL, NULL, 0) RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
Completed 200 OK in 43ms (Views: 0.7ms | ActiveRecord: 2.6ms (6 queries, 0 cached) | GC: 0.3ms)


Started POST "/game/collect_apples/SHXT8P?player_id=46" for 127.0.0.1 at 2025-06-27 15:21:20 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[2, 0], [3, 0], [4, 0]], "player_id"=>"46", "room_code"=>"SHXT8P", "game"=>{"positions"=>[[2, 0], [3, 0], [4, 0]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SHXT8P' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 AND "players"."id" = 46 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 46 AND "player_game_states"."room_code" = 'SHXT8P' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 3, "updated_at" = '2025-06-27 19:21:20.874626' WHERE "player_game_states"."id" = 21 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 41ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.8ms)


Started POST "/game/collect_apples/SHXT8P?player_id=46" for 127.0.0.1 at 2025-06-27 15:21:21 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[5, 0], [6, 0]], "player_id"=>"46", "room_code"=>"SHXT8P", "game"=>{"positions"=>[[5, 0], [6, 0]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SHXT8P' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 AND "players"."id" = 46 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 46 AND "player_game_states"."room_code" = 'SHXT8P' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 5, "updated_at" = '2025-06-27 19:21:21.485199' WHERE "player_game_states"."id" = 21 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 39ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/SHXT8P?player_id=46" for 127.0.0.1 at 2025-06-27 15:21:22 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[3, 1], [4, 1]], "player_id"=>"46", "room_code"=>"SHXT8P", "game"=>{"positions"=>[[3, 1], [4, 1]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SHXT8P' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.2ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 AND "players"."id" = 46 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 46 AND "player_game_states"."room_code" = 'SHXT8P' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 7, "updated_at" = '2025-06-27 19:21:22.574791' WHERE "player_game_states"."id" = 21 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 36ms (Views: 0.2ms | ActiveRecord: 1.2ms (4 queries, 0 cached) | GC: 2.8ms)


Started POST "/game/collect_apples/SHXT8P?player_id=46" for 127.0.0.1 at 2025-06-27 15:21:24 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[4, 2], [4, 3]], "player_id"=>"46", "room_code"=>"SHXT8P", "game"=>{"positions"=>[[4, 2], [4, 3]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SHXT8P' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 AND "players"."id" = 46 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 46 AND "player_game_states"."room_code" = 'SHXT8P' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.7ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 9, "updated_at" = '2025-06-27 19:21:24.233165' WHERE "player_game_states"."id" = 21 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 31ms (Views: 0.3ms | ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 0.3ms)


Started POST "/game/collect_apples/SHXT8P?player_id=46" for 127.0.0.1 at 2025-06-27 15:21:25 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 2], [0, 3]], "player_id"=>"46", "room_code"=>"SHXT8P", "game"=>{"positions"=>[[0, 2], [0, 3]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SHXT8P' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 AND "players"."id" = 46 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 46 AND "player_game_states"."room_code" = 'SHXT8P' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 11, "updated_at" = '2025-06-27 19:21:25.396762' WHERE "player_game_states"."id" = 21 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 41ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.5ms)


Started POST "/game/collect_apples/SHXT8P?player_id=46" for 127.0.0.1 at 2025-06-27 15:21:26 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 5], [0, 6]], "player_id"=>"46", "room_code"=>"SHXT8P", "game"=>{"positions"=>[[0, 5], [0, 6]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SHXT8P' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 AND "players"."id" = 46 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 46 AND "player_game_states"."room_code" = 'SHXT8P' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 13, "updated_at" = '2025-06-27 19:21:26.240796' WHERE "player_game_states"."id" = 21 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 36ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 2.7ms)


Started POST "/game/collect_apples/SHXT8P?player_id=46" for 127.0.0.1 at 2025-06-27 15:21:26 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[1, 5], [1, 6]], "player_id"=>"46", "room_code"=>"SHXT8P", "game"=>{"positions"=>[[1, 5], [1, 6]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SHXT8P' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 AND "players"."id" = 46 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 46 AND "player_game_states"."room_code" = 'SHXT8P' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 15, "updated_at" = '2025-06-27 19:21:26.986325' WHERE "player_game_states"."id" = 21 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 35ms (Views: 0.2ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.8ms)


Started POST "/game/collect_apples/SHXT8P?player_id=46" for 127.0.0.1 at 2025-06-27 15:21:30 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 4], [0, 7], [0, 8]], "player_id"=>"46", "room_code"=>"SHXT8P", "game"=>{"positions"=>[[0, 4], [0, 7], [0, 8]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SHXT8P' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 AND "players"."id" = 46 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 46 AND "player_game_states"."room_code" = 'SHXT8P' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 18, "updated_at" = '2025-06-27 19:21:30.591980' WHERE "player_game_states"."id" = 21 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 40ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.5ms)


Started POST "/game/collect_apples/SHXT8P?player_id=46" for 127.0.0.1 at 2025-06-27 15:21:32 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 9], [1, 9]], "player_id"=>"46", "room_code"=>"SHXT8P", "game"=>{"positions"=>[[0, 9], [1, 9]]}}
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SHXT8P' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 AND "players"."id" = 46 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 46 AND "player_game_states"."room_code" = 'SHXT8P' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 20, "updated_at" = '2025-06-27 19:21:32.203217' WHERE "player_game_states"."id" = 21 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 35ms (Views: 0.7ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/SHXT8P?player_id=46" for 127.0.0.1 at 2025-06-27 15:21:32 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[2, 7], [2, 8]], "player_id"=>"46", "room_code"=>"SHXT8P", "game"=>{"positions"=>[[2, 7], [2, 8]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SHXT8P' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 AND "players"."id" = 46 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 46 AND "player_game_states"."room_code" = 'SHXT8P' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 22, "updated_at" = '2025-06-27 19:21:33.032021' WHERE "player_game_states"."id" = 21 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 35ms (Views: 0.2ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 2.0ms)


Started POST "/game/collect_apples/SHXT8P?player_id=46" for 127.0.0.1 at 2025-06-27 15:21:33 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[3, 7], [3, 8], [3, 9]], "player_id"=>"46", "room_code"=>"SHXT8P", "game"=>{"positions"=>[[3, 7], [3, 8], [3, 9]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SHXT8P' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 AND "players"."id" = 46 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 46 AND "player_game_states"."room_code" = 'SHXT8P' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 25, "updated_at" = '2025-06-27 19:21:34.034245' WHERE "player_game_states"."id" = 21 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 39ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 2.0ms)


Started POST "/game/collect_apples/SHXT8P?player_id=46" for 127.0.0.1 at 2025-06-27 15:21:35 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[3, 6], [4, 6], [5, 6]], "player_id"=>"46", "room_code"=>"SHXT8P", "game"=>{"positions"=>[[3, 6], [4, 6], [5, 6]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SHXT8P' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 AND "players"."id" = 46 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 46 AND "player_game_states"."room_code" = 'SHXT8P' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.7ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 28, "updated_at" = '2025-06-27 19:21:35.782752' WHERE "player_game_states"."id" = 21 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 37ms (Views: 0.2ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.4ms)


Started POST "/game/collect_apples/SHXT8P?player_id=46" for 127.0.0.1 at 2025-06-27 15:21:36 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[3, 5], [4, 5], [5, 5]], "player_id"=>"46", "room_code"=>"SHXT8P", "game"=>{"positions"=>[[3, 5], [4, 5], [5, 5]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SHXT8P' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 AND "players"."id" = 46 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 46 AND "player_game_states"."room_code" = 'SHXT8P' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 31, "updated_at" = '2025-06-27 19:21:36.796912' WHERE "player_game_states"."id" = 21 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 40ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/SHXT8P?player_id=46" for 127.0.0.1 at 2025-06-27 15:21:38 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[4, 4], [4, 7]], "player_id"=>"46", "room_code"=>"SHXT8P", "game"=>{"positions"=>[[4, 4], [4, 7]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SHXT8P' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 AND "players"."id" = 46 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 46 AND "player_game_states"."room_code" = 'SHXT8P' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (1.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 33, "updated_at" = '2025-06-27 19:21:38.087237' WHERE "player_game_states"."id" = 21 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 42ms (Views: 0.2ms | ActiveRecord: 1.9ms (4 queries, 0 cached) | GC: 0.9ms)


Started POST "/game/collect_apples/SHXT8P?player_id=46" for 127.0.0.1 at 2025-06-27 15:21:39 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[2, 6], [6, 6]], "player_id"=>"46", "room_code"=>"SHXT8P", "game"=>{"positions"=>[[2, 6], [6, 6]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SHXT8P' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 AND "players"."id" = 46 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.7ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 46 AND "player_game_states"."room_code" = 'SHXT8P' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (1.3ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 35, "updated_at" = '2025-06-27 19:21:39.067426' WHERE "player_game_states"."id" = 21 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 48ms (Views: 1.9ms | ActiveRecord: 2.6ms (4 queries, 0 cached) | GC: 0.2ms)


Started POST "/game/collect_apples/SHXT8P?player_id=46" for 127.0.0.1 at 2025-06-27 15:21:39 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[5, 7], [6, 7]], "player_id"=>"46", "room_code"=>"SHXT8P", "game"=>{"positions"=>[[5, 7], [6, 7]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SHXT8P' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 AND "players"."id" = 46 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 46 AND "player_game_states"."room_code" = 'SHXT8P' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 37, "updated_at" = '2025-06-27 19:21:40.016588' WHERE "player_game_states"."id" = 21 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 27ms (Views: 0.1ms | ActiveRecord: 0.6ms (4 queries, 0 cached) | GC: 0.2ms)


Started POST "/game/collect_apples/SHXT8P?player_id=46" for 127.0.0.1 at 2025-06-27 15:21:40 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[4, 8], [5, 8]], "player_id"=>"46", "room_code"=>"SHXT8P", "game"=>{"positions"=>[[4, 8], [5, 8]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SHXT8P' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 AND "players"."id" = 46 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 46 AND "player_game_states"."room_code" = 'SHXT8P' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 39, "updated_at" = '2025-06-27 19:21:41.036296' WHERE "player_game_states"."id" = 21 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 31ms (Views: 0.2ms | ActiveRecord: 0.6ms (4 queries, 0 cached) | GC: 1.0ms)


Started POST "/game/collect_apples/SHXT8P?player_id=46" for 127.0.0.1 at 2025-06-27 15:21:44 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[7, 6], [7, 7], [8, 6], [8, 7]], "player_id"=>"46", "room_code"=>"SHXT8P", "game"=>{"positions"=>[[7, 6], [7, 7], [8, 6], [8, 7]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SHXT8P' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 AND "players"."id" = 46 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 46 AND "player_game_states"."room_code" = 'SHXT8P' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 43, "updated_at" = '2025-06-27 19:21:44.118149' WHERE "player_game_states"."id" = 21 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 41ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.8ms)


Started POST "/game/collect_apples/SHXT8P?player_id=46" for 127.0.0.1 at 2025-06-27 15:21:44 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[7, 5], [8, 5]], "player_id"=>"46", "room_code"=>"SHXT8P", "game"=>{"positions"=>[[7, 5], [8, 5]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SHXT8P' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 AND "players"."id" = 46 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 46 AND "player_game_states"."room_code" = 'SHXT8P' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 45, "updated_at" = '2025-06-27 19:21:44.738182' WHERE "player_game_states"."id" = 21 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 37ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.1ms)


Started POST "/game/request_new_board/SHXT8P?player_id=46" for 127.0.0.1 at 2025-06-27 15:21:45 -0400
Processing by GameController#request_new_board as */*
  Parameters: {"player_id"=>"46", "room_code"=>"SHXT8P", "game"=>{}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SHXT8P' LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:211:in `request_new_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 AND "players"."id" = 46 LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:212:in `request_new_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 46 AND "player_game_states"."room_code" = 'SHXT8P' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:248:in `request_new_board'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "updated_at" = '2025-06-27 19:21:45.800538', "needs_new_board" = 1 WHERE "player_game_states"."id" = 21 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:248:in `request_new_board'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:248:in `request_new_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 AND "players"."id" != 46 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:251:in `all?'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 45 AND "player_game_states"."room_code" = 'SHXT8P' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mGameBoard Create (0.7ms)[0m  [1m[32mINSERT INTO "game_boards" ("room_code", "board_state", "created_at") VALUES ('SHXT8P', '[[{"fruit":"🍎","value":5},{"fruit":"🍎","value":7},{"fruit":"🍎","value":5},{"fruit":"🍎","value":4},{"fruit":"🍎","value":4},{"fruit":"🍎","value":5},{"fruit":"🍎","value":5},{"fruit":"🍎","value":9},{"fruit":"🍎","value":6},{"fruit":"🍎","value":8}],[{"fruit":"🍎","value":9},{"fruit":"🍎","value":2},{"fruit":"🍎","value":8},{"fruit":"🍎","value":5},{"fruit":"🍎","value":1},{"fruit":"🍎","value":3},{"fruit":"🍎","value":9},{"fruit":"🍎","value":4},{"fruit":"🍎","value":2},{"fruit":"🍎","value":3}],[{"fruit":"🍎","value":6},{"fruit":"🍎","value":4},{"fruit":"🍎","value":8},{"fruit":"🍎","value":7},{"fruit":"🍎","value":6},{"fruit":"🍎","value":2},{"fruit":"🍎","value":4},{"fruit":"🍎","value":3},{"fruit":"🍎","value":3},{"fruit":"🍎","value":5}],[{"fruit":"🍎","value":8},{"fruit":"🍎","value":9},{"fruit":"🍎","value":4},{"fruit":"🍎","value":2},{"fruit":"🍎","value":6},{"fruit":"🍎","value":2},{"fruit":"🍎","value":1},{"fruit":"🍎","value":3},{"fruit":"🍎","value":1},{"fruit":"🍎","value":9}],[{"fruit":"🍎","value":1},{"fruit":"🍎","value":4},{"fruit":"🍎","value":1},{"fruit":"🍎","value":6},{"fruit":"🍎","value":7},{"fruit":"🍎","value":2},{"fruit":"🍎","value":1},{"fruit":"🍎","value":9},{"fruit":"🍎","value":1},{"fruit":"🍎","value":4}],[{"fruit":"🍎","value":9},{"fruit":"🍎","value":1},{"fruit":"🍎","value":9},{"fruit":"🍎","value":8},{"fruit":"🍎","value":2},{"fruit":"🍎","value":5},{"fruit":"🍎","value":7},{"fruit":"🍎","value":5},{"fruit":"🍎","value":2},{"fruit":"🍎","value":6}],[{"fruit":"🍎","value":1},{"fruit":"🍎","value":4},{"fruit":"🍎","value":5},{"fruit":"🍎","value":2},{"fruit":"🍎","value":4},{"fruit":"🍎","value":1},{"fruit":"🍎","value":9},{"fruit":"🍎","value":2},{"fruit":"🍎","value":4},{"fruit":"🍎","value":9}],[{"fruit":"🍎","value":8},{"fruit":"🍎","value":1},{"fruit":"🍎","value":3},{"fruit":"🍎","value":5},{"fruit":"🍎","value":4},{"fruit":"🍎","value":4},{"fruit":"🍎","value":6},{"fruit":"🍎","value":5},{"fruit":"🍎","value":5},{"fruit":"🍎","value":5}],[{"fruit":"🍎","value":7},{"fruit":"🍎","value":1},{"fruit":"🍎","value":1},{"fruit":"🍎","value":7},{"fruit":"🍎","value":1},{"fruit":"🍎","value":9},{"fruit":"🍎","value":3},{"fruit":"🍎","value":3},{"fruit":"🍎","value":8},{"fruit":"🍎","value":7}],[{"fruit":"🍎","value":2},{"fruit":"🍎","value":2},{"fruit":"🍎","value":3},{"fruit":"🍎","value":2},{"fruit":"🍎","value":8},{"fruit":"🍎","value":1},{"fruit":"🍎","value":4},{"fruit":"🍎","value":8},{"fruit":"🍎","value":7},{"fruit":"🍎","value":1}]]', '2025-06-27 19:21:45.803888') RETURNING "id" /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
Completed 200 OK in 43ms (Views: 0.1ms | ActiveRecord: 2.0ms (7 queries, 0 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 15:22:09 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/player_finished/SHXT8P?player_id=46" for 127.0.0.1 at 2025-06-27 15:22:50 -0400
Processing by GameController#player_finished as */*
  Parameters: {"player_id"=>"46", "room_code"=>"SHXT8P", "game"=>{}}
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SHXT8P' LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:179:in `player_finished'
  [1m[36mPlayer Load (0.2ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 AND "players"."id" = 46 LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:180:in `player_finished'
  [1m[36mPlayerGameState Load (0.2ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 46 AND "player_game_states"."room_code" = 'SHXT8P' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:187:in `player_finished'
  [1m[36mPlayerGameState Update (0.9ms)[0m  [1m[33mUPDATE "player_game_states" SET "updated_at" = '2025-06-27 19:22:50.956667', "finished" = 1, "final_score" = 45 WHERE "player_game_states"."id" = 21 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:187:in `player_finished'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:187:in `player_finished'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:190:in `all?'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 45 AND "player_game_states"."room_code" = 'SHXT8P' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 54ms (Views: 0.1ms | ActiveRecord: 2.2ms (6 queries, 0 cached) | GC: 2.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:22:54 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 27 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 27 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.9ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 27 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 27[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 3.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | GC: 0.0ms)
Completed 200 OK in 39ms (Views: 4.4ms | ActiveRecord: 1.1ms (7 queries, 2 cached) | GC: 0.8ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:25:02 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.9ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 27 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 27 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 27 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 27[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 5.6ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 6.3ms | GC: 0.4ms)
Completed 200 OK in 46ms (Views: 7.3ms | ActiveRecord: 1.7ms (7 queries, 2 cached) | GC: 3.7ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 15:25:02 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/cleanup_rooms?delete_all=true" for 127.0.0.1 at 2025-06-27 15:25:04 -0400
Processing by GameController#cleanup_rooms as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "delete_all"=>"true"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 27 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 27 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 27 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayer Load (0.4ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 27 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameMove Load (0.0ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."player_id" = 45 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 45 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayerGameState Destroy (0.1ms)[0m  [1m[31mDELETE FROM "player_game_states" WHERE "player_game_states"."id" = 20 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayer Destroy (0.0ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 45 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameMove Load (0.0ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."player_id" = 46 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 46 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayerGameState Destroy (0.0ms)[0m  [1m[31mDELETE FROM "player_game_states" WHERE "player_game_states"."id" = 21 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayer Destroy (0.0ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 46 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameMove Load (0.0ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."game_room_id" = 27 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'SHXT8P' /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameBoard Destroy (0.0ms)[0m  [1m[31mDELETE FROM "game_boards" WHERE "game_boards"."id" = 29 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameBoard Destroy (0.0ms)[0m  [1m[31mDELETE FROM "game_boards" WHERE "game_boards"."id" = 30 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameRoom Destroy (0.0ms)[0m  [1m[31mDELETE FROM "game_rooms" WHERE "game_rooms"."id" = 27 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 62ms (ActiveRecord: 1.9ms (19 queries, 1 cached) | GC: 5.5ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:25:04 -0400
Processing by GameController#multiplayer as TURBO_STREAM
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 2.2ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.5ms)
Completed 200 OK in 21ms (Views: 2.6ms | ActiveRecord: 0.2ms (2 queries, 0 cached) | GC: 0.5ms)


Started POST "/game/create_room" for 127.0.0.1 at 2025-06-27 15:25:06 -0400
Processing by GameController#create_room as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "game_room"=>{"name"=>"test room", "max_players"=>"2"}, "commit"=>"Create Room"}
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
Cleaned up 0 rooms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' LIMIT 1 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Create (0.1ms)[0m  [1m[32mINSERT INTO "game_rooms" ("name", "room_code", "max_players", "status", "created_at", "updated_at") VALUES ('test room', 'HBVAQW', 2, NULL, '2025-06-27 19:25:06.912063', '2025-06-27 19:25:06.912063') RETURNING "id" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
Redirected to http://127.0.0.1:3000/game/join/HBVAQW
Completed 302 Found in 33ms (ActiveRecord: 1.0ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/join/HBVAQW" for 127.0.0.1 at 2025-06-27 15:25:06 -0400
Processing by GameController#join_room as TURBO_STREAM
  Parameters: {"room_code"=>"HBVAQW"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HBVAQW' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 28 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 28[0m
  ↳ app/models/game_room.rb:12:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 26ms (Views: 2.7ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)


Started POST "/game/join/HBVAQW" for 127.0.0.1 at 2025-06-27 15:25:08 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris"}, "commit"=>"Join Game", "room_code"=>"HBVAQW"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HBVAQW' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 28 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 0
Room max players: 2
Player params: {"name"=>"chris"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 28[0m
  ↳ app/models/game_room.rb:12:in `full?'
  [1m[36mPlayer Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 28 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 28 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 28 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (1.1ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (28, 'chris', 0, '2025-06-27 19:25:08.989180', '2025-06-27 19:25:08.989180') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 47
Redirected to http://127.0.0.1:3000/game/waiting/HBVAQW/47
Completed 302 Found in 30ms (ActiveRecord: 1.5ms (7 queries, 3 cached) | GC: 0.6ms)


Started GET "/game/waiting/HBVAQW/47" for 127.0.0.1 at 2025-06-27 15:25:08 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"HBVAQW", "player_id"=>"47"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HBVAQW' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 AND "players"."id" = 47 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 28 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 28[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 2.4ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 0.3ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:25:11 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 28 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 28 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 28 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 28[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 3.3ms | GC: 0.1ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.1ms)
Completed 200 OK in 41ms (Views: 3.7ms | ActiveRecord: 0.3ms (7 queries, 2 cached) | GC: 0.2ms)


Started GET "/game/join/ROOM_CODE?room_code=HBVAQW&commit=Join+Room" for 127.0.0.1 at 2025-06-27 15:25:15 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"ROOM_CODE", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'ROOM_CODE' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 34ms (ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.6ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:25:15 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 28 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 28 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 28 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 28[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 2.2ms | ActiveRecord: 0.2ms (7 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:25:16 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 28 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 28 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 28 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 28[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 7.8ms | GC: 2.8ms)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | GC: 2.8ms)
Completed 200 OK in 36ms (Views: 8.2ms | ActiveRecord: 0.3ms (7 queries, 2 cached) | GC: 2.8ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 15:25:16 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/join/HBVAQW?room_code=HBVAQW&commit=Join+Room" for 127.0.0.1 at 2025-06-27 15:25:17 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"HBVAQW", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HBVAQW' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 28 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 28[0m
  ↳ app/models/game_room.rb:12:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.0ms)
Completed 200 OK in 36ms (Views: 2.6ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)


Started POST "/game/join/HBVAQW" for 127.0.0.1 at 2025-06-27 15:25:19 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris2"}, "commit"=>"Join Game", "room_code"=>"HBVAQW"}
  [1m[36mGameRoom Load (0.4ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HBVAQW' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 28 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 1
Room max players: 2
Player params: {"name"=>"chris2"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 28[0m
  ↳ app/models/game_room.rb:12:in `full?'
  [1m[36mPlayer Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 28 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 28 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 28 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (0.6ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (28, 'chris2', 0, '2025-06-27 19:25:19.766288', '2025-06-27 19:25:19.766288') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 48
Redirected to http://127.0.0.1:3000/game/waiting/HBVAQW/48
Completed 302 Found in 49ms (ActiveRecord: 1.6ms (7 queries, 3 cached) | GC: 1.2ms)


Started GET "/game/waiting/HBVAQW/48" for 127.0.0.1 at 2025-06-27 15:25:19 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"HBVAQW", "player_id"=>"48"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HBVAQW' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 AND "players"."id" = 48 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 28 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 28[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.6ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 1.7ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/waiting/HBVAQW/47" for 127.0.0.1 at 2025-06-27 15:25:23 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"HBVAQW", "player_id"=>"47"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HBVAQW' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 AND "players"."id" = 47 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 28 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 28[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 33ms (Views: 2.6ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 15:25:23 -0400
Started GET "/game/status/HBVAQW" for 127.0.0.1 at 2025-06-27 15:25:23 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"HBVAQW"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HBVAQW' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 28 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 28[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 28[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 46ms (Views: 0.1ms | ActiveRecord: 0.3ms (4 queries, 2 cached) | GC: 0.5ms)


Started GET "/game/room/HBVAQW?player_id=47" for 127.0.0.1 at 2025-06-27 15:25:24 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"47", "room_code"=>"HBVAQW"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HBVAQW' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.3ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 AND "players"."id" = 47 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 28 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 28[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 ORDER BY "players"."id" ASC LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:78
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 3.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.2ms | GC: 0.0ms)
Completed 200 OK in 39ms (Views: 4.2ms | ActiveRecord: 0.6ms (6 queries, 1 cached) | GC: 0.3ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 15:25:24 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/start/HBVAQW?player_id=47" for 127.0.0.1 at 2025-06-27 15:25:25 -0400
Processing by GameController#start_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player_id"=>"47", "room_code"=>"HBVAQW"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HBVAQW' LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:74:in `start_game'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 28 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' AND "game_rooms"."id" != 28 LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Update (0.0ms)[0m  [1m[33mUPDATE "game_rooms" SET "status" = 'playing', "updated_at" = '2025-06-27 19:25:26.001508' WHERE "game_rooms"."id" = 28 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
Redirected to http://127.0.0.1:3000/game/room/HBVAQW?player_id=47
Completed 302 Found in 33ms (ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 1.0ms)


Started GET "/game/room/HBVAQW?player_id=47" for 127.0.0.1 at 2025-06-27 15:25:26 -0400
Processing by GameController#room as TURBO_STREAM
  Parameters: {"player_id"=>"47", "room_code"=>"HBVAQW"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HBVAQW' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 AND "players"."id" = 47 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 28 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 1.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | GC: 0.0ms)
Completed 200 OK in 27ms (Views: 1.6ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.2ms)


Started GET "/game/board/HBVAQW?player_id=47" for 127.0.0.1 at 2025-06-27 15:25:26 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"47", "room_code"=>"HBVAQW"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HBVAQW' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 AND "players"."id" = 47 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.2ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'HBVAQW' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mGameBoard Create (0.4ms)[0m  [1m[32mINSERT INTO "game_boards" ("room_code", "board_state", "created_at") VALUES ('HBVAQW', '[[{"fruit":"🍎","value":9},{"fruit":"🍎","value":1},{"fruit":"🍎","value":9},{"fruit":"🍎","value":5},{"fruit":"🍎","value":2},{"fruit":"🍎","value":6},{"fruit":"🍎","value":7},{"fruit":"🍎","value":7},{"fruit":"🍎","value":5},{"fruit":"🍎","value":4}],[{"fruit":"🍎","value":7},{"fruit":"🍎","value":1},{"fruit":"🍎","value":3},{"fruit":"🍎","value":2},{"fruit":"🍎","value":9},{"fruit":"🍎","value":4},{"fruit":"🍎","value":2},{"fruit":"🍎","value":8},{"fruit":"🍎","value":1},{"fruit":"🍎","value":7}],[{"fruit":"🍎","value":9},{"fruit":"🍎","value":5},{"fruit":"🍎","value":5},{"fruit":"🍎","value":3},{"fruit":"🍎","value":8},{"fruit":"🍎","value":7},{"fruit":"🍎","value":3},{"fruit":"🍎","value":4},{"fruit":"🍎","value":8},{"fruit":"🍎","value":3}],[{"fruit":"🍎","value":2},{"fruit":"🍎","value":8},{"fruit":"🍎","value":3},{"fruit":"🍎","value":6},{"fruit":"🍎","value":1},{"fruit":"🍎","value":1},{"fruit":"🍎","value":5},{"fruit":"🍎","value":1},{"fruit":"🍎","value":1},{"fruit":"🍎","value":3}],[{"fruit":"🍎","value":6},{"fruit":"🍎","value":3},{"fruit":"🍎","value":9},{"fruit":"🍎","value":1},{"fruit":"🍎","value":9},{"fruit":"🍎","value":4},{"fruit":"🍎","value":4},{"fruit":"🍎","value":3},{"fruit":"🍎","value":4},{"fruit":"🍎","value":9}],[{"fruit":"🍎","value":3},{"fruit":"🍎","value":1},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":7},{"fruit":"🍎","value":6},{"fruit":"🍎","value":1},{"fruit":"🍎","value":5},{"fruit":"🍎","value":5},{"fruit":"🍎","value":7}],[{"fruit":"🍎","value":9},{"fruit":"🍎","value":5},{"fruit":"🍎","value":4},{"fruit":"🍎","value":4},{"fruit":"🍎","value":3},{"fruit":"🍎","value":4},{"fruit":"🍎","value":8},{"fruit":"🍎","value":3},{"fruit":"🍎","value":9},{"fruit":"🍎","value":4}],[{"fruit":"🍎","value":6},{"fruit":"🍎","value":4},{"fruit":"🍎","value":9},{"fruit":"🍎","value":9},{"fruit":"🍎","value":5},{"fruit":"🍎","value":5},{"fruit":"🍎","value":1},{"fruit":"🍎","value":6},{"fruit":"🍎","value":3},{"fruit":"🍎","value":8}],[{"fruit":"🍎","value":3},{"fruit":"🍎","value":9},{"fruit":"🍎","value":4},{"fruit":"🍎","value":4},{"fruit":"🍎","value":3},{"fruit":"🍎","value":5},{"fruit":"🍎","value":1},{"fruit":"🍎","value":6},{"fruit":"🍎","value":4},{"fruit":"🍎","value":6}],[{"fruit":"🍎","value":9},{"fruit":"🍎","value":7},{"fruit":"🍎","value":4},{"fruit":"🍎","value":8},{"fruit":"🍎","value":3},{"fruit":"🍎","value":1},{"fruit":"🍎","value":8},{"fruit":"🍎","value":8},{"fruit":"🍎","value":3},{"fruit":"🍎","value":8}]]', '2025-06-27 19:25:26.114525') RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 47 AND "player_game_states"."room_code" = 'HBVAQW' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayer Load (0.6ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."id" = 47 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayerGameState Create (0.3ms)[0m  [1m[32mINSERT INTO "player_game_states" ("player_id", "room_code", "board_state", "score", "time_remaining", "created_at", "updated_at", "finished", "final_score", "needs_new_board") VALUES (47, 'HBVAQW', '[[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}]]', 0, 90, '2025-06-27 19:25:26.119738', '2025-06-27 19:25:26.119738', NULL, NULL, 0) RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
Completed 200 OK in 58ms (Views: 0.3ms | ActiveRecord: 2.1ms (7 queries, 0 cached) | GC: 1.2ms)


Started GET "/game/waiting/HBVAQW/48" for 127.0.0.1 at 2025-06-27 15:25:28 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"HBVAQW", "player_id"=>"48"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HBVAQW' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 AND "players"."id" = 48 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 28 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 28[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | GC: 0.0ms)
Completed 200 OK in 32ms (Views: 2.5ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 0.1ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 15:25:28 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/status/HBVAQW" for 127.0.0.1 at 2025-06-27 15:25:28 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"HBVAQW"}
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HBVAQW' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 28 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 28[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 28[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 24ms (Views: 0.2ms | ActiveRecord: 0.4ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/room/HBVAQW?player_id=48" for 127.0.0.1 at 2025-06-27 15:25:28 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"48", "room_code"=>"HBVAQW"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HBVAQW' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 AND "players"."id" = 48 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 28 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 1.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 26ms (Views: 1.9ms | ActiveRecord: 0.2ms (4 queries, 0 cached) | GC: 0.2ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 15:25:28 -0400
Started GET "/game/board/HBVAQW?player_id=48" for 127.0.0.1 at 2025-06-27 15:25:28 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"48", "room_code"=>"HBVAQW"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HBVAQW' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 AND "players"."id" = 48 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'HBVAQW' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 48 AND "player_game_states"."room_code" = 'HBVAQW' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayer Load (0.4ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."id" = 48 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayerGameState Create (0.1ms)[0m  [1m[32mINSERT INTO "player_game_states" ("player_id", "room_code", "board_state", "score", "time_remaining", "created_at", "updated_at", "finished", "final_score", "needs_new_board") VALUES (48, 'HBVAQW', '[[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}]]', 0, 90, '2025-06-27 19:25:29.029840', '2025-06-27 19:25:29.029840', NULL, NULL, 0) RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
Completed 200 OK in 50ms (Views: 0.2ms | ActiveRecord: 1.0ms (6 queries, 0 cached) | GC: 5.2ms)


Started POST "/game/collect_apples/HBVAQW?player_id=48" for 127.0.0.1 at 2025-06-27 15:25:38 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 0], [0, 1]], "player_id"=>"48", "room_code"=>"HBVAQW", "game"=>{"positions"=>[[0, 0], [0, 1]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HBVAQW' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 AND "players"."id" = 48 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 48 AND "player_game_states"."room_code" = 'HBVAQW' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}]]', "score" = 2, "updated_at" = '2025-06-27 19:25:38.154252' WHERE "player_game_states"."id" = 23 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 39ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/HBVAQW?player_id=48" for 127.0.0.1 at 2025-06-27 15:25:39 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 3], [1, 3], [2, 3]], "player_id"=>"48", "room_code"=>"HBVAQW", "game"=>{"positions"=>[[0, 3], [1, 3], [2, 3]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HBVAQW' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 AND "players"."id" = 48 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 48 AND "player_game_states"."room_code" = 'HBVAQW' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}]]', "score" = 5, "updated_at" = '2025-06-27 19:25:39.837146' WHERE "player_game_states"."id" = 23 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 40ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/HBVAQW?player_id=48" for 127.0.0.1 at 2025-06-27 15:25:40 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[2, 1], [2, 2]], "player_id"=>"48", "room_code"=>"HBVAQW", "game"=>{"positions"=>[[2, 1], [2, 2]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HBVAQW' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 AND "players"."id" = 48 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 48 AND "player_game_states"."room_code" = 'HBVAQW' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}]]', "score" = 7, "updated_at" = '2025-06-27 19:25:40.988589' WHERE "player_game_states"."id" = 23 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 34ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/HBVAQW?player_id=48" for 127.0.0.1 at 2025-06-27 15:25:42 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[3, 2], [3, 3], [3, 4]], "player_id"=>"48", "room_code"=>"HBVAQW", "game"=>{"positions"=>[[3, 2], [3, 3], [3, 4]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HBVAQW' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 AND "players"."id" = 48 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 48 AND "player_game_states"."room_code" = 'HBVAQW' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}]]', "score" = 10, "updated_at" = '2025-06-27 19:25:42.691712' WHERE "player_game_states"."id" = 23 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/HBVAQW?player_id=48" for 127.0.0.1 at 2025-06-27 15:25:44 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[4, 2], [4, 3]], "player_id"=>"48", "room_code"=>"HBVAQW", "game"=>{"positions"=>[[4, 2], [4, 3]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HBVAQW' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 AND "players"."id" = 48 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 48 AND "player_game_states"."room_code" = 'HBVAQW' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}]]', "score" = 12, "updated_at" = '2025-06-27 19:25:44.302862' WHERE "player_game_states"."id" = 23 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 32ms (Views: 0.9ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 2.7ms)


Started POST "/game/collect_apples/HBVAQW?player_id=48" for 127.0.0.1 at 2025-06-27 15:25:46 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[5, 0], [5, 1], [5, 2]], "player_id"=>"48", "room_code"=>"HBVAQW", "game"=>{"positions"=>[[5, 0], [5, 1], [5, 2]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HBVAQW' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 AND "players"."id" = 48 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 48 AND "player_game_states"."room_code" = 'HBVAQW' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (1.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}]]', "score" = 15, "updated_at" = '2025-06-27 19:25:47.029138' WHERE "player_game_states"."id" = 23 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 42ms (Views: 0.4ms | ActiveRecord: 1.8ms (4 queries, 0 cached) | GC: 0.9ms)


Started POST "/game/collect_apples/HBVAQW?player_id=48" for 127.0.0.1 at 2025-06-27 15:25:48 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[3, 0], [3, 1]], "player_id"=>"48", "room_code"=>"HBVAQW", "game"=>{"positions"=>[[3, 0], [3, 1]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HBVAQW' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 AND "players"."id" = 48 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 48 AND "player_game_states"."room_code" = 'HBVAQW' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.8ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}]]', "score" = 17, "updated_at" = '2025-06-27 19:25:48.145441' WHERE "player_game_states"."id" = 23 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 43ms (Views: 0.2ms | ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 1.7ms)


Started POST "/game/collect_apples/HBVAQW?player_id=48" for 127.0.0.1 at 2025-06-27 15:25:49 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[5, 3], [6, 3]], "player_id"=>"48", "room_code"=>"HBVAQW", "game"=>{"positions"=>[[5, 3], [6, 3]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HBVAQW' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 AND "players"."id" = 48 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 48 AND "player_game_states"."room_code" = 'HBVAQW' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.7ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}]]', "score" = 19, "updated_at" = '2025-06-27 19:25:49.233687' WHERE "player_game_states"."id" = 23 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 40ms (Views: 0.4ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.7ms)


Started POST "/game/collect_apples/HBVAQW?player_id=48" for 127.0.0.1 at 2025-06-27 15:25:50 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[7, 0], [7, 1]], "player_id"=>"48", "room_code"=>"HBVAQW", "game"=>{"positions"=>[[7, 0], [7, 1]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HBVAQW' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 AND "players"."id" = 48 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 48 AND "player_game_states"."room_code" = 'HBVAQW' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}]]', "score" = 21, "updated_at" = '2025-06-27 19:25:50.239284' WHERE "player_game_states"."id" = 23 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 40ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.3ms)


Started POST "/game/collect_apples/HBVAQW?player_id=48" for 127.0.0.1 at 2025-06-27 15:25:51 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[5, 4], [6, 4]], "player_id"=>"48", "room_code"=>"HBVAQW", "game"=>{"positions"=>[[5, 4], [6, 4]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HBVAQW' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 AND "players"."id" = 48 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 48 AND "player_game_states"."room_code" = 'HBVAQW' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}]]', "score" = 23, "updated_at" = '2025-06-27 19:25:51.445321' WHERE "player_game_states"."id" = 23 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 42ms (Views: 0.2ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/HBVAQW?player_id=48" for 127.0.0.1 at 2025-06-27 15:25:52 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[5, 5], [6, 5]], "player_id"=>"48", "room_code"=>"HBVAQW", "game"=>{"positions"=>[[5, 5], [6, 5]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HBVAQW' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 AND "players"."id" = 48 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 48 AND "player_game_states"."room_code" = 'HBVAQW' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}]]', "score" = 25, "updated_at" = '2025-06-27 19:25:52.480961' WHERE "player_game_states"."id" = 23 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 39ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/HBVAQW?player_id=48" for 127.0.0.1 at 2025-06-27 15:25:54 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[3, 5], [4, 5], [7, 5]], "player_id"=>"48", "room_code"=>"HBVAQW", "game"=>{"positions"=>[[3, 5], [4, 5], [7, 5]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HBVAQW' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 AND "players"."id" = 48 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 48 AND "player_game_states"."room_code" = 'HBVAQW' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}]]', "score" = 28, "updated_at" = '2025-06-27 19:25:54.501546' WHERE "player_game_states"."id" = 23 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 2.5ms)


Started POST "/game/collect_apples/HBVAQW?player_id=48" for 127.0.0.1 at 2025-06-27 15:25:56 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 5], [1, 5]], "player_id"=>"48", "room_code"=>"HBVAQW", "game"=>{"positions"=>[[0, 5], [1, 5]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HBVAQW' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 AND "players"."id" = 48 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 48 AND "player_game_states"."room_code" = 'HBVAQW' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.9ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}]]', "score" = 30, "updated_at" = '2025-06-27 19:25:56.169424' WHERE "player_game_states"."id" = 23 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 44ms (Views: 0.2ms | ActiveRecord: 1.3ms (4 queries, 0 cached) | GC: 1.0ms)


Started POST "/game/collect_apples/HBVAQW?player_id=48" for 127.0.0.1 at 2025-06-27 15:25:59 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[1, 6], [2, 6], [3, 6]], "player_id"=>"48", "room_code"=>"HBVAQW", "game"=>{"positions"=>[[1, 6], [2, 6], [3, 6]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HBVAQW' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 AND "players"."id" = 48 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 48 AND "player_game_states"."room_code" = 'HBVAQW' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}]]', "score" = 33, "updated_at" = '2025-06-27 19:25:59.195965' WHERE "player_game_states"."id" = 23 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 42ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.5ms)


Started POST "/game/collect_apples/HBVAQW?player_id=48" for 127.0.0.1 at 2025-06-27 15:26:00 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[1, 8], [2, 8], [3, 8]], "player_id"=>"48", "room_code"=>"HBVAQW", "game"=>{"positions"=>[[1, 8], [2, 8], [3, 8]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HBVAQW' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 AND "players"."id" = 48 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 48 AND "player_game_states"."room_code" = 'HBVAQW' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}]]', "score" = 36, "updated_at" = '2025-06-27 19:26:00.908167' WHERE "player_game_states"."id" = 23 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 41ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.2ms)


Started POST "/game/collect_apples/HBVAQW?player_id=48" for 127.0.0.1 at 2025-06-27 15:26:01 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[1, 9], [2, 9]], "player_id"=>"48", "room_code"=>"HBVAQW", "game"=>{"positions"=>[[1, 9], [2, 9]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HBVAQW' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 AND "players"."id" = 48 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 48 AND "player_game_states"."room_code" = 'HBVAQW' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}]]', "score" = 38, "updated_at" = '2025-06-27 19:26:01.691477' WHERE "player_game_states"."id" = 23 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 41ms (Views: 0.2ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.2ms)


Started POST "/game/collect_apples/HBVAQW?player_id=48" for 127.0.0.1 at 2025-06-27 15:26:02 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[5, 7], [5, 8]], "player_id"=>"48", "room_code"=>"HBVAQW", "game"=>{"positions"=>[[5, 7], [5, 8]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HBVAQW' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 AND "players"."id" = 48 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 48 AND "player_game_states"."room_code" = 'HBVAQW' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}]]', "score" = 40, "updated_at" = '2025-06-27 19:26:02.562401' WHERE "player_game_states"."id" = 23 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 41ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.6ms)


Started POST "/game/collect_apples/HBVAQW?player_id=48" for 127.0.0.1 at 2025-06-27 15:26:03 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[5, 6], [6, 6], [7, 6]], "player_id"=>"48", "room_code"=>"HBVAQW", "game"=>{"positions"=>[[5, 6], [6, 6], [7, 6]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HBVAQW' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 AND "players"."id" = 48 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 48 AND "player_game_states"."room_code" = 'HBVAQW' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}]]', "score" = 43, "updated_at" = '2025-06-27 19:26:03.656214' WHERE "player_game_states"."id" = 23 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/HBVAQW?player_id=48" for 127.0.0.1 at 2025-06-27 15:26:07 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[4, 6], [8, 5], [8, 6]], "player_id"=>"48", "room_code"=>"HBVAQW", "game"=>{"positions"=>[[4, 6], [8, 5], [8, 6]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HBVAQW' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 AND "players"."id" = 48 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.2ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 48 AND "player_game_states"."room_code" = 'HBVAQW' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.7ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}]]', "score" = 46, "updated_at" = '2025-06-27 19:26:07.542308' WHERE "player_game_states"."id" = 23 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 42ms (Views: 0.2ms | ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/HBVAQW?player_id=48" for 127.0.0.1 at 2025-06-27 15:26:08 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[8, 7], [8, 8]], "player_id"=>"48", "room_code"=>"HBVAQW", "game"=>{"positions"=>[[8, 7], [8, 8]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HBVAQW' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 AND "players"."id" = 48 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 48 AND "player_game_states"."room_code" = 'HBVAQW' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false}]]', "score" = 48, "updated_at" = '2025-06-27 19:26:08.700913' WHERE "player_game_states"."id" = 23 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 40ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 1.6ms)


Started POST "/game/request_new_board/HBVAQW?player_id=48" for 127.0.0.1 at 2025-06-27 15:26:09 -0400
Processing by GameController#request_new_board as */*
  Parameters: {"player_id"=>"48", "room_code"=>"HBVAQW", "game"=>{}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'HBVAQW' LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:211:in `request_new_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 AND "players"."id" = 48 LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:212:in `request_new_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 48 AND "player_game_states"."room_code" = 'HBVAQW' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:248:in `request_new_board'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "updated_at" = '2025-06-27 19:26:09.770973', "needs_new_board" = 1 WHERE "player_game_states"."id" = 23 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:248:in `request_new_board'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:248:in `request_new_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 AND "players"."id" != 48 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:251:in `all?'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 47 AND "player_game_states"."room_code" = 'HBVAQW' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mGameBoard Create (0.8ms)[0m  [1m[32mINSERT INTO "game_boards" ("room_code", "board_state", "created_at") VALUES ('HBVAQW', '[[{"fruit":"🍎","value":6},{"fruit":"🍎","value":9},{"fruit":"🍎","value":2},{"fruit":"🍎","value":9},{"fruit":"🍎","value":5},{"fruit":"🍎","value":3},{"fruit":"🍎","value":4},{"fruit":"🍎","value":9},{"fruit":"🍎","value":2},{"fruit":"🍎","value":4}],[{"fruit":"🍎","value":4},{"fruit":"🍎","value":6},{"fruit":"🍎","value":5},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":1},{"fruit":"🍎","value":4},{"fruit":"🍎","value":5},{"fruit":"🍎","value":2},{"fruit":"🍎","value":5}],[{"fruit":"🍎","value":8},{"fruit":"🍎","value":9},{"fruit":"🍎","value":8},{"fruit":"🍎","value":3},{"fruit":"🍎","value":8},{"fruit":"🍎","value":5},{"fruit":"🍎","value":2},{"fruit":"🍎","value":7},{"fruit":"🍎","value":9},{"fruit":"🍎","value":9}],[{"fruit":"🍎","value":1},{"fruit":"🍎","value":4},{"fruit":"🍎","value":3},{"fruit":"🍎","value":7},{"fruit":"🍎","value":5},{"fruit":"🍎","value":1},{"fruit":"🍎","value":5},{"fruit":"🍎","value":7},{"fruit":"🍎","value":2},{"fruit":"🍎","value":6}],[{"fruit":"🍎","value":3},{"fruit":"🍎","value":7},{"fruit":"🍎","value":4},{"fruit":"🍎","value":8},{"fruit":"🍎","value":9},{"fruit":"🍎","value":9},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":7},{"fruit":"🍎","value":8}],[{"fruit":"🍎","value":6},{"fruit":"🍎","value":5},{"fruit":"🍎","value":1},{"fruit":"🍎","value":9},{"fruit":"🍎","value":2},{"fruit":"🍎","value":6},{"fruit":"🍎","value":1},{"fruit":"🍎","value":5},{"fruit":"🍎","value":9},{"fruit":"🍎","value":8}],[{"fruit":"🍎","value":4},{"fruit":"🍎","value":4},{"fruit":"🍎","value":2},{"fruit":"🍎","value":4},{"fruit":"🍎","value":7},{"fruit":"🍎","value":1},{"fruit":"🍎","value":7},{"fruit":"🍎","value":4},{"fruit":"🍎","value":4},{"fruit":"🍎","value":4}],[{"fruit":"🍎","value":3},{"fruit":"🍎","value":6},{"fruit":"🍎","value":2},{"fruit":"🍎","value":7},{"fruit":"🍎","value":2},{"fruit":"🍎","value":9},{"fruit":"🍎","value":7},{"fruit":"🍎","value":9},{"fruit":"🍎","value":3},{"fruit":"🍎","value":2}],[{"fruit":"🍎","value":2},{"fruit":"🍎","value":3},{"fruit":"🍎","value":2},{"fruit":"🍎","value":5},{"fruit":"🍎","value":4},{"fruit":"🍎","value":5},{"fruit":"🍎","value":3},{"fruit":"🍎","value":1},{"fruit":"🍎","value":4},{"fruit":"🍎","value":6}],[{"fruit":"🍎","value":3},{"fruit":"🍎","value":3},{"fruit":"🍎","value":1},{"fruit":"🍎","value":3},{"fruit":"🍎","value":7},{"fruit":"🍎","value":4},{"fruit":"🍎","value":4},{"fruit":"🍎","value":5},{"fruit":"🍎","value":3},{"fruit":"🍎","value":3}]]', '2025-06-27 19:26:09.774295') RETURNING "id" /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayer Load (0.7ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."id" = 48 LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayerGameState Create (0.1ms)[0m  [1m[32mINSERT INTO "player_game_states" ("player_id", "room_code", "board_state", "score", "time_remaining", "created_at", "updated_at", "finished", "final_score", "needs_new_board") VALUES (48, 'HBVAQW', '[[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false}]]', 0, 90, '2025-06-27 19:26:09.778021', '2025-06-27 19:26:09.778021', NULL, NULL, 0) RETURNING "id" /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
Completed 200 OK in 48ms (Views: 0.2ms | ActiveRecord: 2.7ms (9 queries, 0 cached) | GC: 1.2ms)


Writing application-b2511d08.js.map
Writing application-7746808f.js
Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:27:04 -0400
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FruitBox'*/[0m
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.8ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 28 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 28 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.1ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 28 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 28[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 7.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | GC: 0.0ms)
Completed 200 OK in 96ms (Views: 10.3ms | ActiveRecord: 2.1ms (7 queries, 2 cached) | GC: 13.5ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:27:04 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 28 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 28 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 28 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 28[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 3.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.0ms)
Completed 200 OK in 27ms (Views: 3.6ms | ActiveRecord: 0.3ms (7 queries, 2 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 15:27:04 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/" for 127.0.0.1 at 2025-06-27 15:27:07 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 35ms (Views: 1.4ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started GET "/" for 127.0.0.1 at 2025-06-27 15:27:09 -0400
Processing by GameController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering game/index.html.erb within layouts/application
  Rendered game/index.html.erb within layouts/application (Duration: 0.2ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 0.7ms | GC: 0.0ms)
Completed 200 OK in 36ms (Views: 1.3ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.3ms)


Started POST "/game/cleanup_rooms?delete_all=true" for 127.0.0.1 at 2025-06-27 15:27:11 -0400
Processing by GameController#cleanup_rooms as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "delete_all"=>"true"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 28 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 28 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 28 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayer Load (0.5ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 28 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameMove Load (0.1ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."player_id" = 47 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 47 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayerGameState Destroy (0.1ms)[0m  [1m[31mDELETE FROM "player_game_states" WHERE "player_game_states"."id" = 22 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayer Destroy (0.1ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 47 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameMove Load (0.0ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."player_id" = 48 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 48 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayerGameState Destroy (0.1ms)[0m  [1m[31mDELETE FROM "player_game_states" WHERE "player_game_states"."id" = 23 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayerGameState Destroy (0.0ms)[0m  [1m[31mDELETE FROM "player_game_states" WHERE "player_game_states"."id" = 24 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayer Destroy (0.0ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 48 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameMove Load (0.1ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."game_room_id" = 28 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameBoard Load (0.0ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'HBVAQW' /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameBoard Destroy (0.0ms)[0m  [1m[31mDELETE FROM "game_boards" WHERE "game_boards"."id" = 31 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameBoard Destroy (0.0ms)[0m  [1m[31mDELETE FROM "game_boards" WHERE "game_boards"."id" = 32 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameRoom Destroy (0.0ms)[0m  [1m[31mDELETE FROM "game_rooms" WHERE "game_rooms"."id" = 28 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 90ms (ActiveRecord: 2.7ms (20 queries, 1 cached) | GC: 27.9ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:27:11 -0400
Processing by GameController#multiplayer as TURBO_STREAM
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.6ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 1.8ms | GC: 0.2ms)
Completed 200 OK in 21ms (Views: 2.0ms | ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.2ms)


Started POST "/game/create_room" for 127.0.0.1 at 2025-06-27 15:27:14 -0400
Processing by GameController#create_room as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "game_room"=>{"name"=>"test room", "max_players"=>"2"}, "commit"=>"Create Room"}
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
Cleaned up 0 rooms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' LIMIT 1 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Create (0.1ms)[0m  [1m[32mINSERT INTO "game_rooms" ("name", "room_code", "max_players", "status", "created_at", "updated_at") VALUES ('test room', 'PNLB9Z', 2, NULL, '2025-06-27 19:27:14.696869', '2025-06-27 19:27:14.696869') RETURNING "id" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
Redirected to http://127.0.0.1:3000/game/join/PNLB9Z
Completed 302 Found in 24ms (ActiveRecord: 0.8ms (3 queries, 0 cached) | GC: 0.5ms)


Started GET "/game/join/PNLB9Z" for 127.0.0.1 at 2025-06-27 15:27:14 -0400
Processing by GameController#join_room as TURBO_STREAM
  Parameters: {"room_code"=>"PNLB9Z"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/models/game_room.rb:12:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 23ms (Views: 2.0ms | ActiveRecord: 0.1ms (4 queries, 1 cached) | GC: 0.2ms)


Started POST "/game/join/PNLB9Z" for 127.0.0.1 at 2025-06-27 15:27:16 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris"}, "commit"=>"Join Game", "room_code"=>"PNLB9Z"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 0
Room max players: 2
Player params: {"name"=>"chris"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/models/game_room.rb:12:in `full?'
  [1m[36mPlayer Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 29 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 29 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 29 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (0.5ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (29, 'chris', 0, '2025-06-27 19:27:16.835818', '2025-06-27 19:27:16.835818') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 49
Redirected to http://127.0.0.1:3000/game/waiting/PNLB9Z/49
Completed 302 Found in 40ms (ActiveRecord: 0.8ms (7 queries, 3 cached) | GC: 0.0ms)


Started GET "/game/waiting/PNLB9Z/49" for 127.0.0.1 at 2025-06-27 15:27:16 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"PNLB9Z", "player_id"=>"49"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" = 49 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 2.0ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 2.5ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:27:19 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 29 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 29 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 10.0ms | GC: 5.7ms)
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | GC: 5.7ms)
Completed 200 OK in 48ms (Views: 10.4ms | ActiveRecord: 0.3ms (7 queries, 2 cached) | GC: 5.7ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:27:19 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 29 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 29 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 3.3ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | GC: 0.4ms)
Completed 200 OK in 43ms (Views: 3.7ms | ActiveRecord: 0.3ms (7 queries, 2 cached) | GC: 1.4ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 15:27:19 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:27:22 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 29 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 29 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 3.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | GC: 0.0ms)
Completed 200 OK in 46ms (Views: 4.5ms | ActiveRecord: 0.3ms (7 queries, 2 cached) | GC: 3.6ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 15:27:22 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/join/PNLB9Z?room_code=PNLB9Z&commit=Join+Room" for 127.0.0.1 at 2025-06-27 15:27:25 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"PNLB9Z", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/models/game_room.rb:12:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.0ms)
Completed 200 OK in 39ms (Views: 2.5ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.0ms)


Started POST "/game/join/PNLB9Z" for 127.0.0.1 at 2025-06-27 15:27:27 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris2"}, "commit"=>"Join Game", "room_code"=>"PNLB9Z"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 1
Room max players: 2
Player params: {"name"=>"chris2"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/models/game_room.rb:12:in `full?'
  [1m[36mPlayer Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 29 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 29 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 29 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (0.6ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (29, 'chris2', 0, '2025-06-27 19:27:27.260369', '2025-06-27 19:27:27.260369') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 50
Redirected to http://127.0.0.1:3000/game/waiting/PNLB9Z/50
Completed 302 Found in 48ms (ActiveRecord: 1.7ms (7 queries, 3 cached) | GC: 2.1ms)


Started GET "/game/waiting/PNLB9Z/50" for 127.0.0.1 at 2025-06-27 15:27:27 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"PNLB9Z", "player_id"=>"50"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" = 50 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.6ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.7ms)
Completed 200 OK in 26ms (Views: 2.9ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 0.7ms)


Started GET "/game/waiting/PNLB9Z/49" for 127.0.0.1 at 2025-06-27 15:27:31 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"PNLB9Z", "player_id"=>"49"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" = 49 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 2.0ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 0.4ms)
Completed 200 OK in 46ms (Views: 3.6ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 0.4ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 15:27:31 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/status/PNLB9Z" for 127.0.0.1 at 2025-06-27 15:27:31 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"PNLB9Z"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 24ms (Views: 0.1ms | ActiveRecord: 0.3ms (4 queries, 2 cached) | GC: 0.2ms)


Started GET "/game/room/PNLB9Z?player_id=49" for 127.0.0.1 at 2025-06-27 15:27:32 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"49", "room_code"=>"PNLB9Z"}
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" = 49 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 ORDER BY "players"."id" ASC LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:78
  [1m[36mPlayer Load (0.2ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 5.0ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | GC: 0.2ms)
Completed 200 OK in 42ms (Views: 5.8ms | ActiveRecord: 0.7ms (6 queries, 1 cached) | GC: 0.2ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 15:27:32 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/start/PNLB9Z?player_id=49" for 127.0.0.1 at 2025-06-27 15:27:33 -0400
Processing by GameController#start_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player_id"=>"49", "room_code"=>"PNLB9Z"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:74:in `start_game'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' AND "game_rooms"."id" != 29 LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Update (0.0ms)[0m  [1m[33mUPDATE "game_rooms" SET "status" = 'playing', "updated_at" = '2025-06-27 19:27:33.389841' WHERE "game_rooms"."id" = 29 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
Redirected to http://127.0.0.1:3000/game/room/PNLB9Z?player_id=49
Completed 302 Found in 37ms (ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/room/PNLB9Z?player_id=49" for 127.0.0.1 at 2025-06-27 15:27:33 -0400
Processing by GameController#room as TURBO_STREAM
  Parameters: {"player_id"=>"49", "room_code"=>"PNLB9Z"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" = 49 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 1.5ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/board/PNLB9Z?player_id=49" for 127.0.0.1 at 2025-06-27 15:27:33 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"49", "room_code"=>"PNLB9Z"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" = 49 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PNLB9Z' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mGameBoard Create (0.5ms)[0m  [1m[32mINSERT INTO "game_boards" ("room_code", "board_state", "created_at") VALUES ('PNLB9Z', '[[{"fruit":"🍎","value":5},{"fruit":"🍎","value":1},{"fruit":"🍎","value":3},{"fruit":"🍎","value":7},{"fruit":"🍎","value":8},{"fruit":"🍎","value":3},{"fruit":"🍎","value":3},{"fruit":"🍎","value":7},{"fruit":"🍎","value":7},{"fruit":"🍎","value":3}],[{"fruit":"🍎","value":4},{"fruit":"🍎","value":6},{"fruit":"🍎","value":1},{"fruit":"🍎","value":8},{"fruit":"🍎","value":8},{"fruit":"🍎","value":9},{"fruit":"🍎","value":6},{"fruit":"🍎","value":7},{"fruit":"🍎","value":9},{"fruit":"🍎","value":1}],[{"fruit":"🍎","value":5},{"fruit":"🍎","value":5},{"fruit":"🍎","value":3},{"fruit":"🍎","value":1},{"fruit":"🍎","value":9},{"fruit":"🍎","value":5},{"fruit":"🍎","value":7},{"fruit":"🍎","value":7},{"fruit":"🍎","value":2},{"fruit":"🍎","value":5}],[{"fruit":"🍎","value":5},{"fruit":"🍎","value":3},{"fruit":"🍎","value":2},{"fruit":"🍎","value":8},{"fruit":"🍎","value":2},{"fruit":"🍎","value":6},{"fruit":"🍎","value":9},{"fruit":"🍎","value":3},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6}],[{"fruit":"🍎","value":3},{"fruit":"🍎","value":9},{"fruit":"🍎","value":4},{"fruit":"🍎","value":3},{"fruit":"🍎","value":5},{"fruit":"🍎","value":8},{"fruit":"🍎","value":4},{"fruit":"🍎","value":5},{"fruit":"🍎","value":6},{"fruit":"🍎","value":2}],[{"fruit":"🍎","value":6},{"fruit":"🍎","value":2},{"fruit":"🍎","value":4},{"fruit":"🍎","value":2},{"fruit":"🍎","value":9},{"fruit":"🍎","value":9},{"fruit":"🍎","value":5},{"fruit":"🍎","value":8},{"fruit":"🍎","value":9},{"fruit":"🍎","value":1}],[{"fruit":"🍎","value":7},{"fruit":"🍎","value":4},{"fruit":"🍎","value":1},{"fruit":"🍎","value":7},{"fruit":"🍎","value":2},{"fruit":"🍎","value":9},{"fruit":"🍎","value":9},{"fruit":"🍎","value":7},{"fruit":"🍎","value":7},{"fruit":"🍎","value":2}],[{"fruit":"🍎","value":6},{"fruit":"🍎","value":7},{"fruit":"🍎","value":2},{"fruit":"🍎","value":9},{"fruit":"🍎","value":1},{"fruit":"🍎","value":7},{"fruit":"🍎","value":7},{"fruit":"🍎","value":2},{"fruit":"🍎","value":8},{"fruit":"🍎","value":9}],[{"fruit":"🍎","value":7},{"fruit":"🍎","value":8},{"fruit":"🍎","value":6},{"fruit":"🍎","value":2},{"fruit":"🍎","value":9},{"fruit":"🍎","value":3},{"fruit":"🍎","value":2},{"fruit":"🍎","value":3},{"fruit":"🍎","value":8},{"fruit":"🍎","value":9}],[{"fruit":"🍎","value":4},{"fruit":"🍎","value":8},{"fruit":"🍎","value":9},{"fruit":"🍎","value":7},{"fruit":"🍎","value":1},{"fruit":"🍎","value":2},{"fruit":"🍎","value":7},{"fruit":"🍎","value":9},{"fruit":"🍎","value":2},{"fruit":"🍎","value":7}]]', '2025-06-27 19:27:33.473402') RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 49 AND "player_game_states"."room_code" = 'PNLB9Z' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayer Load (0.4ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."id" = 49 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayerGameState Create (0.1ms)[0m  [1m[32mINSERT INTO "player_game_states" ("player_id", "room_code", "board_state", "score", "time_remaining", "created_at", "updated_at", "finished", "final_score", "needs_new_board") VALUES (49, 'PNLB9Z', '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', 0, 90, '2025-06-27 19:27:33.477958', '2025-06-27 19:27:33.477958', NULL, NULL, 0) RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
Completed 200 OK in 35ms (Views: 0.2ms | ActiveRecord: 1.5ms (7 queries, 0 cached) | GC: 0.7ms)


Started GET "/game/waiting/PNLB9Z/50" for 127.0.0.1 at 2025-06-27 15:27:36 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"PNLB9Z", "player_id"=>"50"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" = 50 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | GC: 2.8ms)
Completed 200 OK in 37ms (Views: 5.3ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 2.8ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 15:27:36 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/status/PNLB9Z" for 127.0.0.1 at 2025-06-27 15:27:36 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"PNLB9Z"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 30ms (Views: 0.1ms | ActiveRecord: 0.3ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/room/PNLB9Z?player_id=50" for 127.0.0.1 at 2025-06-27 15:27:36 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"50", "room_code"=>"PNLB9Z"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" = 50 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 1.7ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | GC: 0.9ms)
Completed 200 OK in 26ms (Views: 3.2ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.9ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 15:27:36 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/board/PNLB9Z?player_id=50" for 127.0.0.1 at 2025-06-27 15:27:36 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"50", "room_code"=>"PNLB9Z"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.4ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" = 50 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.3ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PNLB9Z' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 50 AND "player_game_states"."room_code" = 'PNLB9Z' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayer Load (2.2ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."id" = 50 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayerGameState Create (0.1ms)[0m  [1m[32mINSERT INTO "player_game_states" ("player_id", "room_code", "board_state", "score", "time_remaining", "created_at", "updated_at", "finished", "final_score", "needs_new_board") VALUES (50, 'PNLB9Z', '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', 0, 90, '2025-06-27 19:27:36.832578', '2025-06-27 19:27:36.832578', NULL, NULL, 0) RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
Completed 200 OK in 44ms (Views: 0.2ms | ActiveRecord: 3.6ms (6 queries, 0 cached) | GC: 0.3ms)


Started POST "/game/collect_apples/PNLB9Z?player_id=50" for 127.0.0.1 at 2025-06-27 15:27:42 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[1, 0], [1, 1]], "player_id"=>"50", "room_code"=>"PNLB9Z", "game"=>{"positions"=>[[1, 0], [1, 1]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" = 50 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 50 AND "player_game_states"."room_code" = 'PNLB9Z' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 2, "updated_at" = '2025-06-27 19:27:42.225448' WHERE "player_game_states"."id" = 26 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 39ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.4ms)


Started POST "/game/collect_apples/PNLB9Z?player_id=50" for 127.0.0.1 at 2025-06-27 15:27:44 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 2], [0, 3]], "player_id"=>"50", "room_code"=>"PNLB9Z", "game"=>{"positions"=>[[0, 2], [0, 3]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" = 50 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 50 AND "player_game_states"."room_code" = 'PNLB9Z' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 4, "updated_at" = '2025-06-27 19:27:44.648111' WHERE "player_game_states"."id" = 26 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 26ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/PNLB9Z?player_id=50" for 127.0.0.1 at 2025-06-27 15:27:45 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 0], [2, 0]], "player_id"=>"50", "room_code"=>"PNLB9Z", "game"=>{"positions"=>[[0, 0], [2, 0]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" = 50 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.2ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 50 AND "player_game_states"."room_code" = 'PNLB9Z' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 6, "updated_at" = '2025-06-27 19:27:45.715175' WHERE "player_game_states"."id" = 26 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 45ms (Views: 0.2ms | ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 2.0ms)


Started POST "/game/collect_apples/PNLB9Z?player_id=50" for 127.0.0.1 at 2025-06-27 15:27:47 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[3, 0], [3, 1], [3, 2]], "player_id"=>"50", "room_code"=>"PNLB9Z", "game"=>{"positions"=>[[3, 0], [3, 1], [3, 2]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" = 50 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 50 AND "player_game_states"."room_code" = 'PNLB9Z' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 9, "updated_at" = '2025-06-27 19:27:47.693462' WHERE "player_game_states"."id" = 26 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 39ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.4ms)


Started POST "/game/collect_apples/PNLB9Z?player_id=50" for 127.0.0.1 at 2025-06-27 15:27:49 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 1], [1, 2], [2, 1], [2, 2]], "player_id"=>"50", "room_code"=>"PNLB9Z", "game"=>{"positions"=>[[0, 1], [1, 2], [2, 1], [2, 2]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" = 50 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 50 AND "player_game_states"."room_code" = 'PNLB9Z' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 13, "updated_at" = '2025-06-27 19:27:50.015881' WHERE "player_game_states"."id" = 26 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 39ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.6ms)


Started POST "/game/collect_apples/PNLB9Z?player_id=50" for 127.0.0.1 at 2025-06-27 15:27:51 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[2, 3], [2, 4]], "player_id"=>"50", "room_code"=>"PNLB9Z", "game"=>{"positions"=>[[2, 3], [2, 4]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" = 50 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 50 AND "player_game_states"."room_code" = 'PNLB9Z' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 15, "updated_at" = '2025-06-27 19:27:51.105344' WHERE "player_game_states"."id" = 26 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 43ms (Views: 0.3ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 2.3ms)


Started POST "/game/collect_apples/PNLB9Z?player_id=50" for 127.0.0.1 at 2025-06-27 15:27:51 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[3, 3], [3, 4]], "player_id"=>"50", "room_code"=>"PNLB9Z", "game"=>{"positions"=>[[3, 3], [3, 4]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" = 50 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.7ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 50 AND "player_game_states"."room_code" = 'PNLB9Z' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.7ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 17, "updated_at" = '2025-06-27 19:27:51.709305' WHERE "player_game_states"."id" = 26 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 41ms (Views: 0.2ms | ActiveRecord: 3.5ms (4 queries, 0 cached) | GC: 0.6ms)


Started POST "/game/collect_apples/PNLB9Z?player_id=50" for 127.0.0.1 at 2025-06-27 15:27:53 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[2, 7], [3, 7]], "player_id"=>"50", "room_code"=>"PNLB9Z", "game"=>{"positions"=>[[2, 7], [3, 7]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" = 50 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 50 AND "player_game_states"."room_code" = 'PNLB9Z' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 19, "updated_at" = '2025-06-27 19:27:53.608117' WHERE "player_game_states"."id" = 26 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.8ms)


Started POST "/game/collect_apples/PNLB9Z?player_id=50" for 127.0.0.1 at 2025-06-27 15:27:54 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[1, 8], [1, 9]], "player_id"=>"50", "room_code"=>"PNLB9Z", "game"=>{"positions"=>[[1, 8], [1, 9]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" = 50 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 50 AND "player_game_states"."room_code" = 'PNLB9Z' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 21, "updated_at" = '2025-06-27 19:27:54.806356' WHERE "player_game_states"."id" = 26 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 38ms (Views: 0.4ms | ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/PNLB9Z?player_id=50" for 127.0.0.1 at 2025-06-27 15:27:55 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 6], [0, 7]], "player_id"=>"50", "room_code"=>"PNLB9Z", "game"=>{"positions"=>[[0, 6], [0, 7]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.2ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" = 50 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 50 AND "player_game_states"."room_code" = 'PNLB9Z' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 23, "updated_at" = '2025-06-27 19:27:55.566350' WHERE "player_game_states"."id" = 26 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 41ms (Views: 0.2ms | ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 3.8ms)


Started POST "/game/collect_apples/PNLB9Z?player_id=50" for 127.0.0.1 at 2025-06-27 15:27:56 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 8], [0, 9]], "player_id"=>"50", "room_code"=>"PNLB9Z", "game"=>{"positions"=>[[0, 8], [0, 9]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" = 50 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 50 AND "player_game_states"."room_code" = 'PNLB9Z' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 25, "updated_at" = '2025-06-27 19:27:56.111494' WHERE "player_game_states"."id" = 26 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 41ms (Views: 0.4ms | ActiveRecord: 1.2ms (4 queries, 0 cached) | GC: 0.4ms)


Started POST "/game/collect_apples/PNLB9Z?player_id=50" for 127.0.0.1 at 2025-06-27 15:27:57 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[5, 8], [5, 9]], "player_id"=>"50", "room_code"=>"PNLB9Z", "game"=>{"positions"=>[[5, 8], [5, 9]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" = 50 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 50 AND "player_game_states"."room_code" = 'PNLB9Z' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.9ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 27, "updated_at" = '2025-06-27 19:27:57.296365' WHERE "player_game_states"."id" = 26 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 1.3ms (4 queries, 0 cached) | GC: 0.4ms)


Started POST "/game/collect_apples/PNLB9Z?player_id=50" for 127.0.0.1 at 2025-06-27 15:27:58 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[7, 7], [7, 8]], "player_id"=>"50", "room_code"=>"PNLB9Z", "game"=>{"positions"=>[[7, 7], [7, 8]]}}
  [1m[36mGameRoom Load (1.7ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" = 50 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 50 AND "player_game_states"."room_code" = 'PNLB9Z' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 29, "updated_at" = '2025-06-27 19:27:58.194006' WHERE "player_game_states"."id" = 26 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 32ms (Views: 0.2ms | ActiveRecord: 2.4ms (4 queries, 0 cached) | GC: 1.3ms)


Started POST "/game/collect_apples/PNLB9Z?player_id=50" for 127.0.0.1 at 2025-06-27 15:27:58 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[8, 8], [9, 8]], "player_id"=>"50", "room_code"=>"PNLB9Z", "game"=>{"positions"=>[[8, 8], [9, 8]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" = 50 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 50 AND "player_game_states"."room_code" = 'PNLB9Z' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 31, "updated_at" = '2025-06-27 19:27:58.756742' WHERE "player_game_states"."id" = 26 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 39ms (Views: 0.2ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.6ms)


Started POST "/game/collect_apples/PNLB9Z?player_id=50" for 127.0.0.1 at 2025-06-27 15:27:59 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[6, 7], [8, 7]], "player_id"=>"50", "room_code"=>"PNLB9Z", "game"=>{"positions"=>[[6, 7], [8, 7]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" = 50 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 50 AND "player_game_states"."room_code" = 'PNLB9Z' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 33, "updated_at" = '2025-06-27 19:27:59.433149' WHERE "player_game_states"."id" = 26 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 41ms (Views: 0.2ms | ActiveRecord: 2.0ms (4 queries, 0 cached) | GC: 1.2ms)


Started POST "/game/collect_apples/PNLB9Z?player_id=50" for 127.0.0.1 at 2025-06-27 15:28:00 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[3, 9], [4, 9], [6, 9]], "player_id"=>"50", "room_code"=>"PNLB9Z", "game"=>{"positions"=>[[3, 9], [4, 9], [6, 9]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" = 50 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 50 AND "player_game_states"."room_code" = 'PNLB9Z' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":true}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 36, "updated_at" = '2025-06-27 19:28:00.425455' WHERE "player_game_states"."id" = 26 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 35ms (Views: 0.7ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/PNLB9Z?player_id=50" for 127.0.0.1 at 2025-06-27 15:28:01 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[7, 3], [7, 4]], "player_id"=>"50", "room_code"=>"PNLB9Z", "game"=>{"positions"=>[[7, 3], [7, 4]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" = 50 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 50 AND "player_game_states"."room_code" = 'PNLB9Z' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":true}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 38, "updated_at" = '2025-06-27 19:28:01.643255' WHERE "player_game_states"."id" = 26 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 34ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 2.0ms)


Started POST "/game/collect_apples/PNLB9Z?player_id=50" for 127.0.0.1 at 2025-06-27 15:28:02 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[6, 2], [6, 3], [6, 4]], "player_id"=>"50", "room_code"=>"PNLB9Z", "game"=>{"positions"=>[[6, 2], [6, 3], [6, 4]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" = 50 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 50 AND "player_game_states"."room_code" = 'PNLB9Z' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.7ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":true}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 41, "updated_at" = '2025-06-27 19:28:02.500526' WHERE "player_game_states"."id" = 26 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 35ms (Views: 0.2ms | ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 0.4ms)


Started POST "/game/collect_apples/PNLB9Z?player_id=50" for 127.0.0.1 at 2025-06-27 15:28:05 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[5, 1], [5, 2], [6, 1]], "player_id"=>"50", "room_code"=>"PNLB9Z", "game"=>{"positions"=>[[5, 1], [5, 2], [6, 1]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" = 50 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 50 AND "player_game_states"."room_code" = 'PNLB9Z' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.7ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":true}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 44, "updated_at" = '2025-06-27 19:28:05.237608' WHERE "player_game_states"."id" = 26 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 37ms (Views: 0.3ms | ActiveRecord: 1.2ms (4 queries, 0 cached) | GC: 0.4ms)


Started POST "/game/collect_apples/PNLB9Z?player_id=50" for 127.0.0.1 at 2025-06-27 15:28:07 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[7, 2], [8, 2], [8, 3]], "player_id"=>"50", "room_code"=>"PNLB9Z", "game"=>{"positions"=>[[7, 2], [8, 2], [8, 3]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" = 50 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 50 AND "player_game_states"."room_code" = 'PNLB9Z' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":true}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 47, "updated_at" = '2025-06-27 19:28:07.317764' WHERE "player_game_states"."id" = 26 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 43ms (Views: 0.3ms | ActiveRecord: 1.7ms (4 queries, 0 cached) | GC: 1.7ms)


Started POST "/game/collect_apples/PNLB9Z?player_id=50" for 127.0.0.1 at 2025-06-27 15:28:08 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[8, 4], [9, 4]], "player_id"=>"50", "room_code"=>"PNLB9Z", "game"=>{"positions"=>[[8, 4], [9, 4]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" = 50 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 50 AND "player_game_states"."room_code" = 'PNLB9Z' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":true}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 49, "updated_at" = '2025-06-27 19:28:08.237035' WHERE "player_game_states"."id" = 26 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 41ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.5ms)


Started POST "/game/collect_apples/PNLB9Z?player_id=50" for 127.0.0.1 at 2025-06-27 15:28:09 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[7, 5], [8, 5]], "player_id"=>"50", "room_code"=>"PNLB9Z", "game"=>{"positions"=>[[7, 5], [8, 5]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" = 50 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 50 AND "player_game_states"."room_code" = 'PNLB9Z' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":true}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 51, "updated_at" = '2025-06-27 19:28:10.044505' WHERE "player_game_states"."id" = 26 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 41ms (Views: 0.4ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.6ms)


Started POST "/game/collect_apples/PNLB9Z?player_id=50" for 127.0.0.1 at 2025-06-27 15:28:11 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[8, 1], [8, 6]], "player_id"=>"50", "room_code"=>"PNLB9Z", "game"=>{"positions"=>[[8, 1], [8, 6]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" = 50 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 50 AND "player_game_states"."room_code" = 'PNLB9Z' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":true}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":false}]]', "score" = 53, "updated_at" = '2025-06-27 19:28:11.664977' WHERE "player_game_states"."id" = 26 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 40ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/request_new_board/PNLB9Z?player_id=50" for 127.0.0.1 at 2025-06-27 15:28:12 -0400
Processing by GameController#request_new_board as */*
  Parameters: {"player_id"=>"50", "room_code"=>"PNLB9Z", "game"=>{}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:211:in `request_new_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" = 50 LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:212:in `request_new_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 50 AND "player_game_states"."room_code" = 'PNLB9Z' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:249:in `request_new_board'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "updated_at" = '2025-06-27 19:28:12.733493', "needs_new_board" = 1 WHERE "player_game_states"."id" = 26 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:249:in `request_new_board'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:249:in `request_new_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" != 50 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:252:in `all?'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 49 AND "player_game_states"."room_code" = 'PNLB9Z' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mGameBoard Create (0.5ms)[0m  [1m[32mINSERT INTO "game_boards" ("room_code", "board_state", "created_at") VALUES ('PNLB9Z', '[[{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":2},{"fruit":"🍎","value":6},{"fruit":"🍎","value":2},{"fruit":"🍎","value":8},{"fruit":"🍎","value":8},{"fruit":"🍎","value":7},{"fruit":"🍎","value":9},{"fruit":"🍎","value":6}],[{"fruit":"🍎","value":2},{"fruit":"🍎","value":4},{"fruit":"🍎","value":6},{"fruit":"🍎","value":3},{"fruit":"🍎","value":8},{"fruit":"🍎","value":8},{"fruit":"🍎","value":9},{"fruit":"🍎","value":1},{"fruit":"🍎","value":7},{"fruit":"🍎","value":6}],[{"fruit":"🍎","value":4},{"fruit":"🍎","value":8},{"fruit":"🍎","value":2},{"fruit":"🍎","value":4},{"fruit":"🍎","value":8},{"fruit":"🍎","value":3},{"fruit":"🍎","value":4},{"fruit":"🍎","value":5},{"fruit":"🍎","value":2},{"fruit":"🍎","value":8}],[{"fruit":"🍎","value":2},{"fruit":"🍎","value":6},{"fruit":"🍎","value":7},{"fruit":"🍎","value":6},{"fruit":"🍎","value":2},{"fruit":"🍎","value":8},{"fruit":"🍎","value":9},{"fruit":"🍎","value":8},{"fruit":"🍎","value":2},{"fruit":"🍎","value":3}],[{"fruit":"🍎","value":8},{"fruit":"🍎","value":4},{"fruit":"🍎","value":1},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":4},{"fruit":"🍎","value":6},{"fruit":"🍎","value":7},{"fruit":"🍎","value":1},{"fruit":"🍎","value":2}],[{"fruit":"🍎","value":9},{"fruit":"🍎","value":3},{"fruit":"🍎","value":9},{"fruit":"🍎","value":8},{"fruit":"🍎","value":2},{"fruit":"🍎","value":6},{"fruit":"🍎","value":5},{"fruit":"🍎","value":3},{"fruit":"🍎","value":6},{"fruit":"🍎","value":4}],[{"fruit":"🍎","value":4},{"fruit":"🍎","value":5},{"fruit":"🍎","value":6},{"fruit":"🍎","value":7},{"fruit":"🍎","value":9},{"fruit":"🍎","value":8},{"fruit":"🍎","value":3},{"fruit":"🍎","value":6},{"fruit":"🍎","value":2},{"fruit":"🍎","value":9}],[{"fruit":"🍎","value":2},{"fruit":"🍎","value":7},{"fruit":"🍎","value":9},{"fruit":"🍎","value":4},{"fruit":"🍎","value":1},{"fruit":"🍎","value":5},{"fruit":"🍎","value":3},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":3}],[{"fruit":"🍎","value":9},{"fruit":"🍎","value":9},{"fruit":"🍎","value":5},{"fruit":"🍎","value":7},{"fruit":"🍎","value":2},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":7},{"fruit":"🍎","value":6},{"fruit":"🍎","value":2}],[{"fruit":"🍎","value":1},{"fruit":"🍎","value":1},{"fruit":"🍎","value":3},{"fruit":"🍎","value":4},{"fruit":"🍎","value":4},{"fruit":"🍎","value":1},{"fruit":"🍎","value":9},{"fruit":"🍎","value":7},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6}]]', '2025-06-27 19:28:12.737518') RETURNING "id" /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayer Load (0.6ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."id" = 50 LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayerGameState Create (0.1ms)[0m  [1m[32mINSERT INTO "player_game_states" ("player_id", "room_code", "board_state", "score", "time_remaining", "created_at", "updated_at", "finished", "final_score", "needs_new_board") VALUES (50, 'PNLB9Z', '[[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}]]', 0, 90, '2025-06-27 19:28:12.742469', '2025-06-27 19:28:12.742469', NULL, NULL, 0) RETURNING "id" /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
Completed 200 OK in 47ms (Views: 0.2ms | ActiveRecord: 3.0ms (9 queries, 0 cached) | GC: 2.4ms)


Started POST "/game/collect_apples/PNLB9Z?player_id=50" for 127.0.0.1 at 2025-06-27 15:28:15 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[8, 1], [9, 1]], "player_id"=>"50", "room_code"=>"PNLB9Z", "game"=>{"positions"=>[[8, 1], [9, 1]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" = 50 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 50 AND "player_game_states"."room_code" = 'PNLB9Z' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}]]', "score" = 2, "updated_at" = '2025-06-27 19:28:15.753523' WHERE "player_game_states"."id" = 27 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 44ms (Views: 0.3ms | ActiveRecord: 1.2ms (4 queries, 0 cached) | GC: 0.5ms)


Started POST "/game/collect_apples/PNLB9Z?player_id=50" for 127.0.0.1 at 2025-06-27 15:28:16 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[8, 0], [9, 0]], "player_id"=>"50", "room_code"=>"PNLB9Z", "game"=>{"positions"=>[[8, 0], [9, 0]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" = 50 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 50 AND "player_game_states"."room_code" = 'PNLB9Z' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}]]', "score" = 4, "updated_at" = '2025-06-27 19:28:16.358041' WHERE "player_game_states"."id" = 27 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 34ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.3ms)


Started POST "/game/collect_apples/PNLB9Z?player_id=50" for 127.0.0.1 at 2025-06-27 15:28:25 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 2], [0, 3], [0, 4]], "player_id"=>"50", "room_code"=>"PNLB9Z", "game"=>{"positions"=>[[0, 2], [0, 3], [0, 4]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" = 50 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 50 AND "player_game_states"."room_code" = 'PNLB9Z' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.8ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}]]', "score" = 7, "updated_at" = '2025-06-27 19:28:25.407976' WHERE "player_game_states"."id" = 27 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 37ms (Views: 0.3ms | ActiveRecord: 1.3ms (4 queries, 0 cached) | GC: 1.5ms)


Started POST "/game/collect_apples/PNLB9Z?player_id=50" for 127.0.0.1 at 2025-06-27 15:28:27 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 1], [1, 1]], "player_id"=>"50", "room_code"=>"PNLB9Z", "game"=>{"positions"=>[[0, 1], [1, 1]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" = 50 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 50 AND "player_game_states"."room_code" = 'PNLB9Z' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}]]', "score" = 9, "updated_at" = '2025-06-27 19:28:27.933275' WHERE "player_game_states"."id" = 27 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 40ms (Views: 0.2ms | ActiveRecord: 1.3ms (4 queries, 0 cached) | GC: 2.2ms)


Started POST "/game/collect_apples/PNLB9Z?player_id=50" for 127.0.0.1 at 2025-06-27 15:28:29 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[2, 1], [2, 2]], "player_id"=>"50", "room_code"=>"PNLB9Z", "game"=>{"positions"=>[[2, 1], [2, 2]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" = 50 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 50 AND "player_game_states"."room_code" = 'PNLB9Z' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}]]', "score" = 11, "updated_at" = '2025-06-27 19:28:29.864942' WHERE "player_game_states"."id" = 27 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 46ms (Views: 0.3ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.5ms)


Started POST "/game/collect_apples/PNLB9Z?player_id=50" for 127.0.0.1 at 2025-06-27 15:28:32 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[3, 1], [4, 1]], "player_id"=>"50", "room_code"=>"PNLB9Z", "game"=>{"positions"=>[[3, 1], [4, 1]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" = 50 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 50 AND "player_game_states"."room_code" = 'PNLB9Z' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}]]', "score" = 13, "updated_at" = '2025-06-27 19:28:32.064413' WHERE "player_game_states"."id" = 27 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 42ms (Views: 0.3ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 1.7ms)


Started POST "/game/collect_apples/PNLB9Z?player_id=50" for 127.0.0.1 at 2025-06-27 15:28:32 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[3, 0], [4, 0]], "player_id"=>"50", "room_code"=>"PNLB9Z", "game"=>{"positions"=>[[3, 0], [4, 0]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" = 50 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 50 AND "player_game_states"."room_code" = 'PNLB9Z' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}]]', "score" = 15, "updated_at" = '2025-06-27 19:28:32.797247' WHERE "player_game_states"."id" = 27 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:45:in `collect_apples'
Completed 200 OK in 40ms (Views: 0.2ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.6ms)


Started POST "/game/player_finished/PNLB9Z?player_id=50" for 127.0.0.1 at 2025-06-27 15:29:12 -0400
Processing by GameController#player_finished as */*
  Parameters: {"player_id"=>"50", "room_code"=>"PNLB9Z", "game"=>{}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:179:in `player_finished'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 AND "players"."id" = 50 LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:180:in `player_finished'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 50 AND "player_game_states"."room_code" = 'PNLB9Z' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:187:in `player_finished'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "updated_at" = '2025-06-27 19:29:12.264022', "finished" = 1, "final_score" = 15 WHERE "player_game_states"."id" = 27 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:187:in `player_finished'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:187:in `player_finished'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:190:in `all?'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 49 AND "player_game_states"."room_code" = 'PNLB9Z' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 25ms (Views: 0.1ms | ActiveRecord: 1.1ms (6 queries, 0 cached) | GC: 0.3ms)


Started GET "/game/status/PNLB9Z" for 127.0.0.1 at 2025-06-27 15:29:16 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"PNLB9Z"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 46ms (Views: 0.1ms | ActiveRecord: 1.3ms (4 queries, 2 cached) | GC: 0.5ms)


Started GET "/game/status/PNLB9Z" for 127.0.0.1 at 2025-06-27 15:29:19 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"PNLB9Z"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 20ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/PNLB9Z" for 127.0.0.1 at 2025-06-27 15:29:22 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"PNLB9Z"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 27ms (Views: 0.1ms | ActiveRecord: 1.0ms (4 queries, 2 cached) | GC: 1.1ms)


Started GET "/game/status/PNLB9Z" for 127.0.0.1 at 2025-06-27 15:29:25 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"PNLB9Z"}
  [1m[36mGameRoom Load (0.4ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (1.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 103ms (Views: 0.1ms | ActiveRecord: 2.3ms (4 queries, 2 cached) | GC: 0.3ms)


Started GET "/game/status/PNLB9Z" for 127.0.0.1 at 2025-06-27 15:29:28 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"PNLB9Z"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 22ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/PNLB9Z" for 127.0.0.1 at 2025-06-27 15:29:31 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"PNLB9Z"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 27ms (Views: 0.2ms | ActiveRecord: 1.0ms (4 queries, 2 cached) | GC: 0.5ms)


Started GET "/game/status/PNLB9Z" for 127.0.0.1 at 2025-06-27 15:29:34 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"PNLB9Z"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 22ms (Views: 0.2ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.2ms)


Started GET "/game/status/PNLB9Z" for 127.0.0.1 at 2025-06-27 15:29:37 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"PNLB9Z"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 29ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/PNLB9Z" for 127.0.0.1 at 2025-06-27 15:29:40 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"PNLB9Z"}
  [1m[36mGameRoom Load (0.4ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 46ms (Views: 0.4ms | ActiveRecord: 3.7ms (4 queries, 2 cached) | GC: 0.8ms)


Started GET "/game/status/PNLB9Z" for 127.0.0.1 at 2025-06-27 15:29:43 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"PNLB9Z"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 23ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/PNLB9Z" for 127.0.0.1 at 2025-06-27 15:29:46 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"PNLB9Z"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 25ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/PNLB9Z" for 127.0.0.1 at 2025-06-27 15:29:49 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"PNLB9Z"}
  [1m[36mGameRoom Load (0.6ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 108ms (Views: 0.7ms | ActiveRecord: 1.3ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/PNLB9Z" for 127.0.0.1 at 2025-06-27 15:29:52 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"PNLB9Z"}
  [1m[36mGameRoom Load (0.6ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 101ms (Views: 0.1ms | ActiveRecord: 1.0ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/PNLB9Z" for 127.0.0.1 at 2025-06-27 15:29:55 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"PNLB9Z"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 41ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 2.2ms)


Started GET "/game/status/PNLB9Z" for 127.0.0.1 at 2025-06-27 15:29:58 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"PNLB9Z"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 70ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/PNLB9Z" for 127.0.0.1 at 2025-06-27 15:30:01 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"PNLB9Z"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 39ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/PNLB9Z" for 127.0.0.1 at 2025-06-27 15:30:04 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"PNLB9Z"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 26ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.2ms)


Started GET "/game/status/PNLB9Z" for 127.0.0.1 at 2025-06-27 15:30:07 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"PNLB9Z"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'PNLB9Z' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 24ms (Views: 0.1ms | ActiveRecord: 0.1ms (4 queries, 2 cached) | GC: 0.1ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:30:08 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.1ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 29 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.1ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 29 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 13.5ms | GC: 9.4ms)
  Rendered layout layouts/application.html.erb (Duration: 16.4ms | GC: 11.6ms)
Completed 200 OK in 85ms (Views: 18.2ms | ActiveRecord: 0.8ms (7 queries, 2 cached) | GC: 30.7ms)


Started POST "/game/cleanup_rooms?delete_all=true" for 127.0.0.1 at 2025-06-27 15:30:11 -0400
Processing by GameController#cleanup_rooms as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "delete_all"=>"true"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 29 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 29 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 29 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayer Load (0.5ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 29 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameMove Load (0.1ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."player_id" = 49 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 49 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayerGameState Destroy (0.0ms)[0m  [1m[31mDELETE FROM "player_game_states" WHERE "player_game_states"."id" = 25 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayer Destroy (0.0ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 49 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameMove Load (0.0ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."player_id" = 50 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayerGameState Load (0.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 50 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayerGameState Destroy (0.0ms)[0m  [1m[31mDELETE FROM "player_game_states" WHERE "player_game_states"."id" = 26 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayerGameState Destroy (0.0ms)[0m  [1m[31mDELETE FROM "player_game_states" WHERE "player_game_states"."id" = 27 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mPlayer Destroy (0.0ms)[0m  [1m[31mDELETE FROM "players" WHERE "players"."id" = 50 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameMove Load (0.0ms)[0m  [1m[34mSELECT "game_moves".* FROM "game_moves" WHERE "game_moves"."game_room_id" = 29 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameBoard Load (0.0ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'PNLB9Z' /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameBoard Destroy (0.0ms)[0m  [1m[31mDELETE FROM "game_boards" WHERE "game_boards"."id" = 33 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameBoard Destroy (0.0ms)[0m  [1m[31mDELETE FROM "game_boards" WHERE "game_boards"."id" = 34 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mGameRoom Destroy (0.0ms)[0m  [1m[31mDELETE FROM "game_rooms" WHERE "game_rooms"."id" = 29 /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='cleanup_rooms',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:132:in `cleanup_rooms'
Redirected to http://127.0.0.1:3000/game/multiplayer
Completed 302 Found in 62ms (ActiveRecord: 1.8ms (20 queries, 1 cached) | GC: 2.6ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:30:11 -0400
Processing by GameController#multiplayer as TURBO_STREAM
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.3ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | GC: 0.0ms)
Completed 200 OK in 21ms (Views: 1.6ms | ActiveRecord: 0.1ms (2 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/create_room" for 127.0.0.1 at 2025-06-27 15:30:14 -0400
Processing by GameController#create_room as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "game_room"=>{"name"=>"test room", "max_players"=>"2"}, "commit"=>"Create Room"}
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
Cleaned up 0 rooms
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Exists? (4.3ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' LIMIT 1 /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mGameRoom Create (0.3ms)[0m  [1m[32mINSERT INTO "game_rooms" ("name", "room_code", "max_players", "status", "created_at", "updated_at") VALUES ('test room', 'SZW54T', 2, NULL, '2025-06-27 19:30:14.602668', '2025-06-27 19:30:14.602668') RETURNING "id" /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:14:in `create_room'
Redirected to http://127.0.0.1:3000/game/join/SZW54T
Completed 302 Found in 43ms (ActiveRecord: 4.8ms (3 queries, 0 cached) | GC: 3.6ms)


Started GET "/game/join/SZW54T" for 127.0.0.1 at 2025-06-27 15:30:14 -0400
Processing by GameController#join_room as TURBO_STREAM
  Parameters: {"room_code"=>"SZW54T"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30[0m
  ↳ app/models/game_room.rb:12:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.3ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 3.2ms | ActiveRecord: 0.3ms (4 queries, 1 cached) | GC: 0.7ms)


Started POST "/game/join/SZW54T" for 127.0.0.1 at 2025-06-27 15:30:16 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris"}, "commit"=>"Join Game", "room_code"=>"SZW54T"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 0
Room max players: 2
Player params: {"name"=>"chris"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30[0m
  ↳ app/models/game_room.rb:12:in `full?'
  [1m[36mPlayer Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 30 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 30 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris' AND "players"."game_room_id" = 30 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (0.5ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (30, 'chris', 0, '2025-06-27 19:30:16.720212', '2025-06-27 19:30:16.720212') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 51
Redirected to http://127.0.0.1:3000/game/waiting/SZW54T/51
Completed 302 Found in 42ms (ActiveRecord: 0.8ms (7 queries, 3 cached) | GC: 1.6ms)


Started GET "/game/waiting/SZW54T/51" for 127.0.0.1 at 2025-06-27 15:30:16 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"SZW54T", "player_id"=>"51"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 2.0ms | GC: 0.2ms)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | GC: 0.2ms)
Completed 200 OK in 26ms (Views: 2.5ms | ActiveRecord: 0.3ms (5 queries, 1 cached) | GC: 0.2ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:30:20 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 30 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 30 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 3.1ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | GC: 0.0ms)
Completed 200 OK in 44ms (Views: 3.5ms | ActiveRecord: 0.3ms (7 queries, 2 cached) | GC: 0.7ms)


Started GET "/game/multiplayer" for 127.0.0.1 at 2025-06-27 15:30:20 -0400
Processing by GameController#multiplayer as HTML
Running cleanup before action...
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:62:in `cleanup_old_rooms'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:20:in `empty?'
  [1m[36mPlayer Maximum (0.0ms)[0m  [1m[34mSELECT MAX("players"."updated_at") FROM "players" WHERE "players"."game_room_id" = 30 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:25:in `last_activity'
  [1m[36mGameMove Maximum (0.0ms)[0m  [1m[34mSELECT MAX("game_moves"."created_at") FROM "game_moves" WHERE "game_moves"."game_room_id" = 30 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:26:in `last_activity'
Cleaned up 0 rooms
  Rendering layout layouts/application.html.erb
  Rendering game/multiplayer.html.erb within layouts/application
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" LIMIT 1 /*action='multiplayer',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/multiplayer.html.erb:15
  [1m[36mCACHE GameRoom Load (0.0ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms"[0m
  ↳ app/views/game/multiplayer.html.erb:17
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30[0m
  ↳ app/views/game/multiplayer.html.erb:21
  Rendered game/multiplayer.html.erb within layouts/application (Duration: 1.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.6ms | GC: 0.0ms)
Completed 200 OK in 29ms (Views: 2.9ms | ActiveRecord: 0.2ms (7 queries, 2 cached) | GC: 0.0ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 15:30:20 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started GET "/game/join/SZW54T?room_code=SZW54T&commit=Join+Room" for 127.0.0.1 at 2025-06-27 15:30:23 -0400
Processing by GameController#join_room as HTML
  Parameters: {"room_code"=>"SZW54T", "commit"=>"Join Room"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:22:in `join_room'
  Rendering layout layouts/application.html.erb
  Rendering game/join_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:13
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 /*action='join_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/join_room.html.erb:19
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30[0m
  ↳ app/models/game_room.rb:12:in `full?'
  Rendered game/join_room.html.erb within layouts/application (Duration: 2.5ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 2.7ms | GC: 0.6ms)
Completed 200 OK in 31ms (Views: 2.7ms | ActiveRecord: 0.2ms (4 queries, 1 cached) | GC: 0.6ms)


Started POST "/game/join/SZW54T" for 127.0.0.1 at 2025-06-27 15:30:24 -0400
Processing by GameController#join_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player"=>{"name"=>"chris2"}, "commit"=>"Join Game", "room_code"=>"SZW54T"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:33:in `join_game'
Join game attempt for room: test room
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:36:in `join_game'
Room current players: 1
Room max players: 2
Player params: {"name"=>"chris2"}
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30[0m
  ↳ app/models/game_room.rb:12:in `full?'
  [1m[36mPlayer Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 30 LIMIT 1 /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:48:in `join_game'
Player valid? true
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 30 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:49:in `join_game'
  [1m[36mCACHE Player Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "players" WHERE "players"."name" = 'chris2' AND "players"."game_room_id" = 30 LIMIT 1[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mPlayer Create (0.6ms)[0m  [1m[32mINSERT INTO "players" ("game_room_id", "name", "score", "created_at", "updated_at") VALUES (30, 'chris2', 0, '2025-06-27 19:30:24.749537', '2025-06-27 19:30:24.749537') RETURNING "id" /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='join_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:51:in `join_game'
Player saved successfully with ID: 52
Redirected to http://127.0.0.1:3000/game/waiting/SZW54T/52
Completed 302 Found in 33ms (ActiveRecord: 1.2ms (7 queries, 3 cached) | GC: 0.3ms)


Started GET "/game/waiting/SZW54T/52" for 127.0.0.1 at 2025-06-27 15:30:24 -0400
Processing by GameController#waiting_room as TURBO_STREAM
  Parameters: {"room_code"=>"SZW54T", "player_id"=>"52"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 52 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 1.5ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | GC: 0.0ms)
Completed 200 OK in 24ms (Views: 2.0ms | ActiveRecord: 0.2ms (5 queries, 1 cached) | GC: 0.0ms)


Started GET "/game/waiting/SZW54T/51" for 127.0.0.1 at 2025-06-27 15:30:26 -0400
Processing by GameController#waiting_room as HTML
  Parameters: {"room_code"=>"SZW54T", "player_id"=>"51"}
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:61:in `waiting_room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:62:in `waiting_room'
  Rendering layout layouts/application.html.erb
  Rendering game/waiting_room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:26
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 /*action='waiting_room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/waiting_room.html.erb:32
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  Rendered game/waiting_room.html.erb within layouts/application (Duration: 2.1ms | GC: 0.6ms)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | GC: 0.6ms)
Completed 200 OK in 30ms (Views: 3.3ms | ActiveRecord: 0.4ms (5 queries, 1 cached) | GC: 0.6ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 15:30:26 -0400
Started GET "/game/status/SZW54T" for 127.0.0.1 at 2025-06-27 15:30:26 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"SZW54T"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: 
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"waiting", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 60ms (Views: 0.2ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 2.6ms)


Started GET "/game/room/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:30:27 -0400
Processing by GameController#room as HTML
  Parameters: {"player_id"=>"51", "room_code"=>"SZW54T"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 ORDER BY "players"."id" ASC LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:78
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 4.8ms | GC: 1.7ms)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | GC: 1.7ms)
Completed 200 OK in 33ms (Views: 5.0ms | ActiveRecord: 0.3ms (6 queries, 1 cached) | GC: 1.7ms)


Started GET "/.well-known/appspecific/com.chrome.devtools.json" for 127.0.0.1 at 2025-06-27 15:30:27 -0400
  
ActionController::RoutingError (No route matches [GET] "/.well-known/appspecific/com.chrome.devtools.json"):
  
Started POST "/game/start/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:30:28 -0400
Processing by GameController#start_game as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "player_id"=>"51", "room_code"=>"SZW54T"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:74:in `start_game'
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "game_rooms" WHERE "game_rooms"."name" = 'test room' AND "game_rooms"."id" != 30 LIMIT 1 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mGameRoom Update (0.0ms)[0m  [1m[33mUPDATE "game_rooms" SET "status" = 'playing', "updated_at" = '2025-06-27 19:30:28.314553' WHERE "game_rooms"."id" = 30 /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='start_game',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:77:in `start_game'
Redirected to http://127.0.0.1:3000/game/room/SZW54T?player_id=51
Completed 302 Found in 38ms (ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 0.3ms)


Started GET "/game/room/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:30:28 -0400
Processing by GameController#room as TURBO_STREAM
  Parameters: {"player_id"=>"51", "room_code"=>"SZW54T"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:66:in `room'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:69:in `room'
  Rendering layout layouts/application.html.erb
  Rendering game/room.html.erb within layouts/application
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:12
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 /*action='room',application='FruitBox',controller='game'*/[0m
  ↳ app/views/game/room.html.erb:101
  Rendered game/room.html.erb within layouts/application (Duration: 1.7ms | GC: 0.5ms)
  Rendered layout layouts/application.html.erb (Duration: 2.1ms | GC: 0.5ms)
Completed 200 OK in 28ms (Views: 2.3ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 0.5ms)


Started GET "/game/board/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:30:28 -0400
Processing by GameController#get_board as */*
  Parameters: {"player_id"=>"51", "room_code"=>"SZW54T"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:103:in `get_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:104:in `get_board'
  [1m[36mGameBoard Load (0.1ms)[0m  [1m[34mSELECT "game_boards".* FROM "game_boards" WHERE "game_boards"."room_code" = 'SZW54T' ORDER BY "game_boards"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:6:in `current_board'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mGameBoard Create (0.5ms)[0m  [1m[32mINSERT INTO "game_boards" ("room_code", "board_state", "created_at") VALUES ('SZW54T', '[[{"fruit":"🍎","value":2},{"fruit":"🍎","value":5},{"fruit":"🍎","value":7},{"fruit":"🍎","value":8},{"fruit":"🍎","value":9},{"fruit":"🍎","value":5},{"fruit":"🍎","value":7},{"fruit":"🍎","value":1},{"fruit":"🍎","value":8},{"fruit":"🍎","value":5}],[{"fruit":"🍎","value":8},{"fruit":"🍎","value":4},{"fruit":"🍎","value":4},{"fruit":"🍎","value":8},{"fruit":"🍎","value":8},{"fruit":"🍎","value":3},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":9},{"fruit":"🍎","value":1}],[{"fruit":"🍎","value":2},{"fruit":"🍎","value":2},{"fruit":"🍎","value":2},{"fruit":"🍎","value":1},{"fruit":"🍎","value":8},{"fruit":"🍎","value":1},{"fruit":"🍎","value":8},{"fruit":"🍎","value":3},{"fruit":"🍎","value":4},{"fruit":"🍎","value":7}],[{"fruit":"🍎","value":6},{"fruit":"🍎","value":5},{"fruit":"🍎","value":7},{"fruit":"🍎","value":6},{"fruit":"🍎","value":2},{"fruit":"🍎","value":4},{"fruit":"🍎","value":9},{"fruit":"🍎","value":3},{"fruit":"🍎","value":6},{"fruit":"🍎","value":5}],[{"fruit":"🍎","value":9},{"fruit":"🍎","value":2},{"fruit":"🍎","value":9},{"fruit":"🍎","value":2},{"fruit":"🍎","value":2},{"fruit":"🍎","value":9},{"fruit":"🍎","value":6},{"fruit":"🍎","value":9},{"fruit":"🍎","value":6},{"fruit":"🍎","value":7}],[{"fruit":"🍎","value":2},{"fruit":"🍎","value":5},{"fruit":"🍎","value":7},{"fruit":"🍎","value":3},{"fruit":"🍎","value":1},{"fruit":"🍎","value":5},{"fruit":"🍎","value":8},{"fruit":"🍎","value":1},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6}],[{"fruit":"🍎","value":9},{"fruit":"🍎","value":9},{"fruit":"🍎","value":4},{"fruit":"🍎","value":6},{"fruit":"🍎","value":9},{"fruit":"🍎","value":1},{"fruit":"🍎","value":6},{"fruit":"🍎","value":1},{"fruit":"🍎","value":5},{"fruit":"🍎","value":7}],[{"fruit":"🍎","value":1},{"fruit":"🍎","value":3},{"fruit":"🍎","value":9},{"fruit":"🍎","value":3},{"fruit":"🍎","value":8},{"fruit":"🍎","value":3},{"fruit":"🍎","value":9},{"fruit":"🍎","value":2},{"fruit":"🍎","value":7},{"fruit":"🍎","value":1}],[{"fruit":"🍎","value":6},{"fruit":"🍎","value":1},{"fruit":"🍎","value":9},{"fruit":"🍎","value":8},{"fruit":"🍎","value":4},{"fruit":"🍎","value":4},{"fruit":"🍎","value":7},{"fruit":"🍎","value":3},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6}],[{"fruit":"🍎","value":8},{"fruit":"🍎","value":2},{"fruit":"🍎","value":8},{"fruit":"🍎","value":3},{"fruit":"🍎","value":4},{"fruit":"🍎","value":2},{"fruit":"🍎","value":4},{"fruit":"🍎","value":8},{"fruit":"🍎","value":8},{"fruit":"🍎","value":4}]]', '2025-06-27 19:30:28.407377') RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayer Load (0.7ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."id" = 51 LIMIT 1 /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mPlayerGameState Create (0.1ms)[0m  [1m[32mINSERT INTO "player_game_states" ("player_id", "room_code", "board_state", "score", "time_remaining", "created_at", "updated_at", "finished", "final_score", "needs_new_board") VALUES (51, 'SZW54T', '[[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false}]]', 0, 90, '2025-06-27 19:30:28.415254', '2025-06-27 19:30:28.415254', NULL, NULL, 0) RETURNING "id" /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='get_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:23:in `create_initial_state'
Completed 200 OK in 40ms (Views: 0.2ms | ActiveRecord: 1.9ms (7 queries, 0 cached) | GC: 0.7ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:30:31 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 0], [1, 0]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[0, 0], [1, 0]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.9ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false}]]', "score" = 2, "updated_at" = '2025-06-27 19:30:31.749013' WHERE "player_game_states"."id" = 28 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 1.7ms (4 queries, 0 cached) | GC: 2.3ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:30:32 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[2, 3], [2, 4], [2, 5]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[2, 3], [2, 4], [2, 5]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false}]]', "score" = 5, "updated_at" = '2025-06-27 19:30:32.991059' WHERE "player_game_states"."id" = 28 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 39ms (Views: 0.2ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 2.1ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:30:34 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[1, 4], [3, 4]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[1, 4], [3, 4]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.2ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.7ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false}]]', "score" = 7, "updated_at" = '2025-06-27 19:30:34.244198' WHERE "player_game_states"."id" = 28 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 1.2ms (4 queries, 0 cached) | GC: 1.0ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:30:35 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[2, 2], [2, 6]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[2, 2], [2, 6]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.8ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false}]]', "score" = 9, "updated_at" = '2025-06-27 19:30:35.625202' WHERE "player_game_states"."id" = 28 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 41ms (Views: 0.2ms | ActiveRecord: 3.0ms (4 queries, 0 cached) | GC: 1.8ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:30:36 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 7], [1, 7], [2, 7]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[0, 7], [1, 7], [2, 7]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false}]]', "score" = 12, "updated_at" = '2025-06-27 19:30:36.663519' WHERE "player_game_states"."id" = 28 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.8ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:30:38 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[1, 1], [1, 2], [2, 1]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[1, 1], [1, 2], [2, 1]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false}]]', "score" = 15, "updated_at" = '2025-06-27 19:30:38.151252' WHERE "player_game_states"."id" = 28 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 43ms (Views: 0.6ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.5ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:30:39 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 1], [3, 1]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[0, 1], [3, 1]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false}]]', "score" = 17, "updated_at" = '2025-06-27 19:30:39.710389' WHERE "player_game_states"."id" = 28 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 45ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 1.9ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:30:40 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[1, 3], [2, 0]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[1, 3], [2, 0]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false}]]', "score" = 19, "updated_at" = '2025-06-27 19:30:40.668816' WHERE "player_game_states"."id" = 28 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 40ms (Views: 0.2ms | ActiveRecord: 1.2ms (4 queries, 0 cached) | GC: 0.7ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:30:41 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[3, 3], [4, 3], [4, 4]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[3, 3], [4, 3], [4, 4]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (1.3ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false}]]', "score" = 22, "updated_at" = '2025-06-27 19:30:41.946999' WHERE "player_game_states"."id" = 28 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 1.6ms (4 queries, 0 cached) | GC: 0.6ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:30:43 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 4], [5, 4]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[0, 4], [5, 4]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false}]]', "score" = 24, "updated_at" = '2025-06-27 19:30:43.710212' WHERE "player_game_states"."id" = 28 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 39ms (Views: 0.2ms | ActiveRecord: 0.7ms (4 queries, 0 cached) | GC: 1.4ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:30:44 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[5, 2], [5, 3]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[5, 2], [5, 3]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false}]]', "score" = 26, "updated_at" = '2025-06-27 19:30:44.615990' WHERE "player_game_states"."id" = 28 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 36ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.5ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:30:45 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[6, 2], [6, 3]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[6, 2], [6, 3]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false}]]', "score" = 28, "updated_at" = '2025-06-27 19:30:45.270243' WHERE "player_game_states"."id" = 28 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 35ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.7ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:30:46 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[5, 1], [5, 5]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[5, 1], [5, 5]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false}]]', "score" = 30, "updated_at" = '2025-06-27 19:30:46.315246' WHERE "player_game_states"."id" = 28 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 36ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 1.1ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:30:46 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[6, 4], [6, 5]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[6, 4], [6, 5]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false}]]', "score" = 32, "updated_at" = '2025-06-27 19:30:46.911186' WHERE "player_game_states"."id" = 28 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 36ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.6ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:30:48 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[6, 0], [7, 0]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[6, 0], [7, 0]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false}]]', "score" = 34, "updated_at" = '2025-06-27 19:30:49.035480' WHERE "player_game_states"."id" = 28 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 35ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.8ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:30:50 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[5, 0], [5, 6]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[5, 0], [5, 6]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false}]]', "score" = 36, "updated_at" = '2025-06-27 19:30:50.101312' WHERE "player_game_states"."id" = 28 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 40ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:30:51 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[8, 1], [8, 2]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[8, 1], [8, 2]]}}
  [1m[36mGameRoom Load (0.4ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (1.1ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false}]]', "score" = 38, "updated_at" = '2025-06-27 19:30:51.359185' WHERE "player_game_states"."id" = 28 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 41ms (Views: 0.2ms | ActiveRecord: 1.7ms (4 queries, 0 cached) | GC: 0.6ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:30:53 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[9, 0], [9, 1]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[9, 0], [9, 1]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.3ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false}]]', "score" = 40, "updated_at" = '2025-06-27 19:30:53.143342' WHERE "player_game_states"."id" = 28 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 29ms (Views: 0.2ms | ActiveRecord: 0.6ms (4 queries, 0 cached) | GC: 0.2ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:30:55 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[9, 4], [9, 5], [9, 6]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[9, 4], [9, 5], [9, 6]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false}]]', "score" = 43, "updated_at" = '2025-06-27 19:30:55.446291' WHERE "player_game_states"."id" = 28 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 32ms (Views: 0.2ms | ActiveRecord: 0.6ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:30:56 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[8, 6], [8, 7]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[8, 6], [8, 7]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false}]]', "score" = 45, "updated_at" = '2025-06-27 19:30:56.397802' WHERE "player_game_states"."id" = 28 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 33ms (Views: 0.2ms | ActiveRecord: 0.7ms (4 queries, 0 cached) | GC: 0.9ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:30:57 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[7, 7], [9, 7]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[7, 7], [9, 7]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.7ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false}]]', "score" = 47, "updated_at" = '2025-06-27 19:30:57.475918' WHERE "player_game_states"."id" = 28 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 30ms (Views: 0.1ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.2ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:30:58 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[8, 5], [8, 8]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[8, 5], [8, 8]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.6ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false}]]', "score" = 49, "updated_at" = '2025-06-27 19:30:58.292597' WHERE "player_game_states"."id" = 28 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 34ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.6ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:30:58 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[8, 9], [9, 9]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[8, 9], [9, 9]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (1.2ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true}]]', "score" = 51, "updated_at" = '2025-06-27 19:30:58.839537' WHERE "player_game_states"."id" = 28 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 30ms (Views: 0.1ms | ActiveRecord: 1.4ms (4 queries, 0 cached) | GC: 0.8ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:31:00 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[4, 7], [5, 7]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[4, 7], [5, 7]]}}
  [1m[36mGameRoom Load (0.7ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true}]]', "score" = 53, "updated_at" = '2025-06-27 19:31:00.231887' WHERE "player_game_states"."id" = 28 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 43ms (Views: 0.2ms | ActiveRecord: 1.8ms (4 queries, 0 cached) | GC: 0.6ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:31:01 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[1, 8], [1, 9]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[1, 8], [1, 9]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.9ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true}]]', "score" = 55, "updated_at" = '2025-06-27 19:31:01.459238' WHERE "player_game_states"."id" = 28 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 33ms (Views: 0.3ms | ActiveRecord: 1.2ms (4 queries, 0 cached) | GC: 0.4ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:31:02 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[1, 6], [2, 8]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[1, 6], [2, 8]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true}]]', "score" = 57, "updated_at" = '2025-06-27 19:31:02.598493' WHERE "player_game_states"."id" = 28 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 44ms (Views: 0.4ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 2.6ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:31:03 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[1, 5], [2, 9]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[1, 5], [2, 9]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.7ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true}]]', "score" = 59, "updated_at" = '2025-06-27 19:31:03.724181' WHERE "player_game_states"."id" = 28 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 40ms (Views: 0.2ms | ActiveRecord: 1.5ms (4 queries, 0 cached) | GC: 0.6ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:31:04 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 9], [3, 9]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[0, 9], [3, 9]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.9ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":6,"collected":true}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":true}]]', "score" = 61, "updated_at" = '2025-06-27 19:31:05.037439' WHERE "player_game_states"."id" = 28 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 49ms (Views: 0.3ms | ActiveRecord: 1.4ms (4 queries, 0 cached) | GC: 1.6ms)


Started POST "/game/request_new_board/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:31:06 -0400
Processing by GameController#request_new_board as */*
  Parameters: {"player_id"=>"51", "room_code"=>"SZW54T", "game"=>{}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:211:in `request_new_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:212:in `request_new_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:249:in `request_new_board'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "updated_at" = '2025-06-27 19:31:06.105751', "needs_new_board" = 1 WHERE "player_game_states"."id" = 28 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:249:in `request_new_board'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:249:in `request_new_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" != 51 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:252:in `all?'
  [1m[36mPlayerGameState Load (0.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 52 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mGameBoard Create (0.9ms)[0m  [1m[32mINSERT INTO "game_boards" ("room_code", "board_state", "created_at") VALUES ('SZW54T', '[[{"fruit":"🍎","value":4},{"fruit":"🍎","value":7},{"fruit":"🍎","value":5},{"fruit":"🍎","value":1},{"fruit":"🍎","value":3},{"fruit":"🍎","value":6},{"fruit":"🍎","value":9},{"fruit":"🍎","value":7},{"fruit":"🍎","value":9},{"fruit":"🍎","value":3}],[{"fruit":"🍎","value":2},{"fruit":"🍎","value":9},{"fruit":"🍎","value":5},{"fruit":"🍎","value":4},{"fruit":"🍎","value":8},{"fruit":"🍎","value":2},{"fruit":"🍎","value":5},{"fruit":"🍎","value":2},{"fruit":"🍎","value":7},{"fruit":"🍎","value":1}],[{"fruit":"🍎","value":7},{"fruit":"🍎","value":2},{"fruit":"🍎","value":1},{"fruit":"🍎","value":1},{"fruit":"🍎","value":9},{"fruit":"🍎","value":8},{"fruit":"🍎","value":5},{"fruit":"🍎","value":4},{"fruit":"🍎","value":5},{"fruit":"🍎","value":8}],[{"fruit":"🍎","value":6},{"fruit":"🍎","value":1},{"fruit":"🍎","value":1},{"fruit":"🍎","value":5},{"fruit":"🍎","value":4},{"fruit":"🍎","value":7},{"fruit":"🍎","value":5},{"fruit":"🍎","value":2},{"fruit":"🍎","value":5},{"fruit":"🍎","value":7}],[{"fruit":"🍎","value":1},{"fruit":"🍎","value":1},{"fruit":"🍎","value":4},{"fruit":"🍎","value":2},{"fruit":"🍎","value":7},{"fruit":"🍎","value":4},{"fruit":"🍎","value":2},{"fruit":"🍎","value":8},{"fruit":"🍎","value":9},{"fruit":"🍎","value":3}],[{"fruit":"🍎","value":8},{"fruit":"🍎","value":6},{"fruit":"🍎","value":5},{"fruit":"🍎","value":7},{"fruit":"🍎","value":3},{"fruit":"🍎","value":1},{"fruit":"🍎","value":7},{"fruit":"🍎","value":5},{"fruit":"🍎","value":9},{"fruit":"🍎","value":6}],[{"fruit":"🍎","value":1},{"fruit":"🍎","value":5},{"fruit":"🍎","value":2},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":5},{"fruit":"🍎","value":3},{"fruit":"🍎","value":5},{"fruit":"🍎","value":7},{"fruit":"🍎","value":6}],[{"fruit":"🍎","value":9},{"fruit":"🍎","value":4},{"fruit":"🍎","value":7},{"fruit":"🍎","value":1},{"fruit":"🍎","value":3},{"fruit":"🍎","value":2},{"fruit":"🍎","value":5},{"fruit":"🍎","value":4},{"fruit":"🍎","value":4},{"fruit":"🍎","value":3}],[{"fruit":"🍎","value":9},{"fruit":"🍎","value":5},{"fruit":"🍎","value":9},{"fruit":"🍎","value":9},{"fruit":"🍎","value":7},{"fruit":"🍎","value":4},{"fruit":"🍎","value":8},{"fruit":"🍎","value":3},{"fruit":"🍎","value":6},{"fruit":"🍎","value":2}],[{"fruit":"🍎","value":4},{"fruit":"🍎","value":7},{"fruit":"🍎","value":9},{"fruit":"🍎","value":8},{"fruit":"🍎","value":3},{"fruit":"🍎","value":6},{"fruit":"🍎","value":3},{"fruit":"🍎","value":5},{"fruit":"🍎","value":8},{"fruit":"🍎","value":5}]]', '2025-06-27 19:31:06.108298') RETURNING "id" /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:51:in `create_new_board_state'
  [1m[36mPlayer Load (0.5ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."id" = 51 LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:51:in `create_new_board_state'
  [1m[36mPlayerGameState Create (0.1ms)[0m  [1m[32mINSERT INTO "player_game_states" ("player_id", "room_code", "board_state", "score", "time_remaining", "created_at", "updated_at", "finished", "final_score", "needs_new_board") VALUES (51, 'SZW54T', '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}]]', 61, 90, '2025-06-27 19:31:06.114689', '2025-06-27 19:31:06.114689', NULL, NULL, 0) RETURNING "id" /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:51:in `create_new_board_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:51:in `create_new_board_state'
Completed 200 OK in 47ms (Views: 0.3ms | ActiveRecord: 2.7ms (10 queries, 0 cached) | GC: 1.3ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:31:09 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 3], [0, 4], [0, 5]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[0, 3], [0, 4], [0, 5]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}]]', "score" = 64, "updated_at" = '2025-06-27 19:31:09.081158' WHERE "player_game_states"."id" = 29 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 39ms (Views: 0.3ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 1.9ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:31:11 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 2], [1, 2]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[0, 2], [1, 2]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}]]', "score" = 66, "updated_at" = '2025-06-27 19:31:11.588611' WHERE "player_game_states"."id" = 29 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 25ms (Views: 0.1ms | ActiveRecord: 0.7ms (4 queries, 0 cached) | GC: 0.4ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:31:12 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[2, 0], [2, 1], [2, 2]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[2, 0], [2, 1], [2, 2]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}]]', "score" = 69, "updated_at" = '2025-06-27 19:31:12.626577' WHERE "player_game_states"."id" = 29 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 32ms (Views: 0.1ms | ActiveRecord: 0.6ms (4 queries, 0 cached) | GC: 0.9ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:31:14 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[1, 4], [1, 5]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[1, 4], [1, 5]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}]]', "score" = 71, "updated_at" = '2025-06-27 19:31:14.758933' WHERE "player_game_states"."id" = 29 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 29ms (Views: 0.1ms | ActiveRecord: 0.7ms (4 queries, 0 cached) | GC: 0.4ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:31:20 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[1, 3], [2, 3], [3, 3]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[1, 3], [2, 3], [3, 3]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}]]', "score" = 74, "updated_at" = '2025-06-27 19:31:20.729787' WHERE "player_game_states"."id" = 29 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 39ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.5ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:31:22 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[1, 1], [3, 1]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[1, 1], [3, 1]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}]]', "score" = 76, "updated_at" = '2025-06-27 19:31:22.803517' WHERE "player_game_states"."id" = 29 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 37ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 1.4ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:31:25 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[1, 7], [1, 8], [1, 9]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[1, 7], [1, 8], [1, 9]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}]]', "score" = 79, "updated_at" = '2025-06-27 19:31:25.303429' WHERE "player_game_states"."id" = 29 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 30ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.4ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:31:26 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[1, 6], [2, 6]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[1, 6], [2, 6]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}]]', "score" = 81, "updated_at" = '2025-06-27 19:31:26.206768' WHERE "player_game_states"."id" = 29 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 31ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.3ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:31:30 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[5, 6], [6, 6]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[5, 6], [6, 6]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}]]', "score" = 83, "updated_at" = '2025-06-27 19:31:30.306679' WHERE "player_game_states"."id" = 29 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 40ms (Views: 0.2ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 1.6ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:31:31 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[4, 4], [5, 4]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[4, 4], [5, 4]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}]]', "score" = 85, "updated_at" = '2025-06-27 19:31:31.235384' WHERE "player_game_states"."id" = 29 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 42ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.5ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:31:33 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[3, 2], [4, 2], [5, 2]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[3, 2], [4, 2], [5, 2]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}]]', "score" = 88, "updated_at" = '2025-06-27 19:31:34.016833' WHERE "player_game_states"."id" = 29 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 30ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.6ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:31:36 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[3, 0], [3, 4]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[3, 0], [3, 4]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}]]', "score" = 90, "updated_at" = '2025-06-27 19:31:36.319755' WHERE "player_game_states"."id" = 29 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 44ms (Views: 1.4ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 1.2ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:31:38 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 1], [4, 1], [4, 3]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[0, 1], [4, 1], [4, 3]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.6ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}]]', "score" = 93, "updated_at" = '2025-06-27 19:31:38.324195' WHERE "player_game_states"."id" = 29 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 41ms (Views: 0.2ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.7ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:31:40 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[4, 0], [5, 0], [6, 0]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[4, 0], [5, 0], [6, 0]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}]]', "score" = 96, "updated_at" = '2025-06-27 19:31:40.105474' WHERE "player_game_states"."id" = 29 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 39ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.7ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:31:42 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[7, 3], [8, 3]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[7, 3], [8, 3]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.3ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}]]', "score" = 98, "updated_at" = '2025-06-27 19:31:42.653874' WHERE "player_game_states"."id" = 29 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 41ms (Views: 0.3ms | ActiveRecord: 1.1ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:31:43 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[7, 4], [8, 4]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[7, 4], [8, 4]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}]]', "score" = 100, "updated_at" = '2025-06-27 19:31:43.277867' WHERE "player_game_states"."id" = 29 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 25ms (Views: 0.1ms | ActiveRecord: 0.6ms (4 queries, 0 cached) | GC: 0.4ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:31:44 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[8, 5], [9, 5]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[8, 5], [9, 5]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}]]', "score" = 102, "updated_at" = '2025-06-27 19:31:44.644251' WHERE "player_game_states"."id" = 29 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 42ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.3ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:31:45 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[4, 5], [5, 5], [6, 5]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[4, 5], [5, 5], [6, 5]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.7ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}]]', "score" = 105, "updated_at" = '2025-06-27 19:31:45.593923' WHERE "player_game_states"."id" = 29 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 1.0ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:31:46 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[4, 6], [4, 7]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[4, 6], [4, 7]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}]]', "score" = 107, "updated_at" = '2025-06-27 19:31:46.811596' WHERE "player_game_states"."id" = 29 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 38ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 1.0ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:31:47 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[5, 7], [6, 7]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[5, 7], [6, 7]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}]]', "score" = 109, "updated_at" = '2025-06-27 19:31:47.433789' WHERE "player_game_states"."id" = 29 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 29ms (Views: 0.1ms | ActiveRecord: 0.6ms (4 queries, 0 cached) | GC: 1.0ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:31:48 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[3, 6], [7, 6]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[3, 6], [7, 6]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}]]', "score" = 111, "updated_at" = '2025-06-27 19:31:48.406786' WHERE "player_game_states"."id" = 29 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 41ms (Views: 0.3ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.6ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:31:50 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[2, 8], [3, 8]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[2, 8], [3, 8]]}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}]]', "score" = 113, "updated_at" = '2025-06-27 19:31:50.076662' WHERE "player_game_states"."id" = 29 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 42ms (Views: 0.3ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 1.6ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:31:51 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[2, 7], [3, 7], [7, 7]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[2, 7], [3, 7], [7, 7]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}]]', "score" = 116, "updated_at" = '2025-06-27 19:31:51.436888' WHERE "player_game_states"."id" = 29 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 41ms (Views: 0.7ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.6ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:31:52 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[7, 9], [8, 9], [9, 9]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[7, 9], [8, 9], [9, 9]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":2,"collected":true}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true}]]', "score" = 119, "updated_at" = '2025-06-27 19:31:53.026248' WHERE "player_game_states"."id" = 29 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 39ms (Views: 0.2ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.6ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:31:54 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[7, 8], [8, 8]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[7, 8], [8, 8]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true}]]', "score" = 121, "updated_at" = '2025-06-27 19:31:54.111847' WHERE "player_game_states"."id" = 29 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 31ms (Views: 0.1ms | ActiveRecord: 0.8ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:31:55 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[7, 5], [8, 6]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[7, 5], [8, 6]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (1.0ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true}]]', "score" = 123, "updated_at" = '2025-06-27 19:31:55.527601' WHERE "player_game_states"."id" = 29 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 31ms (Views: 0.2ms | ActiveRecord: 1.2ms (4 queries, 0 cached) | GC: 0.4ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:31:56 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[3, 5], [9, 6]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[3, 5], [9, 6]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.2ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true}]]', "score" = 125, "updated_at" = '2025-06-27 19:31:56.971411' WHERE "player_game_states"."id" = 29 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 34ms (Views: 0.2ms | ActiveRecord: 0.9ms (4 queries, 0 cached) | GC: 0.2ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:31:57 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[0, 7], [8, 7]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[0, 7], [8, 7]]}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.3ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true}]]', "score" = 127, "updated_at" = '2025-06-27 19:31:57.987757' WHERE "player_game_states"."id" = 29 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 29ms (Views: 0.1ms | ActiveRecord: 0.6ms (4 queries, 0 cached) | GC: 0.0ms)


Started POST "/game/collect_apples/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:31:59 -0400
Processing by GameController#collect_apples as */*
  Parameters: {"positions"=>[[3, 9], [4, 9]], "player_id"=>"51", "room_code"=>"SZW54T", "game"=>{"positions"=>[[3, 9], [4, 9]]}}
  [1m[36mGameRoom Load (0.3ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:146:in `collect_apples'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:147:in `collect_apples'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mPlayerGameState Update (0.7ms)[0m  [1m[33mUPDATE "player_game_states" SET "board_state" = '[[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":1,"collected":true}],[{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":true}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":6,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":1,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":2,"collected":true},{"fruit":"🍎","value":5,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":3,"collected":true}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":true},{"fruit":"🍎","value":7,"collected":true},{"fruit":"🍎","value":4,"collected":true},{"fruit":"🍎","value":8,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":2,"collected":true}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":true},{"fruit":"🍎","value":3,"collected":true},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":true}]]', "score" = 129, "updated_at" = '2025-06-27 19:31:59.249498' WHERE "player_game_states"."id" = 29 /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='collect_apples',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:73:in `collect_apples'
Completed 200 OK in 43ms (Views: 0.3ms | ActiveRecord: 1.3ms (4 queries, 0 cached) | GC: 1.4ms)


Started POST "/game/request_new_board/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:32:00 -0400
Processing by GameController#request_new_board as */*
  Parameters: {"player_id"=>"51", "room_code"=>"SZW54T", "game"=>{}}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:211:in `request_new_board'
  [1m[36mPlayer Load (0.1ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:212:in `request_new_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:249:in `request_new_board'
  [1m[36mPlayerGameState Update (0.4ms)[0m  [1m[33mUPDATE "player_game_states" SET "updated_at" = '2025-06-27 19:32:00.304471', "needs_new_board" = 1 WHERE "player_game_states"."id" = 29 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:249:in `request_new_board'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:249:in `request_new_board'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" != 51 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:252:in `all?'
  [1m[36mPlayerGameState Load (0.0ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 52 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mGameBoard Create (0.4ms)[0m  [1m[32mINSERT INTO "game_boards" ("room_code", "board_state", "created_at") VALUES ('SZW54T', '[[{"fruit":"🍎","value":8},{"fruit":"🍎","value":9},{"fruit":"🍎","value":8},{"fruit":"🍎","value":4},{"fruit":"🍎","value":9},{"fruit":"🍎","value":6},{"fruit":"🍎","value":8},{"fruit":"🍎","value":8},{"fruit":"🍎","value":5},{"fruit":"🍎","value":4}],[{"fruit":"🍎","value":9},{"fruit":"🍎","value":4},{"fruit":"🍎","value":1},{"fruit":"🍎","value":9},{"fruit":"🍎","value":9},{"fruit":"🍎","value":4},{"fruit":"🍎","value":5},{"fruit":"🍎","value":1},{"fruit":"🍎","value":2},{"fruit":"🍎","value":3}],[{"fruit":"🍎","value":5},{"fruit":"🍎","value":3},{"fruit":"🍎","value":6},{"fruit":"🍎","value":7},{"fruit":"🍎","value":3},{"fruit":"🍎","value":1},{"fruit":"🍎","value":2},{"fruit":"🍎","value":8},{"fruit":"🍎","value":6},{"fruit":"🍎","value":9}],[{"fruit":"🍎","value":6},{"fruit":"🍎","value":5},{"fruit":"🍎","value":9},{"fruit":"🍎","value":9},{"fruit":"🍎","value":4},{"fruit":"🍎","value":5},{"fruit":"🍎","value":3},{"fruit":"🍎","value":8},{"fruit":"🍎","value":4},{"fruit":"🍎","value":5}],[{"fruit":"🍎","value":4},{"fruit":"🍎","value":4},{"fruit":"🍎","value":8},{"fruit":"🍎","value":8},{"fruit":"🍎","value":9},{"fruit":"🍎","value":7},{"fruit":"🍎","value":7},{"fruit":"🍎","value":5},{"fruit":"🍎","value":7},{"fruit":"🍎","value":8}],[{"fruit":"🍎","value":8},{"fruit":"🍎","value":7},{"fruit":"🍎","value":5},{"fruit":"🍎","value":5},{"fruit":"🍎","value":7},{"fruit":"🍎","value":9},{"fruit":"🍎","value":7},{"fruit":"🍎","value":7},{"fruit":"🍎","value":5},{"fruit":"🍎","value":7}],[{"fruit":"🍎","value":4},{"fruit":"🍎","value":1},{"fruit":"🍎","value":9},{"fruit":"🍎","value":6},{"fruit":"🍎","value":6},{"fruit":"🍎","value":7},{"fruit":"🍎","value":4},{"fruit":"🍎","value":8},{"fruit":"🍎","value":5},{"fruit":"🍎","value":2}],[{"fruit":"🍎","value":7},{"fruit":"🍎","value":2},{"fruit":"🍎","value":6},{"fruit":"🍎","value":9},{"fruit":"🍎","value":2},{"fruit":"🍎","value":4},{"fruit":"🍎","value":5},{"fruit":"🍎","value":3},{"fruit":"🍎","value":8},{"fruit":"🍎","value":2}],[{"fruit":"🍎","value":6},{"fruit":"🍎","value":5},{"fruit":"🍎","value":3},{"fruit":"🍎","value":1},{"fruit":"🍎","value":8},{"fruit":"🍎","value":2},{"fruit":"🍎","value":1},{"fruit":"🍎","value":5},{"fruit":"🍎","value":8},{"fruit":"🍎","value":5}],[{"fruit":"🍎","value":3},{"fruit":"🍎","value":8},{"fruit":"🍎","value":1},{"fruit":"🍎","value":1},{"fruit":"🍎","value":5},{"fruit":"🍎","value":3},{"fruit":"🍎","value":1},{"fruit":"🍎","value":7},{"fruit":"🍎","value":4},{"fruit":"🍎","value":5}]]', '2025-06-27 19:32:00.306848') RETURNING "id" /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/game_board.rb:12:in `create_new_board'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:51:in `create_new_board_state'
  [1m[36mPlayer Load (0.4ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."id" = 51 LIMIT 1 /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:51:in `create_new_board_state'
  [1m[36mPlayerGameState Create (0.1ms)[0m  [1m[32mINSERT INTO "player_game_states" ("player_id", "room_code", "board_state", "score", "time_remaining", "created_at", "updated_at", "finished", "final_score", "needs_new_board") VALUES (51, 'SZW54T', '[[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":4,"collected":false}],[{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":3,"collected":false}],[{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":8,"collected":false}],[{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":7,"collected":false}],[{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":9,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false}],[{"fruit":"🍎","value":6,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":2,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":5,"collected":false}],[{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":8,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":5,"collected":false},{"fruit":"🍎","value":3,"collected":false},{"fruit":"🍎","value":1,"collected":false},{"fruit":"🍎","value":7,"collected":false},{"fruit":"🍎","value":4,"collected":false},{"fruit":"🍎","value":5,"collected":false}]]', 129, 90, '2025-06-27 19:32:00.310194', '2025-06-27 19:32:00.310194', NULL, NULL, 0) RETURNING "id" /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:51:in `create_new_board_state'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='request_new_board',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:51:in `create_new_board_state'
Completed 200 OK in 34ms (Views: 0.2ms | ActiveRecord: 2.0ms (10 queries, 0 cached) | GC: 1.8ms)


Started POST "/game/player_finished/SZW54T?player_id=51" for 127.0.0.1 at 2025-06-27 15:32:01 -0400
Processing by GameController#player_finished as */*
  Parameters: {"player_id"=>"51", "room_code"=>"SZW54T", "game"=>{}}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:179:in `player_finished'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 AND "players"."id" = 51 LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:180:in `player_finished'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:187:in `player_finished'
  [1m[36mPlayerGameState Update (0.5ms)[0m  [1m[33mUPDATE "player_game_states" SET "updated_at" = '2025-06-27 19:32:01.810266', "finished" = 1, "final_score" = 129 WHERE "player_game_states"."id" = 30 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:187:in `player_finished'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:187:in `player_finished'
  [1m[36mPlayer Load (0.0ms)[0m  [1m[34mSELECT "players".* FROM "players" WHERE "players"."game_room_id" = 30 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:190:in `all?'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 51 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
  [1m[36mPlayerGameState Load (0.1ms)[0m  [1m[34mSELECT "player_game_states".* FROM "player_game_states" WHERE "player_game_states"."player_id" = 52 AND "player_game_states"."room_code" = 'SZW54T' ORDER BY "player_game_states"."created_at" DESC LIMIT 1 /*action='player_finished',application='FruitBox',controller='game'*/[0m
  ↳ app/models/player_game_state.rb:9:in `current_state'
Completed 200 OK in 41ms (Views: 0.1ms | ActiveRecord: 1.1ms (7 queries, 0 cached) | GC: 0.0ms)


Started GET "/game/status/SZW54T" for 127.0.0.1 at 2025-06-27 15:32:06 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"SZW54T"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 38ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/SZW54T" for 127.0.0.1 at 2025-06-27 15:32:09 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"SZW54T"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 35ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/SZW54T" for 127.0.0.1 at 2025-06-27 15:32:12 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"SZW54T"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 23ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.8ms)


Started GET "/game/status/SZW54T" for 127.0.0.1 at 2025-06-27 15:32:15 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"SZW54T"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 37ms (Views: 0.1ms | ActiveRecord: 0.3ms (4 queries, 2 cached) | GC: 0.5ms)


Started GET "/game/status/SZW54T" for 127.0.0.1 at 2025-06-27 15:32:18 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"SZW54T"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 32ms (Views: 0.1ms | ActiveRecord: 0.3ms (4 queries, 2 cached) | GC: 0.3ms)


Started GET "/game/status/SZW54T" for 127.0.0.1 at 2025-06-27 15:32:21 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"SZW54T"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 40ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/SZW54T" for 127.0.0.1 at 2025-06-27 15:32:24 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"SZW54T"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 39ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.5ms)


Started GET "/game/status/SZW54T" for 127.0.0.1 at 2025-06-27 15:32:27 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"SZW54T"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 95ms (Views: 0.3ms | ActiveRecord: 0.1ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/SZW54T" for 127.0.0.1 at 2025-06-27 15:32:30 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"SZW54T"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 24ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/SZW54T" for 127.0.0.1 at 2025-06-27 15:32:33 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"SZW54T"}
  [1m[36mGameRoom Load (0.2ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 21ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


Started GET "/game/status/SZW54T" for 127.0.0.1 at 2025-06-27 15:32:36 -0400
Processing by GameController#game_status as */*
  Parameters: {"room_code"=>"SZW54T"}
  [1m[36mGameRoom Load (0.1ms)[0m  [1m[34mSELECT "game_rooms".* FROM "game_rooms" WHERE "game_rooms"."room_code" = 'SZW54T' LIMIT 1 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:85:in `game_status'
Game status check for room: test room
Room status: playing
  [1m[36mPlayer Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30 /*action='game_status',application='FruitBox',controller='game'*/[0m
  ↳ app/controllers/game_controller.rb:89:in `game_status'
Players count: 2
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30[0m
  ↳ app/controllers/game_controller.rb:93:in `game_status'
  [1m[36mCACHE Player Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "players" WHERE "players"."game_room_id" = 30[0m
  ↳ app/models/game_room.rb:16:in `can_start?'
Returning JSON: {:status=>"playing", :players_count=>2, :max_players=>2, :can_start=>true}
Completed 200 OK in 38ms (Views: 0.1ms | ActiveRecord: 0.2ms (4 queries, 2 cached) | GC: 0.0ms)


